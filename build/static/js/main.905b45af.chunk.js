(this.webpackJsonpendulzatefrontend=this.webpackJsonpendulzatefrontend||[]).push([[0],{144:function(e,t,a){},224:function(e,t,a){},243:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),o=a(25),r=a.n(o),n=a(30),i=a(65),d=a(21),l=a(132),j=a(48),u=a(106),b=a(127),h=a(22),m="ESTADO_REQUEST_EXITO",p="ESTADO_REQUEST_NO_AUTORIZADO",O="ESTADO_REQUEST_NO_EXISTE",x="ESTADO_REQUEST_ERROR_SERVIDOR",g="ESTADO_REQUEST_DESCONOCIDO",v={init_estadoRequest:0,init_request:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(h.a)(Object(h.a)({},e),{},{init_estadoRequest:t.payload,init_request:!0});case p:case O:case x:case g:return Object(h.a)(Object(h.a)({},e),{},{init_estadoRequest:t.payload,init_request:!1});default:return e}},N="MOSTRAR_FORMULARIO_LOGIN",C="OBTENER_LOGIN",y={mostrarFormularioLogin:!1,cargando:!1,LoginUsuid:localStorage.getItem("usuid"),LoginUsuario:{}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(h.a)(Object(h.a)({},e),{},{mostrarFormularioLogin:t.payload});case C:return Object(h.a)(Object(h.a)({},e),{},{LoginUsuid:t.payload.usuid,LoginUsuario:t.payload.usuario});default:return e}},P="COMUNES_CARGANDO_PAGINA",S="COMUNES_MOSTRAR_MENU",k="COMUNES_CARGANDO_PAGINA_INICIO",A={ComunesCargandoPagina:!0,ComunesCargandoPaginaInicio:!0,ComunesMostrarMenu:!1,ComunesOcultarMenu:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(h.a)(Object(h.a)({},e),{},{ComunesCargandoPaginaInicio:t.payload});case P:return Object(h.a)(Object(h.a)({},e),{},{ComunesCargandoPagina:t.payload});case S:return Object(h.a)(Object(h.a)({},e),{},{ComunesMostrarMenu:t.payload.mostrarmenu,ComunesOcultarMenu:t.payload.ocultarmenu});default:return e}},D=function(e){return Object(j.b)({router:Object(i.b)(e),estadoRequest:f,login:T,comunes:E})},w=(0,a(35).createBrowserHistory)(),R=Object(u.a)(w),V=Object(l.a)(),M=[b.a,V,R],I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.c;var _=a(20),B=a.n(_),G=a(29),U=a(7),L=a(8),F=a(9),H=a(11),J=a(10),z=(a(144),a.p+"static/media/bg-01.a13f3587.jpg"),K={api:"http://backend-endulzate.gavsistemas.com/",apiTicket:"https://pre-back.leadsmartview.com/",basename:"/",produccion:!0},Q=function(e){return{type:P,payload:e}},q=function(e){return{type:k,payload:e}},$=function(e){return function(t){t(Q(!1)),t(200===e?{type:m,payload:e}:401===e?{type:p,payload:e}:404===e?{type:O,payload:e}:500===e?{type:x,payload:e}:{type:g,payload:e})}},W=function(e){return function(){var t=Object(G.a)(B.a.mark((function t(a,s){var c,o;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=!1,o="",a(Q(!0)),a(q(!0)),t.next=6,fetch(K.api+"api/versiondos/login",{mode:"cors",method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(){var e=Object(G.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a($(t.status));case 2:return e.abrupt("return",t.json());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){!0===s().estadoRequest.init_request?(c=t.respuesta,o=t.mensaje,!0===t.respuesta?(localStorage.setItem("usuario",e.usuario),localStorage.setItem("contrasenia",e.contrasenia),localStorage.setItem("usuid",t.datos.usuid),localStorage.setItem("usutoken",t.datos.usutoken),localStorage.setItem("usuusuario",t.datos.usuusuario),localStorage.setItem("pernombre",t.datos.pernombre),a({type:C,payload:{usuid:t.datos.usuid,usuario:t.datos}})):a({type:C,payload:{usuid:null,usuario:{}}})):(c=!1,o="Lo sentimos, login corrupto",a({type:C,payload:{usuid:null,usuario:{}}}))})).catch((function(e){c=!1,o=e,console.log(e),a({type:C,payload:{usuid:null,usuario:{}}})}));case 6:return t.abrupt("return",{respuesta:c,mensaje:o});case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},X=a(72),Z=a(0),Y=function(e){var t=Object(n.d)(),a=Object(X.useToasts)().addToast,s=function(){var s=Object(G.a)(B.a.mark((function s(){var c;return B.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t(W({usuario:e.usuario,contrasenia:e.contrasenia}));case 2:!0===(c=s.sent).respuesta?(a(c.mensaje,{appearance:"success",autoDismiss:!0}),window.location.reload(!0)):a(c.mensaje,{appearance:"error",autoDismiss:!0}),console.log(c);case 5:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return Object(Z.jsx)("div",{class:"container-login100-form-btn",children:Object(Z.jsx)("button",{type:"submit",class:"login100-form-btn",onClick:s,children:"Iniciar Sesi\xf3ns"})})},ee=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={input_usuario:"",input_contrasenia:""},e}return Object(F.a)(a,[{key:"capturarCambioInput",value:function(e){var t=e.target.name;this.setState(Object(U.a)({},t,e.target.value))}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{children:Object(Z.jsx)("div",{class:"limiter",children:Object(Z.jsx)("div",{class:"container-login100",children:Object(Z.jsxs)("div",{class:"wrap-login100",children:[Object(Z.jsxs)("div",{class:"login100-form validate-form",children:[Object(Z.jsx)("span",{class:"login100-form-title p-b-34",children:"Endulzate | Iniciar Sesi\xf3n"}),Object(Z.jsxs)("div",{class:"wrap-input100 rs1-wrap-input100 validate-input m-b-20","data-validate":"Type user name",children:[Object(Z.jsx)("input",{id:"first-name",class:"input100",type:"text",name:"input_usuario",placeholder:"User name",onChange:function(t){return e.capturarCambioInput(t)}}),Object(Z.jsx)("span",{class:"focus-input100"})]}),Object(Z.jsxs)("div",{class:"wrap-input100 rs2-wrap-input100 validate-input m-b-20","data-validate":"Type password",children:[Object(Z.jsx)("input",{class:"input100",type:"password",name:"input_contrasenia",placeholder:"Contrase\xf1a",onChange:function(t){return e.capturarCambioInput(t)}}),Object(Z.jsx)("span",{class:"focus-input100"})]}),Object(Z.jsx)(Y,{usuario:this.state.input_usuario,contrasenia:this.state.input_contrasenia}),Object(Z.jsx)("div",{class:"w-full text-center p-t-27 p-b-239",children:Object(Z.jsx)("a",{href:"#",class:"txt2",children:"Usuario / contrase\xf1a?"})})]}),Object(Z.jsx)("div",{class:"login100-more",style:{backgroundImage:"url("+z+")"}})]})})})})}}]),a}(s.Component),te=a(18),ae=a(2),se=a(5),ce=a(15),oe=a(32),re=(a(60),a(94)),ne=a.n(re),ie=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){return Object(Z.jsx)(ne.a,{type:"ThreeDots",color:"#00BFFF",height:50,width:50,timeout:3e3})}}]),a}(c.a.Component),de=a(14),le=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={totalCerro:"",observacionesCierre:"",colorToastDanger:"rgba(205,55,55,0.7)",colorToastSuccess:"rgba(76,208,76,0.7)",imprimir:0},e.getCambioTotalCerro=e.getCambioTotalCerro.bind(Object(ae.a)(e)),e.getCambioObservacionCierre=e.getCambioObservacionCierre.bind(Object(ae.a)(e)),e.activarConfirmacion=e.activarConfirmacion.bind(Object(ae.a)(e)),e.sendCierreCajaVenta=e.sendCierreCajaVenta.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"getCambioTotalCerro",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({totalCerro:a})}},{key:"getCambioObservacionCierre",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({observacionesCierre:a})}},{key:"activarConfirmacion",value:function(e){var t,a,s;this.setState({imprimir:e}),this.props.modalCerrarCajaVenta(),t="CERRAR CAJA",a="Al confirmar esta acci\xf3n no podremos realizar mas ventas, hasta volver abrir caja",s=this.sendCierreCajaVenta,Object(oe.confirmAlert)({customUI:function(e){var c=e.onClose;return Object(Z.jsx)("div",{className:"page-content container-fluid",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h1",{children:t}),Object(Z.jsx)("p",{children:a}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",onClick:function(){s(),c()},className:"btn waves-effect waves-light btn-block btn-info",children:"ACEPTAR"})}),Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",onClick:function(){c()},className:"btn waves-effect waves-light btn-block btn-danger",children:"CANCELAR"})})]})})]})})})})})}})}},{key:"sendCierreCajaVenta",value:function(){var e=this;de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"CERRANDO CAJA"})}),{position:"top-right"}).then((function(){fetch(K.api+"/caja/venta/cierre",{method:"POST",body:JSON.stringify({idCajaVenta:e.props.idCajaVenta,totalCerro:e.state.totalCerro,observacionCierre:e.state.observacionesCierre}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),t.respuesta){if(de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"LA CAJA SE CERRO SATISFACTORIAMENTE"})}),{position:"top-right"}),e.setState({totalCerro:"",observacionesCierre:""}),1==e.state.imprimir){var a="http://localhost/api/imprimir/cierreCaja/"+t.idCaja;de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"IMPRIMIENDO CIERRE DE CAJA"})}),{position:"top-right"}).then((function(){fetch(a).then((function(e){return e.json()})).then((function(e){e.respuesta?de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"COPIA DE CIERRE DE CAJA FINALIZADA"})}),{position:"top-right"}):de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"NO SE PUDO CONECTAR CON LA IMPRESORA"})}),{position:"top-right"})}))}))}e.props.getEstadoCajaVent()}else de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"HUBO UN PROBLEMA AL MOMENTO DE CERRAR CAJA"})}),{position:"top-right"})}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"SUCURSAL"}),Object(Z.jsxs)("h4",{className:"card-title",children:[this.props.sucursalNombre," "]})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"USUARIO CONECTADO"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.props.usuarioNombre," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"DINERO APERTURADO"}),Object(Z.jsxs)("h4",{className:"card-title",children:[this.props.totalApertura," "]})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"DINERO CON EL QUE SE APERTURO"}),Object(Z.jsxs)("h4",{className:"card-title",children:[this.props.totalAperturo," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"DINERO DE CIERRE DE CAJA"}),this.props.loadModalCierreCajaVenta?Object(Z.jsx)(ie,{}):Object(Z.jsxs)("h4",{className:"card-title",children:[this.props.totalCierre," "]})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Dinero para cerrar caja"}),Object(Z.jsx)("input",{type:"text",className:"form-control",onChange:this.getCambioTotalCerro,value:this.state.totalCerro,autoFocus:!0})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Comentario (opcional)"}),Object(Z.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Comentario",onChange:this.getCambioObservacionCierre,value:this.state.observacionesCierre})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsx)("h4",{className:"card-title",children:"Si el dinero en la caja no cuadra con el del sistema, ingresar sin preocupaciones, dejando un comentario del asunto o acci\xf3n realizada"})})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-danger btn-lg",id:"crearProducto",onClick:function(){return e.activarConfirmacion(1)},children:"CERRAR E IMPRIMIR CAJA"})}),Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-danger btn-lg",onClick:function(){return e.activarConfirmacion(0)},children:"CERRAR CAJA"})})]})})]})})})}}]),a}(s.Component),je=a.p+"static/media/logo-icon.aa66cde1.png",ue=a.p+"static/media/logo-light-icon.99704e51.png",be=a.p+"static/media/logo-text.ebec6fa3.png",he=a.p+"static/media/logo-light-text.981f470a.png",me=a.p+"static/media/1.af3753e4.jpg",pe=function(){var e=Object(n.d)();return Object(Z.jsxs)("a",{onClick:function(){return e(function(){var e=Object(G.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("usuario"),localStorage.removeItem("contrasenia"),localStorage.removeItem("usuid"),localStorage.removeItem("usutoken"),localStorage.removeItem("usuusuario"),localStorage.removeItem("pernombre"),t({type:C,payload:{usuid:null,usuario:{}}});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},className:"dropdown-item",href:"#",children:[Object(Z.jsx)("i",{className:"fa fa-power-off mr-1 ml-1"}),"Salir"]})},Oe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={idCajaVenta:"",sucursalNombre:"",usuarioNombre:"",totalApertura:"",totalAperturo:"",observacionesApertura:"",totalCierre:"",registrarGastoIngreso:"",motivoGastoIngreso:"",estadoCajaVenta:!0,cerrarAbrirCajaVenta:!1,txt_btn_abriCerrarCaja:"ABRIR CAJA",estadoModalAbrirCajaVenta:!1,estadoModalCerrarCajaVenta:!1,estadoModalRegistrarGasto:!1,estadoModalRegistrarIngreso:!1,estadoToast:!1,mensajeToast:"",colorToastDanger:"rgba(205,55,55,0.7)",colorToastSuccess:"rgba(76,208,76,0.7)",colorToast:"",loadModalCierreCajaVenta:!0},e.modalAbrirCajaVenta=e.modalAbrirCajaVenta.bind(Object(ae.a)(e)),e.modalCerrarCajaVenta=e.modalCerrarCajaVenta.bind(Object(ae.a)(e)),e.getEstadoCajaVent=e.getEstadoCajaVent.bind(Object(ae.a)(e)),e.abrirCerrarCajaVenta=e.abrirCerrarCajaVenta.bind(Object(ae.a)(e)),e.getCambioTotalAperturo=e.getCambioTotalAperturo.bind(Object(ae.a)(e)),e.getCambioObservacion=e.getCambioObservacion.bind(Object(ae.a)(e)),e.sendAbrirCaja=e.sendAbrirCaja.bind(Object(ae.a)(e)),e.sendRegistrarGasto=e.sendRegistrarGasto.bind(Object(ae.a)(e)),e.modalRegistrarGasto=e.modalRegistrarGasto.bind(Object(ae.a)(e)),e.getCambioGastoIngreso=e.getCambioGastoIngreso.bind(Object(ae.a)(e)),e.getCambioMotivoGastoIngreso=e.getCambioMotivoGastoIngreso.bind(Object(ae.a)(e)),e.sendRegistrarIngreso=e.sendRegistrarIngreso.bind(Object(ae.a)(e)),e.modalRegistrarIngreso=e.modalRegistrarIngreso.bind(Object(ae.a)(e)),e.activarToast=e.activarToast.bind(Object(ae.a)(e)),e.getTotalCierreCajaVenta=e.getTotalCierreCajaVenta.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.getEstadoCajaVent()}},{key:"getEstadoCajaVent",value:function(){var e=this;fetch(K.api+"/caja/venta/estado",{method:"POST",body:JSON.stringify({}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){var a;console.log(t);var s=document.querySelector("#btn_abrirCerrarCaja");if(1==t.respuesta){s.classList.remove("btn-primary"),s.classList.add("btn-danger"),a="CERRAR CAJA";var c=t.cajaVenta;e.setState({idCajaVenta:c.idCajaVenta,totalAperturo:c.totalAperturo,totalCierre:c.totalCierre})}else s.classList.remove("btn-danger"),s.classList.add("btn-primary"),a="ABRIR CAJA",console.log("abrirrrr caja");e.setState({cerrarAbrirCajaVenta:t.respuesta,usuarioNombre:t.nombreUsuario,sucursalNombre:t.sucursalNombre,totalApertura:t.totalApertura,estadoCajaVenta:!0,txt_btn_abriCerrarCaja:a,loadModalCierreCajaVenta:!1})}))}},{key:"getTotalCierreCajaVenta",value:function(){var e=this;fetch(K.api+"/caja/venta/estado/totalcierre",{method:"POST",body:JSON.stringify({idCajaVenta:this.state.idCajaVenta}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({totalCierre:t.totalCierre,loadModalCierreCajaVenta:!1})}))}},{key:"abrirCerrarCajaVenta",value:function(){console.log(this.state.cerrarAbrirCajaVenta),this.state.cerrarAbrirCajaVenta?this.modalCerrarCajaVenta():this.modalAbrirCajaVenta()}},{key:"modalAbrirCajaVenta",value:function(){var e,t=document.querySelector("#btn_abrirCerrarCaja");this.state.estadoModalAbrirCajaVenta?(t.classList.remove("btn-info"),t.classList.add("btn-primary"),e="ABRIR CAJA"):(t.classList.remove("btn-primary"),t.classList.add("btn-info"),e="CONFIGURANDO CAJA"),this.setState({estadoModalAbrirCajaVenta:!this.state.estadoModalAbrirCajaVenta,txt_btn_abriCerrarCaja:e})}},{key:"modalCerrarCajaVenta",value:function(){var e;this.getTotalCierreCajaVenta();var t=document.querySelector("#btn_abrirCerrarCaja");this.state.estadoModalCerrarCajaVenta?(t.classList.remove("btn-info"),t.classList.add("btn-danger"),e="CERRAR CAJA"):(t.classList.remove("btn-danger"),t.classList.add("btn-info"),e="VISUALIZANDO CAJA"),this.setState({estadoModalCerrarCajaVenta:!this.state.estadoModalCerrarCajaVenta,txt_btn_abriCerrarCaja:e,loadModalCierreCajaVenta:!0})}},{key:"getCambioTotalAperturo",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({totalAperturo:a})}},{key:"getCambioObservacion",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({observacionesApertura:a})}},{key:"sendAbrirCaja",value:function(e){var t=this;this.modalAbrirCajaVenta(),de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"APERTURANDO CAJA"})}),{position:"top-right"}).then((function(){fetch(K.api+"/caja/venta/aperturar",{method:"POST",body:JSON.stringify({observacionesApertura:t.state.observacionesApertura,totalApertura:t.state.totalApertura,totalAperturo:t.state.totalAperturo}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(a){if(a.respuesta){if(de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"LA APERTURA DE CAJA FUE EXITOSA"})}),{position:"top-right"}),t.setState({totalAperturo:"",observacionesApertura:""}),1==e){var s="http://localhost/api/imprimir/aperturarCaja/"+a.idCaja;de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"IMPRIMIENDO APERTURA DE CAJA"})}),{position:"top-right"}).then((function(){fetch(s).then((function(e){return e.json()})).then((function(e){e.respuesta?de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"COPIA DE APERTURA DE CAJA FINALIZADA"})}),{position:"top-right"}):de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"NO SE PUDO CONECTAR CON LA IMPRESORA"})}),{position:"top-right"})}))}))}t.getEstadoCajaVent()}else t.modalAbrirCajaVenta(),de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"HUBO UN PROBLEMA AL MOMENTO DE APERTURAR CAJA"})}),{position:"top-right"})}))}))}},{key:"modalRegistrarGasto",value:function(){console.log(this.state.estadoModalRegistrarGasto),this.setState({estadoModalRegistrarGasto:!this.state.estadoModalRegistrarGasto})}},{key:"modalRegistrarIngreso",value:function(){this.setState({estadoModalRegistrarIngreso:!this.state.estadoModalRegistrarIngreso})}},{key:"getCambioGastoIngreso",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({registrarGastoIngreso:a})}},{key:"getCambioMotivoGastoIngreso",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({motivoGastoIngreso:a})}},{key:"sendRegistrarGasto",value:function(){var e=this;console.log("Datos enviados:"),console.log(this.state.idCajaVenta),console.log(this.state.registrarGastoIngreso),console.log(this.state.motivoGastoIngreso),fetch(K.api+"/gasto/registrar",{method:"POST",body:JSON.stringify({idCajaVenta:this.state.idCajaVenta,gasto:this.state.registrarGastoIngreso,motivo:this.state.motivoGastoIngreso}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){console.log(t),t.respuesta?(e.activarToast("El gasto fue registrado correctamente",e.state.colorToastSuccess),e.setState({estadoModalRegistrarGasto:!e.state.estadoModalRegistrarGasto,registrarGastoIngreso:"",motivoGastoIngreso:""})):e.activarToast("Hubo un problema al momento de registrar el gasto",e.state.colorToastDanger)}))}},{key:"sendRegistrarIngreso",value:function(){var e=this;fetch(K.api+"/ingreso/registrar",{method:"POST",body:JSON.stringify({idCajaVenta:this.state.idCajaVenta,ingreso:this.state.registrarGastoIngreso,motivo:this.state.motivoGastoIngreso}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){console.log(t),t.respuesta?(e.activarToast("El ingreso fue registrado correctamente",e.state.colorToastSuccess),e.setState({estadoModalRegistrarIngreso:!e.state.estadoModalRegistrarIngreso,registrarGastoIngreso:"",motivoGastoIngreso:""})):e.activarToast("Hubo un problema al momento de registrar el ingreso",e.state.colorToastDanger)}))}},{key:"activarToast",value:function(e,t){this.setState({mensajeToast:e,colorToast:t,estadoToast:!0})}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("header",{className:"topbar",children:[Object(Z.jsxs)("nav",{className:"navbar top-navbar navbar-expand-md navbar-dark",children:[Object(Z.jsxs)("div",{className:"navbar-header",children:[Object(Z.jsx)("a",{className:"nav-toggler waves-effect waves-light d-block d-md-none",href:"#",children:Object(Z.jsx)("i",{className:"ti-menu ti-close"})}),Object(Z.jsxs)("a",{className:"navbar-brand d-block d-md-none",href:"#",children:[Object(Z.jsxs)("b",{className:"logo-icon",children:[Object(Z.jsx)("i",{className:"wi wi-sunset"}),Object(Z.jsx)("img",{src:je,alt:"homepage",className:"dark-logo"}),Object(Z.jsx)("img",{src:ue,alt:"homepage",className:"light-logo"})]}),Object(Z.jsxs)("span",{className:"logo-text",children:[Object(Z.jsx)("img",{src:be,alt:"homepage",className:"dark-logo"}),Object(Z.jsx)("img",{src:he,className:"light-logo",alt:"homepage"})]})]}),Object(Z.jsx)("div",{className:"d-none d-md-block text-center",children:Object(Z.jsxs)("a",{className:"sidebartoggler waves-effect waves-light d-flex align-items-center side-start",href:"#","data-sidebartype":"mini-sidebar",children:[Object(Z.jsx)("i",{className:"mdi mdi-menu"}),Object(Z.jsx)("span",{className:"navigation-text ml-3",children:" Navegador"})]})}),Object(Z.jsx)("a",{className:"topbartoggler d-block d-md-none waves-effect waves-light",href:"#","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(Z.jsx)("i",{className:"ti-more"})})]}),Object(Z.jsxs)("div",{className:"navbar-collapse collapse",id:"navbarSupportedContent",children:[Object(Z.jsx)("ul",{className:"navbar-nav float-left mr-auto",children:Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsxs)("a",{className:"nav-link navbar-brand d-none d-md-block",href:"#",children:[Object(Z.jsxs)("b",{className:"logo-icon",children:[Object(Z.jsx)("i",{className:"wi wi-sunset"}),Object(Z.jsx)("img",{src:je,alt:"homepage",className:"dark-logo"}),Object(Z.jsx)("img",{src:ue,alt:"homepage",className:"light-logo"})]}),Object(Z.jsxs)("span",{className:"logo-text",children:[Object(Z.jsx)("img",{src:be,alt:"homepage",className:"dark-logo"}),Object(Z.jsx)("img",{src:he,className:"light-logo",alt:"homepage"})]})]})})}),Object(Z.jsxs)("ul",{className:"navbar-nav float-right",children:[Object(Z.jsx)("li",{className:"nav-item ",children:Object(Z.jsx)("div",{className:"nav-link dropdown-toggle waves-effect waves-dark","aria-expanded":"false",children:Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-rounded btn-warning",onClick:this.modalRegistrarIngreso,children:"Registrar Ingreso"})})}),Object(Z.jsx)("li",{className:"nav-item ",children:Object(Z.jsx)("div",{className:"nav-link dropdown-toggle waves-effect waves-dark","aria-expanded":"false",children:Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-rounded btn-warning",onClick:this.modalRegistrarGasto,children:"Registrar Gasto"})})}),Object(Z.jsx)("li",{className:"nav-item dropdown mega-dropdown",children:Object(Z.jsx)("div",{className:"nav-link dropdown-toggle waves-effect waves-dark","aria-expanded":"false",children:1==this.state.estadoCajaVenta?Object(Z.jsx)("button",{type:"button",id:"btn_abrirCerrarCaja",className:"btn waves-effect waves-light btn-rounded btn-primary",onClick:this.abrirCerrarCajaVenta,children:this.state.txt_btn_abriCerrarCaja}):Object(Z.jsx)("button",{children:"asd"})})}),Object(Z.jsxs)("li",{className:"nav-item dropdown",children:[Object(Z.jsxs)("a",{className:"nav-link dropdown-toggle waves-effect waves-dark pro-pic",href:"#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(Z.jsx)("img",{src:me,alt:"user",className:"rounded-circle",width:"31"}),Object(Z.jsx)("span",{className:"ml-2 user-text font-medium",children:"Endulzate"}),Object(Z.jsx)("span",{className:"fas fa-angle-down ml-2 user-text"})]}),Object(Z.jsxs)("div",{className:"dropdown-menu dropdown-menu-right user-dd animated flipInY",children:[Object(Z.jsxs)("div",{className:"d-flex no-block align-items-center p-3 mb-2 border-bottom",children:[Object(Z.jsx)("div",{className:"",children:Object(Z.jsx)("img",{src:me,alt:"user",className:"rounded",width:"80"})}),Object(Z.jsxs)("div",{className:"ml-2",children:[Object(Z.jsx)("h4",{className:"mb-0",children:"Endulzate"}),Object(Z.jsx)("a",{href:"#",className:"btn btn-sm btn-danger text-white mt-2 btn-rounded",children:"Ver perfil"})]})]}),Object(Z.jsxs)("a",{className:"dropdown-item",href:"#",children:[Object(Z.jsx)("i",{className:"ti-user mr-1 ml-1"})," Mi perfil"]}),Object(Z.jsx)(pe,{})]})]})]})]})]}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.estadoModalAbrirCajaVenta,onHide:function(){return e.modalAbrirCajaVenta()},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:this.state.txt_btn_abriCerrarCaja})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"SUCURSAL"}),Object(Z.jsxs)("h4",{className:"card-title",children:[this.state.sucursalNombre," "]})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"USUARIO CONECTADO"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.usuarioNombre," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"DINERO EN LA CAJA"}),Object(Z.jsxs)("h4",{className:"card-title",children:[this.state.totalApertura," "]})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Dinero para abrir caja"}),Object(Z.jsx)("input",{type:"text",className:"form-control",onChange:this.getCambioTotalAperturo,autoFocus:!0,value:this.state.totalAperturo})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Comentario (opcional)"}),Object(Z.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Comentario",onChange:this.getCambioObservacion,value:this.state.observacionesApertura})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsx)("h4",{className:"card-title",children:"Si el dinero en la caja no cuadra con el del sistema, ingresar sin preocupaciones, dejando un comentario del asunto o acci\xf3n realiza"})})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProducto",onClick:function(){return e.sendAbrirCaja(1)},children:"APERTURAR E IMPRIMIR CAJA"})}),Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProducto",onClick:function(){return e.sendAbrirCaja(0)},children:"APERTURAR CAJA"})})]})})]})})})})]}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.estadoModalCerrarCajaVenta,onHide:function(){return e.modalCerrarCajaVenta()},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:this.state.txt_btn_abriCerrarCaja})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)(le,{idCajaVenta:this.state.idCajaVenta,sucursalNombre:this.state.sucursalNombre,usuarioNombre:this.state.usuarioNombre,totalApertura:this.state.totalApertura,totalAperturo:this.state.totalAperturo,totalCierre:this.state.totalCierre,mensajeToast:this.state.mensajeToast,colorToast:this.state.colorToast,estadoToast:this.state.estadoToast,modalCerrarCajaVenta:this.modalCerrarCajaVenta,activarToast:this.activarToast,getEstadoCajaVent:this.getEstadoCajaVent,loadModalCierreCajaVenta:this.state.loadModalCierreCajaVenta})})]}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.estadoModalRegistrarGasto,onHide:function(){return e.modalRegistrarGasto()},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Registrar Gasto"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Gasto en soles "}),Object(Z.jsx)("input",{type:"text",className:"form-control",onChange:this.getCambioGastoIngreso,autoFocus:!0,value:this.state.registrarGastoIngreso})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Motivo del gasto"}),Object(Z.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Motivo del gasto",onChange:this.getCambioMotivoGastoIngreso,value:this.state.motivoGastoIngreso})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",onClick:function(){return e.sendRegistrarGasto()},children:"Registrar Gasto"})})]})})})})]}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.estadoModalRegistrarIngreso,onHide:function(){return e.modalRegistrarIngreso()},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Registrar Ingreso"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Ingreso en soles "}),Object(Z.jsx)("input",{type:"text",className:"form-control",onChange:this.getCambioGastoIngreso,autoFocus:!0,value:this.state.registrarGastoIngreso})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Motivo del ingreso de dinero"}),Object(Z.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Motivo del gasto",onChange:this.getCambioMotivoGastoIngreso,value:this.state.motivoGastoIngreso})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",onClick:function(){return e.sendRegistrarIngreso()},children:"Registrar Ingreso"})})]})})})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:20,right:20,zIndex:1060,backgroundColor:this.state.colorToast,color:"white"},onClose:function(){return e.setState({estadoToast:!1})},show:this.state.estadoToast,delay:2500,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h3",{children:this.state.mensajeToast})})})]})}}]),a}(s.Component),xe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e.fetchLogout=e.fetchLogout.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"fetchLogout",value:function(){fetch(K.api+"/logout",{method:"POST",body:JSON.stringify({}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){console.log(e),window.location.href=window.location.href}))}},{key:"render",value:function(){return Object(Z.jsx)("aside",{className:"material left-sidebar",children:Object(Z.jsx)("div",{className:"scroll-sidebar",children:Object(Z.jsx)("nav",{className:"sidebar-nav",children:Object(Z.jsxs)("ul",{id:"sidebarnav",children:[Object(Z.jsxs)("li",{className:"sidebar-item",children:[Object(Z.jsxs)("a",{className:"sidebar-link has-arrow waves-effect waves-dark profile-dd",href:"javascript:void(0)","aria-expanded":"false",children:[Object(Z.jsx)("img",{src:me,className:"rounded-circle ml-2",width:"30"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Endulzate"})]}),Object(Z.jsxs)("ul",{"aria-expanded":"false",className:"collapse  first-level",children:[Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)("a",{href:"javascript:void(0)",className:"sidebar-link",children:[Object(Z.jsx)("i",{className:"ti-user"}),Object(Z.jsx)("span",{className:"hide-menu",children:" Mi perfil "})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)("a",{href:"javascript:void(0)",className:"sidebar-link",onClick:this.fetchLogout,children:[Object(Z.jsx)("i",{className:"fas fa-power-off"}),Object(Z.jsx)("span",{className:"hide-menu",children:" Logout "})]})})]})]}),Object(Z.jsxs)("li",{className:"sidebar-item",children:[Object(Z.jsxs)("a",{className:"sidebar-link has-arrow waves-effect waves-dark",href:"javascript:void(0)","aria-expanded":"false",children:[Object(Z.jsx)("i",{className:"mdi mdi-apps"}),Object(Z.jsx)("span",{className:"hide-menu",children:"ALMAC\xc9N"})]}),Object(Z.jsxs)("ul",{"aria-expanded":"false",className:"collapse first-level",children:[Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/almacen",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Almac\xe9n"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/almacen-transferencias",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Transferencias"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/almacen-entrada",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Entradas"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/almacen-proveedor",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Proveedores"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/almacen-tiposproductos",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Tipos de producto"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/almacen-marcas",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Marcas"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/almacen-cargar-data",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Carga de Data"})]})})]})]}),Object(Z.jsxs)("li",{className:"sidebar-item",children:[Object(Z.jsxs)("a",{className:"sidebar-link has-arrow waves-effect waves-dark",href:"javascript:void(0)","aria-expanded":"false",children:[Object(Z.jsx)("i",{className:"mdi mdi-shopping"}),Object(Z.jsx)("span",{className:"hide-menu",children:"VENTAS"})]}),Object(Z.jsxs)("ul",{"aria-expanded":"false",className:"collapse first-level",children:[Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{className:"sidebar-link waves-effect waves-dark sidebar-link",href:"#","aria-expanded":"false",to:"/ventas",children:[Object(Z.jsx)("i",{className:"mdi mdi-calendar-check"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Ventas"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{className:"sidebar-link waves-effect waves-dark sidebar-link",href:"#","aria-expanded":"false",to:"/ventasdetalladas",children:[Object(Z.jsx)("i",{className:"mdi mdi-calendar-check"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Ventas Detalladas"})]})})]})]}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/seguimientos",children:[Object(Z.jsx)("i",{className:"mdi mdi-notification-clear-all"}),Object(Z.jsx)("span",{className:"hide-menu",children:"SEGUIMIENTO DE PRODUCTO"})]})}),Object(Z.jsxs)("li",{className:"sidebar-item",children:[Object(Z.jsxs)("a",{className:"sidebar-link has-arrow waves-effect waves-dark",href:"javascript:void(0)","aria-expanded":"false",children:[Object(Z.jsx)("i",{className:"mdi mdi-table"}),Object(Z.jsx)("span",{className:"hide-menu",children:"CAJAS"})]}),Object(Z.jsxs)("ul",{"aria-expanded":"false",className:"collapse first-level",children:[Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{className:"sidebar-link waves-effect waves-dark sidebar-link",href:"#","aria-expanded":"false",to:"/caja",children:[Object(Z.jsx)("i",{className:"mdi mdi-calendar-check"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Gestionar Caja"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{className:"sidebar-link waves-effect waves-dark sidebar-link",href:"#","aria-expanded":"false",to:"/caja-ingresos",children:[Object(Z.jsx)("i",{className:"mdi mdi-calendar-check"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Gestionar Ingresos"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{className:"sidebar-link waves-effect waves-dark sidebar-link",href:"#","aria-expanded":"false",to:"/caja-gastos",children:[Object(Z.jsx)("i",{className:"mdi mdi-calendar-check"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Gestionar Gastos"})]})})]})]}),Object(Z.jsxs)("li",{className:"sidebar-item",children:[Object(Z.jsxs)("a",{className:"sidebar-link has-arrow waves-effect waves-dark",href:"javascript:void(0)","aria-expanded":"false",children:[Object(Z.jsx)("i",{className:"mdi mdi-settings"}),Object(Z.jsx)("span",{className:"hide-menu",children:"CONFIGURACI\xd3N"})]}),Object(Z.jsxs)("ul",{"aria-expanded":"false",className:"collapse first-level",children:[Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/configuracion-usuarios",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Usuarios"})]})}),Object(Z.jsx)("li",{className:"sidebar-item",children:Object(Z.jsxs)(te.b,{href:"app-chats.html",className:"sidebar-link",to:"/configuracion-ofertas",children:[Object(Z.jsx)("i",{className:"mdi mdi-comment-processing-outline"}),Object(Z.jsx)("span",{className:"hide-menu",children:"Ofertas"})]})})]})]})]})})})})}}]),a}(s.Component),ge=function(){return Object(Z.jsxs)("footer",{className:"footer text-center",children:["Todos los derechos reservados para:",Object(Z.jsx)("a",{href:"#",children:"Endulzate"}),"."]})},ve=a(23),fe=(a(108),a(53)),Ne=a.n(fe),Ce=a(66),ye=a(100),Te=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={precio:"",cantidad:"",importe:""},e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s)),console.log(a)}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Producto de entrada"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("input",{type:"text",name:"productoEntradaChild",className:"form-control",onKeyDown:this.props.handleKeyDown,onFocus:function(){return e.props.handleScope(e.props.number)},autoFocus:!0})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Nombre"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("input",{type:"text",name:"productoEntrada",className:"form-control",value:this.props.name})]}),Object(Z.jsxs)("div",{className:"col-2 precioCompraContainer",children:[Object(Z.jsx)("label",{children:"Precio de compra"}),Object(Z.jsx)("input",{type:"number",name:"precioProductoChild",id:"precio",className:"form-control precioCompra",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$",value:this.props.precioProductoChild,"data-type":"currency",placeholder:"S/",onChange:this.props.handleChange,onFocus:function(){return e.props.handleScope(e.props.number)}})]}),Object(Z.jsxs)("div",{className:"col-2 cantidadCompraContainer",children:[Object(Z.jsx)("label",{children:"Cantidad"}),Object(Z.jsx)("input",{type:"number",className:"form-control cantidadProductoEntrada",name:"cantidadProductoChild",id:"cantidad",value:this.props.cantidadProductoChild,onChange:this.props.handleChange,onFocus:function(){return e.props.handleScope(e.props.number)}})]}),Object(Z.jsxs)("div",{className:"col-1",children:[Object(Z.jsx)("label",{children:"Stock"}),Object(Z.jsx)("input",{type:"text",className:"form-control cantidadProductoEntrada",name:"stock",value:this.props.stock})]}),Object(Z.jsxs)("div",{className:"col-2 importeCompraContainer",children:[Object(Z.jsx)("label",{children:"Importe"}),Object(Z.jsx)("input",{type:"text",name:"importe[]",id:"importe",className:"form-control ",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$",value:this.props.importeChild,"data-type":"currency",placeholder:"S/1,000,000.00",onChange:this.handleChange})]}),Object(Z.jsxs)("div",{className:"col-1",children:[Object(Z.jsx)("br",{}),Object(Z.jsx)("button",{type:"button",className:"btn btn-danger btn-rounded btn-icon remove",onClick:function(){return e.props.quitarOpcion(e.props.number)},children:Object(Z.jsx)("i",{className:"mdi mdi-close"})})]})]})})}}]),a}(s.Component),Pe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={contador:[],contadorNumero:0,nada:"",numerox:0,modo:0,nombreProducto:"",precioProducto:"",scopeNumero:"",cantidad:"",stock:"",importe:"",tasks:"",proveedores:[],code:"",estadoModalProducto:!1,estadoToastRed:!1,estadoToastGreen:!1,messageRed:"",messageGreen:"",idProducto:"",nowday:"",idProveedor:"",idFactura:"",datepick:"",enviarCantidad:"",enviarPrecioProducto:"",enviarIdProducto:"",precio_array:[],cantidad_array:[],idProducto_array:[],idMarca:"",idTipo:"",precioVentaProducto:"",codigoProductoNuevo:"",nombreProductoNuevo:"",tasksM:[],tasksTP:[],tiposproductos_tb:[],marcas_tb:[],proveedores_t:[],nuevoTipoProducto:""},e.quitarOpcion=e.quitarOpcion.bind(Object(ae.a)(e)),e.fetchDatos=e.fetchDatos.bind(Object(ae.a)(e)),e.handleKeyDown=e.handleKeyDown.bind(Object(ae.a)(e)),e.handleKeyDown2=e.handleKeyDown2.bind(Object(ae.a)(e)),e.scope=e.scope.bind(Object(ae.a)(e)),e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e.sendAgregarEntrada=e.sendAgregarEntrada.bind(Object(ae.a)(e)),e.handleChangeTime=e.handleChangeTime.bind(Object(ae.a)(e)),e.quitarScope=e.quitarScope.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"handleChangeTime",value:function(e){this.setState({datepick:Object(Ce.default)(e,"yyyy-MM-dd"),nowday:e}),console.log(this.state.datepick)}},{key:"sendAgregarTipoProducto",value:function(){var e=this;fetch(K.api+"/almacen/tipo/crear",{method:"POST",body:JSON.stringify({nuevoTipoProducto:this.state.nuevoTipoProducto}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("el tipo de producto","true"),e.fetchAgregarTipo()):(console.log("error"),e.cambiarToastRed("en agregar Tipo producto","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en agregar Tipo producto","true")}))}},{key:"fetchAgregarTipo",value:function(){var e=this;fetch(K.api+"/almacen/tiposproductos/tb_tiposProductos",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({tiposproductos_tb:t},(function(){e.suprimirDatos()}))}))}},{key:"suprimirDatos",value:function(e){var t,a=this,s=[],c=[],o=[],r=[];this.state.marcas_tb.data&&this.state.marcas_tb.data.map((function(e){s.push({nombre:e.nombre,id:e.id})})),t=Object(ve.a)(new Map(s.map((function(e){return["".concat(e.nombre,":").concat(e.id),e]}))).values()),this.state.tiposproductos_tb.data&&(this.state.tiposproductos_tb.data.map((function(e){c.push({nombre:e.nombre,id:e.id})})),r=Object(ve.a)(new Map(c.map((function(e){return["".concat(e.nombre,":").concat(e.id),e]}))).values())),this.state.proveedores.data&&this.state.proveedores.data.map((function(e){o.push(e.id)})),"op2"==e?this.setState({proveedores_t:o},(function(){return a.operacionScope2()})):this.setState({tasksM:t,tasksTP:r},(function(){return a.operacionScope()}))}},{key:"operacionScope",value:function(){var e=this,t=this.state.tasksM[0],a=this.state.tasksTP[0];if(t&&a){var s=t.id,c=a.id;this.setState({idMarca:s,idTipo:c},(function(){return console.log(e.state.idMarca,e.state.idTipo)}))}}},{key:"operacionScope2",value:function(){var e=this,t=this.state.proveedores_t[0];console.log(t),this.setState({idProveedor:t},(function(){return console.log(e.state.idProveedor)}))}},{key:"cambiarToastRed",value:function(e,t){"true"==t?this.setState({messageRed:e,estadoToastRed:!0}):this.setState({estadoToastRed:!1})}},{key:"cambiarToastGreen",value:function(e,t){"true"==t?this.setState({messageGreen:e,estadoToastGreen:!0}):this.setState({estadoToastGreen:!1})}},{key:"cambiarModalProducto",value:function(){this.setState({estadoModalProducto:!this.state.estadoModalProducto})}},{key:"sendAgregarProducto",value:function(e){var t=this;fetch(K.api+"/almacen/producto/crear",{method:"POST",body:JSON.stringify({precioVentaProducto:this.state.precioVentaProducto,codigoProductoNuevo:this.state.codigoProductoNuevo,marcaProducto:this.state.idMarca,tipoProducto:this.state.idTipo,nombreProductoNuevo:this.state.nombreProductoNuevo}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){1==e.response?(console.log("exito"),t.cambiarToastGreen("el producto","true"),t.state.scopeNumero?(t.generateComponents(t.state.nombreProductoNuevo,t.state.scopeNumero,0,0,e.idProducto),t.cambiarModalProducto()):(t.generateComponents(t.state.nombreProductoNuevo,t.state.numerox,0,0,e.idProducto),t.cambiarModalProducto())):(console.log("error"),t.cambiarToastRed("en agregar producto","true"))})).catch((function(e){console.log("Hubo un problema con la petici\xf3n Fetch:"+e.message),t.cambiarToastRed("en agregar producto","true")}))}},{key:"generateComponents",value:function(e,t,a,s,c){var o=Object(ve.a)(this.state.contador);0==t&&(console.log(o),o.push({numero:this.state.contadorNumero+1,nombre:"",precio:0,stock:"",cantidad:"",idProducto:"",importe:""}),this.setState({contador:o,nombreProducto:e,precioProducto:a,stock:s,cantidad:0,idProducto:c,contadorNumero:this.state.contadorNumero+1,numerox:this.state.numerox+1,modo:this.state.modo+1})),0!==t&&(console.log(t),o.push({numero:this.state.contadorNumero+1,nombre:"",precio:0,stock:"",cantidad:"",idProducto:"",importe:""}),o.forEach((function(o){o.numero==t&&(o.nombre=e,o.precio=a,o.stock=s,o.idProducto=c)})),console.log(o),this.setState({contador:o,contadorNumero:this.state.contadorNumero+1}))}},{key:"quitarOpcion",value:function(e){console.log(e);var t=Object(ve.a)(this.state.contador),a=this.state.contador.findIndex((function(t){return t.numero===e}));if(a>-1){t.splice(a,1);var s=t.length;console.log(s),console.log(t),0==s&&this.setState({numerox:0,modo:0}),this.setState({contador:t})}}},{key:"fetchDatos",value:function(){var e=this;fetch(K.api+"/almacen/tb_almacen",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({tasks:t},(function(){return console.log(e.state.tasks)}))})),fetch(K.api+"/almacen/proveedores/tb_proveedores",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({proveedores:t},(function(){console.log(t),e.suprimirDatos("op2")}))})),fetch(K.api+"/almacen/tiposproductos/tb_tiposProductos",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({tiposproductos_tb:t})})),fetch(K.api+"/almacen/marcas/tb_marcas",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({marcas_tb:t})}))}},{key:"scope",value:function(e){console.log(e),this.setState({scopeNumero:e})}},{key:"quitarScope",value:function(){this.setState({scopeNumero:0})}},{key:"comprobarCode",value:function(e){var t=this;fetch(K.api+"/producto/buscar",{method:"POST",body:JSON.stringify({codigoProducto:this.state.code}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(a){1==a.response?(console.log(a),t.cambiarToastGreen("El producto ya existe","true"),"productoEntradaChild"==e?t.generateComponents(a.producto.nombre,t.state.scopeNumero,0,a.producto.cantidad,a.producto.id):t.generateComponents(a.producto.nombre,t.state.numerox,0,a.producto.cantidad,a.producto.id)):"productoEntradaChild"==e?(t.suprimirDatos(),t.cambiarModalProducto()):(t.quitarScope(),t.suprimirDatos(),t.cambiarModalProducto())}))}},{key:"comprobarCodeProducto",value:function(){var e=this;fetch(K.api+"/producto/buscar",{method:"POST",body:JSON.stringify({codigoProducto:this.state.code}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log(t),e.cambiarToastRed("El producto ya existe","true")):(console.log(t),e.cambiarToastGreen("El producto no existe","true"))}))}},{key:"operacionClean",value:function(){var e=this;0==this.state.numerox?fetch(K.api+"/almacen/entrada/crear",{method:"POST",body:JSON.stringify({proveedor:this.state.idProveedor,factura:this.state.idFactura,fecha:this.state.datepick,precio:this.state.enviarPrecioProducto,cantidad:this.state.enviarCantidad,producto:this.state.enviarIdProducto}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("la entrada","true"),e.fetchDatos(),e.props.addContainer()):(console.log("error"),e.cambiarToastRed("en agregar entrada","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en agregar entrada","true")})):fetch(K.api+"/almacen/entrada/crear",{method:"POST",body:JSON.stringify({proveedor:this.state.idProveedor,factura:this.state.idFactura,fecha:this.state.datepick,precio:this.state.precio_array,cantidad:this.state.cantidad_array,producto:this.state.idProducto_array}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("la entrada","true"),e.fetchDatos(),e.props.addContainer()):(console.log("error"),e.cambiarToastRed("en agregar entrada","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en agregar entrada","true")}))}},{key:"sendAgregarEntrada",value:function(){var e=this,t=[this.state.precioProducto],a=[this.state.cantidad],s=[this.state.idProducto];0==this.state.numerox?this.setState({enviarPrecioProducto:t,enviarCantidad:a,enviarIdProducto:s},(function(){console.log(e.state.enviarPrecioProducto,e.state.enviarCantidad,e.state.enviarIdProducto),e.operacionClean()})):(Object(ve.a)(this.state.contador).map((function(e){""!=e.idProducto&&(t.push(e.precio),a.push(e.cantidad),s.push(e.idProducto))})),console.log(t,a,s),this.setState({precio_array:t,cantidad_array:a,idProducto_array:s},(function(){e.operacionClean()})))}},{key:"handleKeyDown",value:function(e){var t=this;if("Enter"===e.key){console.log("hacer validacion"),console.log(e.target.name);var a=e.target.name;this.setState({code:e.target.value},(function(){return t.comprobarCode(a)}))}}},{key:"handleKeyDown2",value:function(e){var t=this;if("Enter"===e.key){console.log("hacer validacion"),console.log(e.target.name);e.target.name;this.setState({code:e.target.value},(function(){return t.comprobarCodeProducto()}))}}},{key:"handleChange",value:function(e){var t,a=this,s=e.target,c=s.name,o=s.value;if("cantidadProducto"==c){var r=this.state.precioProducto*o;this.setState({cantidad:o,importe:r})}if("precioProducto"==c){r=this.state.cantidad*o;this.setState({precioProducto:o,importe:r})}"cantidadProductoChild"==c&&((t=Object(ve.a)(this.state.contador)).forEach((function(e){console.log(o),e.numero==a.state.scopeNumero&&(e.cantidad=o,e.importe=e.precio*o)})),this.setState({contador:t},(function(){return console.log(t)})));"precioProductoChild"==c?((t=Object(ve.a)(this.state.contador)).forEach((function(e){console.log(o),e.numero==a.state.scopeNumero&&(e.precio=o,e.importe=e.cantidad*o)})),this.setState({contador:t},(function(){return console.log(t)}))):this.setState(Object(U.a)({},c,o));console.log(c),console.log(o)}},{key:"componentDidMount",value:function(){this.fetchDatos()}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"col-lg-12 grid-margin stretch-card",children:[Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsx)("h4",{children:" Agregar Entrada "})}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("input",{type:"hidden",value:"1",name:"cantidadProductos",id:"cantidadProductos"}),Object(Z.jsx)("input",{type:"hidden",value:"0",name:"agregandoProveedor",id:"agregandoProveedor"}),Object(Z.jsx)("input",{type:"hidden",value:"0",name:"agregandoProducto",id:"agregandoProducto"}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Selecciona al proveedor"}),Object(Z.jsx)("div",{children:Object(Z.jsx)("select",{className:"form-control listProductos",name:"idProveedor",id:"proveedores",style:{width:"90%"},onChange:this.handleChange,value:this.state.idProveedor,children:this.state.proveedores.data?this.state.proveedores.data.map((function(e){return Object(Z.jsxs)("option",{value:e.id,children:[" ",e.nombre," "]},e.id)})):null})})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Numero de factura"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"idFactura",id:"factura",onChange:this.handleChange})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Fecha"}),Object(Z.jsx)("br",{}),Object(Z.jsx)(Ne.a,{locale:"es",selected:this.state.nowday,onChange:this.handleChangeTime})]})]})}),Object(Z.jsx)("div",{className:"form-group",id:"listProductos",name:"this.props.number",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Producto de entrada"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("input",{type:"text",name:"productoEntrada",className:"form-control",onKeyDown:this.handleKeyDown})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Nombre"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("input",{type:"text",name:"productoEntrada",className:"form-control",value:this.state.nombreProducto})]}),Object(Z.jsxs)("div",{className:"col-2 precioCompraContainer",children:[Object(Z.jsx)("label",{children:"Precio de compra"}),Object(Z.jsx)("input",{type:"number",name:"precioProducto",id:"precioProducto",className:"form-control precioCompra",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$",value:this.state.precioProducto,"data-type":"currency",placeholder:"S/",onChange:this.handleChange})]}),Object(Z.jsxs)("div",{className:"col-2 cantidadCompraContainer",children:[Object(Z.jsx)("label",{children:"Cantidad"}),Object(Z.jsx)("input",{type:"number",className:"form-control cantidadProductoEntrada",name:"cantidadProducto",value:this.state.cantidad,id:"cantidadProducto",onChange:this.handleChange})]}),Object(Z.jsxs)("div",{className:"col-1",children:[Object(Z.jsx)("label",{children:"Stock"}),Object(Z.jsx)("input",{type:"text",className:"form-control cantidadProductoEntrada",name:"stock",value:this.state.stock})]}),Object(Z.jsxs)("div",{className:"col-2 importeCompraContainer",children:[Object(Z.jsx)("label",{children:"Importe"}),Object(Z.jsx)("input",{type:"text",name:"importe[]",id:"importe",className:"form-control ",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$",value:this.state.importe,"data-type":"currency",placeholder:"S/1,000,000.00"})]}),Object(Z.jsxs)("div",{className:"col-1",children:[Object(Z.jsx)("br",{}),Object(Z.jsx)("button",{type:"button",className:"btn btn-warning btn-rounded btn-icon ",id:"agregarNuevoProducto",children:Object(Z.jsx)("i",{className:"mdi mdi-plus"})})]})]})}),this.state.contador?this.state.contador.map((function(t){return Object(Z.jsx)(Te,{number:t.numero,name:t.nombre,quitarOpcion:e.quitarOpcion,handleScope:e.scope,handleChange:e.handleChange,handleKeyDown:e.handleKeyDown,precioProductoChild:t.precio,cantidadProductoChild:t.cantidad,stock:t.stock,idProducto:t.idProducto,importeChild:t.importe},t.numero)})):null,Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("button",{type:"button",id:"agregarProducto",className:"btn btn-primary btn-rounded btn-fw ",onClick:function(){return e.generateComponents()},children:"Agregar producto"})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearEntrada",onClick:function(){return e.sendAgregarEntrada()},children:"Agregar"})})]})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalProducto,onHide:function(){return e.cambiarModalProducto()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar Producto"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsxs)("div",{className:"form-group row",children:[Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"productoEstado",id:"cerrarProducto",value:"1",defaultChecked:""}),"Cerrar automaticamente",Object(Z.jsx)("i",{className:"input-helper"})]})})}),Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"productoEstado",id:"abrirProducto",value:"0"}),"Mantenerla abierta",Object(Z.jsx)("i",{className:"input-helper"})]})})})]})}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nuevo tipo de producto"}),Object(Z.jsxs)("div",{className:"input-group",children:[Object(Z.jsx)("input",{type:"text",placeholder:"Si no existe el tipo de producto agregalo",className:"form-control",name:"nuevoTipoProducto",id:"nuevoTipoProducto",onChange:this.handleChange,value:this.state.nuevoTipoProducto}),Object(Z.jsx)("div",{className:"input-group-append",children:Object(Z.jsx)("button",{id:"crearTipoProducto",className:"btn form-control btn-sm btn-primary",type:"button",onClick:function(){return e.sendAgregarTipoProducto()},children:Object(Z.jsx)("i",{className:"mdi mdi-plus"})})})]})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoProductoNuevo",id:"codigoProductoNuevo",value:this.state.codigoProductoNuevo,onChange:this.handleChange,onKeyDown:this.handleKeyDown2})]}),Object(Z.jsx)("div",{className:"col-12",id:"alertaCodigo"})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Marcas"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idMarca",id:"marcaProducto",style:{width:"100%"},onChange:this.handleChange,value:this.state.idMarca,children:this.state.tasksM?this.state.tasksM.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre})})):null})})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Tipos de prodcuto"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idTipo",id:"tipoProducto",style:{width:"100%"},onChange:this.handleChange,value:this.state.idTipo,children:this.state.tasksTP?this.state.tasksTP.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre})})):null})})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreProductoNuevo",id:"nombreProductoNuevo",onChange:this.handleChange,value:this.state.nombreProductoNuevo})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Precio con IGV(18%)"}),Object(Z.jsx)("input",{type:"text",name:"precioVentaProducto",id:"precioVentaProducto",className:"form-control",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$","data-type":"currency",placeholder:"S/1,000,000.00",onChange:this.handleChange,value:this.state.precioVentaProducto})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProducto",onClick:function(){return e.sendAgregarProducto()},children:"Agregar"})})]})})]})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1060,backgroundColor:"rgba(76,208,76,0.7)",color:"white"},onClose:function(){return e.cambiarToastGreen()},show:this.state.estadoToastGreen,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsxs)("h5",{children:["Se agrego satisfactoriamente ",this.state.messageGreen]})})}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1061,backgroundColor:"rgba(205,55,55,0.7)",color:"white"},onClose:function(){return e.cambiarToastRed()},show:this.state.estadoToastRed,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsxs)("h5",{children:["Hubo un problema al agregar ",this.state.messageRed]})})})]})}}]),a}(s.Component),Se=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"render",value:function(){var e=this;return Object(Z.jsxs)(se.a,{size:"lg",show:this.props.estadoModalCerrarCaja,onHide:function(){return e.props.cambiarModalCerrarCaja()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Cerrar Caja"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo de caja"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoCerrarCaja",onChange:this.props.handleChange,value:this.props.codigoCerrarCaja,onKeyDown:this.props.handleKeyDown5})})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-4",children:[Object(Z.jsx)("label",{children:"Nombre de Caja"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.props.nombreCajaCerrarCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Stock"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.props.stockCajaCerrarCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-4",children:[Object(Z.jsx)("label",{children:"Cantidad de productos dentro"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.props.cantidadProductosCerrarCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Precio"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" S/",this.props.precioCajaCerrarCaja," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.props.nombreProductoCerrarCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-4",children:[Object(Z.jsx)("label",{children:"Stock"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.props.stockProductoCerrarCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Precio"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" S/",this.props.precioProductoCerrarCaja," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Cuantas cajas desea cesar"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"cantidadCerrarCaja",onChange:this.props.handleChange,value:this.props.cantidadCerrarCaja})})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",onClick:function(){return e.props.sendCerrarCaja()},children:"Cerrar Caja"})})]})})})})]})}}]),a}(s.Component);Object(fe.registerLocale)("es",ye.a);var ke=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={productos_tb:[],idProducto:"",codigoP:"",nombreM:"",nombreT:"",nombreP:"",precioP:"",idMarca:"",idTipo:"",cantidadP:"",tasksM:[],tasksTP:[],tiposproductos_tb:[],marcas_tb:[],idProveedor:"",idFactura:"",datepick:"",nowday:"",precio:"",cantidad:"",proveedores_tb:[],nuevoTipoProducto:"",precioVentaProducto:"",codigoProductoNuevo:"",nombreProductoNuevo:"",rucProveedor:"",RUCdatos:[],telefonoProveedor:"",nombreProveedor:"",direccionProveedor:"",tipoProveedor:"",estadoModalProducto:!1,estadoModalMarca:!1,estadoModalProveedor:!1,estadoModalEditarProducto:!1,estadoModalCaja:!1,estadoModalAbrirCaja:!1,estadoModalCerrarCaja:!1,estadoToastRed:!1,estadoToastGreen:!1,messageRed:"",messageGreen:"",addContainer:!1,estadoBoton:[],estadoQuery:"",codigoCaja:"",codigoProductoCaja:"",idProductoCaja:"",nombreCaja:"",cantidadProductosCaja:"",precioCaja:"",codeC:"",code:"",codigoAbrirCaja:"",nombreCajaAbrirCaja:"",stockCajaAbrirCaja:"",cantidadProductosAbrirCaja:"",precioCajaAbrirCaja:"",nombreProductoAbrirCaja:"",stockProductoAbrirCaja:"",precioProductoAbrirCaja:"",cantidadAbrirCaja:"",codeAbrirCaja:"",codigoCerrarCaja:"",nombreCajaCerrarCaja:"",stockCajaCerrarCaja:"",cantidadProductosCerrarCaja:"",precioCajaCerrarCaja:"",nombreProductoCerrarCaja:"",stockProductoCerrarCaja:"",precioProductoCerrarCaja:"",cantidadCerrarCaja:"",codeCerrarCaja:""},e.fetchTasks=e.fetchTasks.bind(Object(ae.a)(e)),e.editTask=e.editTask.bind(Object(ae.a)(e)),e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e.handleChangeTime=e.handleChangeTime.bind(Object(ae.a)(e)),e.handleChangeRUC=e.handleChangeRUC.bind(Object(ae.a)(e)),e.suprimirDatos=e.suprimirDatos.bind(Object(ae.a)(e)),e.handleChangeBuscador=e.handleChangeBuscador.bind(Object(ae.a)(e)),e.handleKeyDown1=e.handleKeyDown1.bind(Object(ae.a)(e)),e.handleKeyDown2=e.handleKeyDown2.bind(Object(ae.a)(e)),e.handleKeyDown3=e.handleKeyDown3.bind(Object(ae.a)(e)),e.handleKeyDown4=e.handleKeyDown4.bind(Object(ae.a)(e)),e.handleKeyDown5=e.handleKeyDown5.bind(Object(ae.a)(e)),e.cambiarModalCerrarCaja=e.cambiarModalCerrarCaja.bind(Object(ae.a)(e)),e.add=e.add.bind(Object(ae.a)(e)),e.sendCerrarCaja=e.sendCerrarCaja.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"add",value:function(){this.setState({addContainer:!this.state.addContainer})}},{key:"cambiarToastRed",value:function(e,t){"true"==t?this.setState({messageRed:e,estadoToastRed:!0}):this.setState({estadoToastRed:!1})}},{key:"cambiarToastGreen",value:function(e,t){"true"==t?this.setState({messageGreen:e,estadoToastGreen:!0}):this.setState({estadoToastGreen:!1})}},{key:"cambiarModalProducto",value:function(){this.setState({estadoModalProducto:!this.state.estadoModalProducto})}},{key:"cambiarModalMarca",value:function(){this.setState({estadoModalMarca:!this.state.estadoModalMarca})}},{key:"cambiarModalProveedor",value:function(){this.setState({estadoModalProveedor:!this.state.estadoModalProveedor})}},{key:"cambiarModalEditarProducto",value:function(){this.setState({estadoModalEditarProducto:!this.state.estadoModalEditarProducto})}},{key:"cambiarModalCaja",value:function(){this.setState({estadoModalCaja:!this.state.estadoModalCaja})}},{key:"cambiarModalAbrirCaja",value:function(){this.setState({estadoModalAbrirCaja:!this.state.estadoModalAbrirCaja})}},{key:"cambiarModalCerrarCaja",value:function(){this.setState({estadoModalCerrarCaja:!this.state.estadoModalCerrarCaja})}},{key:"addComponentEntrada",value:function(){this.setState({addContainer:!this.state.addContainer})}},{key:"cleanInputs",value:function(){this.setState({idProducto:"",codigoP:"",nombreM:"",nombreT:"",nombreP:"",precioP:"",cantidadP:"",idProveedor:"",idFactura:"",datepick:"",nowday:"",precio:"",cantidad:"",nuevoTipoProducto:"",precioVentaProducto:"",codigoProductoNuevo:"",nombreProductoNuevo:"",rucProveedor:"",telefonoProveedor:"",nombreProveedor:"",direccionProveedor:"",tipoProveedor:"",codigoCaja:"",codigoProductoCaja:"",idProductoCaja:"",nombreCaja:"",cantidadProductosCaja:"",precioCaja:"",codeC:"",code:"",codigoAbrirCaja:"",nombreCajaAbrirCaja:"",stockCajaAbrirCaja:"",cantidadProductosAbrirCaja:"",precioCajaAbrirCaja:"",nombreProductoAbrirCaja:"",stockProductoAbrirCaja:"",precioProductoAbrirCaja:"",cantidadAbrirCaja:"",codeAbrirCaja:"",codigoCerrarCaja:"",nombreCajaCerrarCaja:"",stockCajaCerrarCaja:"",cantidadProductosCerrarCaja:"",precioCajaCerrarCaja:"",nombreProductoCerrarCaja:"",stockProductoCerrarCaja:"",precioProductoCerrarCaja:"",cantidadCerrarCaja:"",codeCerrarCaja:""})}},{key:"fechAgregarTipo",value:function(){var e=this;fetch(K.api+"/almacen/tiposproductos/tb_tiposProductos",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({tiposproductos_tb:t},(function(){e.suprimirDatos()}))}))}},{key:"fetchRUC",value:function(){var e=this;fetch(K.api+"/consult/ruc/".concat(this.state.rucProveedor),{method:"POST",body:JSON.stringify({}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({RUCdatos:t},(function(){e.datosdeRUC()}))}))}},{key:"datosdeRUC",value:function(){this.state.RUCdatos&&(this.setState({telefonoProveedor:this.state.RUCdatos.persona.telefonos[0],nombreProveedor:this.state.RUCdatos.persona.razonSocial,direccionProveedor:this.state.RUCdatos.persona.direccion,tipoProveedor:this.state.RUCdatos.persona.tipo}),console.log(this.state.RUCdatos))}},{key:"fetchTasks",value:function(){var e=this;fetch(K.api+"/almacen/tb_almacen",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({productos_tb:t},(function(){return e.agregarBotones()})),console.log(e.state.productos_tb)})),fetch(K.api+"/almacen/proveedores/tb_proveedores",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({proveedores_tb:t})})),fetch(K.api+"/almacen/tiposproductos/tb_tiposProductos",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({tiposproductos_tb:t})})),fetch(K.api+"/almacen/marcas/tb_marcas",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({marcas_tb:t})}))}},{key:"suprimirDatos",value:function(){var e,t,a=this,s=[],c=[];this.state.marcas_tb.data&&this.state.marcas_tb.data.map((function(e){s.push({nombre:e.nombre,id:e.id})})),e=Object(ve.a)(new Map(s.map((function(e){return["".concat(e.nombre,":").concat(e.id),e]}))).values()),this.state.tiposproductos_tb.data&&this.state.tiposproductos_tb.data.map((function(e){c.push({nombre:e.nombre,id:e.id})})),t=Object(ve.a)(new Map(c.map((function(e){return["".concat(e.nombre,":").concat(e.id),e]}))).values()),this.setState({tasksM:e,tasksTP:t},(function(){return a.operacionScope()}))}},{key:"operacionScope",value:function(){var e=this,t=this.state.tasksM[0],a=this.state.tasksTP[0];if(t&&a){var s=t.id,c=a.id;this.setState({idMarca:s,idTipo:c},(function(){return console.log(e.state.idMarca,e.state.idTipo)}))}}},{key:"editTask",value:function(e,t,a,s,c,o,r,n){console.log(t,a,s,c,o,r,n);var i,d,l=[],j=[];this.state.marcas_tb.data&&this.state.marcas_tb.data.map((function(e){l.push({nombre:e.nombre,id:e.id})})),i=Object(ve.a)(new Map(l.map((function(e){return["".concat(e.nombre,":").concat(e.id),e]}))).values()),this.state.tiposproductos_tb.data&&this.state.tiposproductos_tb.data.map((function(e){j.push({nombre:e.nombre,id:e.id})})),d=Object(ve.a)(new Map(j.map((function(e){return["".concat(e.nombre,":").concat(e.id),e]}))).values()),this.setState({idProducto:e,codigoP:t,nombreM:a,nombreT:s,nombreP:c,precioP:o,idMarca:r,idTipo:n,tasksM:i,tasksTP:d})}},{key:"sendAgregarEntrada",value:function(){var e=this;console.log(this.state.idProveedor,this.state.idFactura,this.state.datepick,this.state.precio,this.state.cantidad,this.state.idProducto),fetch(K.api+"/almacen/entrada/crear",{method:"POST",body:JSON.stringify({proveedor:this.state.idProveedor,factura:this.state.idFactura,fecha:this.state.datepick,precio:this.state.precio,cantidad:this.state.cantidad,producto:this.state.idProducto,cantidadProducto:1}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se agrego con exito la entrada","true"),e.fetchTasks()):(console.log("error"),e.cambiarToastRed("Hubo un error al agregar entrada","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al agregar entrada","true")}))}},{key:"sendAgregarProducto",value:function(){var e=this;fetch(K.api+"/almacen/producto/crear",{method:"POST",body:JSON.stringify({precioVentaProducto:this.state.precioVentaProducto,codigoProductoNuevo:this.state.codigoProductoNuevo,marcaProducto:this.state.idMarca,tipoProducto:this.state.idTipo,nombreProductoNuevo:this.state.nombreProductoNuevo}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se agrego correctamente el producto","true"),e.fetchTasks(),e.cleanInputs()):(console.log("error"),e.cambiarToastRed("Hubo un error al agregar producto","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al agregar producto","true")}))}},{key:"sendAgregarTipoProducto",value:function(){var e=this;fetch(K.api+"/almacen/tipo/crear",{method:"POST",body:JSON.stringify({nuevoTipoProducto:this.state.nuevoTipoProducto}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se agrego correctamente el tipo de producto","true"),e.fechAgregarTipo()):(console.log("error"),e.cambiarToastRed("Hubo un error al agregar Tipo producto","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al agregar Tipo producto","true")}))}},{key:"comprobarCodeCaja",value:function(){var e=this;fetch(K.api+"/producto/buscar/caja",{method:"POST",body:JSON.stringify({codigoCajaProducto:this.state.codeC}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response&&1==t.existe?(console.log(t),e.cambiarToastGreen(t.mensaje,"true"),e.setState({cantidadProductosCaja:t.producto.cantidad,nombreCaja:t.producto.nombre,idMarca:t.producto.marca_id,idTipo:t.producto.tipo_id,precioCaja:t.producto.precio})):1==t.response&&0==t.existe?(console.log(t),e.cambiarToastGreen(t.mensaje,"true")):(console.log(t),e.cambiarToastRed(t.mensaje,"true"))}))}},{key:"sendAgregarCaja",value:function(){var e=this;fetch(K.api+"/almacen/caja/crear",{method:"POST",body:JSON.stringify({codigoCaja:this.state.codigoCaja,idProducto:this.state.idProductoCaja,tipoProducto:this.state.idTipo,marcaProducto:this.state.idMarca,cantidadProducto:this.state.cantidadProductosCaja,nombreCaja:this.state.nombreCaja,precioCaja:this.state.precioCaja}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se agrego correctamente la caja","true"),e.cleanInputs(),e.fetchTasks()):(console.log("error"),e.cambiarToastRed("Hubo un error al agregar la caja","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al agregar la caja","true")}))}},{key:"sendAgregarMarca",value:function(){var e=this;fetch(K.api+"/almacen/marca/crear",{method:"POST",body:JSON.stringify({nombreMarca:this.state.nombreMarca}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se agrego correctamente la marca","true"),e.fetchTasks()):(console.log("error"),e.cambiarToastRed("Hubo un error al agregar la marca","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al agregar la marca","true")}))}},{key:"sendAgregarProveedor",value:function(){var e=this;fetch(K.api+"/almacen/proveedor/crear",{method:"POST",body:JSON.stringify({rucProveedor:this.state.rucProveedor,telefonoProveedor:this.state.telefonoProveedor,nombreProveedor:this.state.nombreProveedor,direccionProveedor:this.state.direccionProveedor,tipoProveedor:this.state.tipoProveedor}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se agrego correctamente el proveedor","true")):(console.log("error"),e.cambiarToastRed("Hubo un error al agregar proveedor","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al agregar proveedor","true")}))}},{key:"sendAbrirCaja",value:function(){var e=this;fetch(K.api+"/almacen/caja/abrir",{method:"POST",body:JSON.stringify({codigoCaja:this.state.codigoAbrirCaja,numAbrir:this.state.cantidadAbrirCaja}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se abrio correctamente la caja","true"),e.cleanInputs(),e.fetchTasks()):(console.log("error"),e.cambiarToastRed("Hubo un error al abrir la caja","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al abrir la caja","true")}))}},{key:"comprobarCodeAbrirCaja",value:function(){var e=this;fetch(K.api+"/almacen/caja/consulta",{method:"POST",body:JSON.stringify({codigoCaja:this.state.codeAbrirCaja}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log(t),e.setState({nombreCajaAbrirCaja:t.CAJA.nombre,stockCajaAbrirCaja:t.CAJA.stock,precioCajaAbrirCaja:t.CAJA.precio,cantidadProductosAbrirCaja:t.CAJA.cantidad,nombreProductoAbrirCaja:t.PRODUCTO.nombre,stockProductoAbrirCaja:t.PRODUCTO.stock,precioProductoAbrirCaja:t.PRODUCTO.precio},(function(){return console.log("entregado")})),e.cambiarToastGreen("Es una caja","true")):(console.log(t),e.cambiarToastRed("No es una caja","true"))}))}},{key:"sendCerrarCaja",value:function(){var e=this;fetch(K.api+"/almacen/caja/cerrar",{method:"POST",body:JSON.stringify({codigoCaja:this.state.codigoCerrarCaja,numAbrir:this.state.cantidadCerrarCaja}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se cerro correctamente la caja","true"),e.cleanInputs(),e.fetchTasks()):(console.log("error"),e.cambiarToastRed("Hubo un error al cerrar la caja","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al abrir la caja","true")}))}},{key:"comprobarCodeCerrarCaja",value:function(){var e=this;fetch(K.api+"/almacen/caja/consulta",{method:"POST",body:JSON.stringify({codigoCaja:this.state.codeCerrarCaja}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log(t),e.setState({nombreCajaCerrarCaja:t.CAJA.nombre,stockCajaCerrarCaja:t.CAJA.stock,precioCajaCerrarCaja:t.CAJA.precio,cantidadProductosCerrarCaja:t.CAJA.cantidad,nombreProductoCerrarCaja:t.PRODUCTO.nombre,stockProductoCerrarCaja:t.PRODUCTO.stock,precioProductoCerrarCaja:t.PRODUCTO.precio},(function(){return console.log("entregado")})),e.cambiarToastGreen("Es una caja","true")):(console.log(t),e.cambiarToastRed("No es una caja","true"))}))}},{key:"sendEditarProducto",value:function(){var e=this;fetch(K.api+"/almacen/producto/editar",{method:"POST",body:JSON.stringify({editarIdProducto:this.state.idProducto,editarCodigoProductoNuevo:this.state.codigoP,editarMarcaProducto:this.state.idMarca,editarTipoProducto:this.state.idTipo,editarNombreProductoNuevo:this.state.nombreP,editarPrecioVentaProducto:this.state.precioP}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se edito correctamente el producto","true"),e.fetchTasks()):(console.log("error"),e.cambiarToastRed("Hubo un error al editar producto","true"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Hubo un error al editar producto","true")}))}},{key:"deleteProducto",value:function(e){var t=this;console.log(e),fetch(K.api+"/producto/eliminar",{method:"POST",body:JSON.stringify({id:e}),headers:{Accept:"application/json","Content-type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){1==e.response?(console.log("exito"),t.cambiarToastGreen("Se elimino el producto","true"),t.fetchTasks()):(console.log("error"),t.cambiarToastRed("Error en eliminar el producto","true"))})).catch((function(e){console.log("Hubo un problema con la petici\xf3n Fetch:"+e.message),t.cambiarToastRed("Error en eliminar el producto","true")}))}},{key:"agregarBotones",value:function(){var e=this,t=this.state.productos_tb.last_page;console.log(t);var a=[];if(t){for(var s=1;s<=t;s++)a.push(s);this.setState({estadoBoton:a},(function(){return console.log(e.state.estadoBoton)}))}}},{key:"cambiarPaginate",value:function(e){var t=this;console.log(e),fetch(K.api+"/almacen/tb_almacen?page=".concat(e,"&buscar=").concat(this.state.estadoQuery),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){t.setState({productos_tb:e},(function(){console.log(t.state.productos_tb),t.agregarBotones()}))}))}},{key:"fetchQuery",value:function(e,t){var a=this;fetch(K.api+"/almacen/tb_almacen?".concat(t,"=").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){a.setState({productos_tb:t,estadoQuery:e},(function(){a.agregarBotones(),console.log("obtenido?")}))}))}},{key:"handleChangeBuscador",value:function(e){var t=e.target,a=t.name,s=t.value;console.log(s),this.fetchQuery(s,a),console.log(a)}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s)),console.log(a),console.log(s),console.log(this.state.idProveedor)}},{key:"handleChangeRUC",value:function(e){var t=this,a=e.target,s=a.name,c=a.value;11==c.length&&(this.setState(Object(U.a)({},s,c),(function(){t.fetchRUC()})),console.log(c))}},{key:"handleChangeTime",value:function(e){this.setState({datepick:Object(Ce.default)(e,"yyyy-MM-dd"),nowday:e}),console.log(this.state.datepick)}},{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"handleKeyDown2",value:function(e){"Enter"===e.key&&(console.log("hacer validacion"),this.comprobarCodeProducto())}},{key:"handleKeyDown1",value:function(e){var t=this;if("Enter"===e.key){console.log("hacer validacion"),console.log(e.target.name);e.target.name;this.setState({code:e.target.value},(function(){return t.comprobarCodeProductoCaja()}))}}},{key:"handleKeyDown3",value:function(e){var t=this;"Enter"===e.key&&(console.log("hacer validacion"),console.log(e.target.name),this.setState({codeC:e.target.value},(function(){return t.comprobarCodeCaja()})))}},{key:"handleKeyDown4",value:function(e){var t=this;"Enter"===e.key&&(console.log("hacer validacion"),console.log(e.target.name),this.setState({codeAbrirCaja:e.target.value},(function(){return t.comprobarCodeAbrirCaja()})))}},{key:"handleKeyDown5",value:function(e){var t=this;"Enter"===e.key&&(console.log("hacer validacion"),this.setState({codeCerrarCaja:e.target.value},(function(){return t.comprobarCodeCerrarCaja()})))}},{key:"comprobarCodeProducto",value:function(){var e=this;fetch(K.api+"/producto/buscar",{method:"POST",body:JSON.stringify({codigoProducto:this.state.codigoProductoNuevo}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log(t),e.cambiarToastRed("El producto ya existe","true")):(console.log(t),e.cambiarToastGreen("El producto no existe","true"))}))}},{key:"comprobarCodeProductoCaja",value:function(){var e=this;fetch(K.api+"/producto/buscar/caja",{method:"POST",body:JSON.stringify({codigoCajaProducto:this.state.code}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response&&1==t.existe?(console.log(t),e.cambiarToastGreen("El producto ya existe","true"),e.setState({idProductoCaja:t.producto.id})):1==t.response&&0==t.existe?(console.log(t),e.cambiarToastRed("El producto no existe.Agregalo","true"),e.cambiarModalCaja(),e.cambiarModalProducto()):(console.log(t),e.cambiarToastRed(t.mensaje,"true"))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Modulos de agregar"}),Object(Z.jsxs)("div",{className:"button-group",children:[Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-primary",onClick:function(){return e.addComponentEntrada()},children:"Agregar Entrada"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-success",onClick:function(){e.suprimirDatos(),e.cambiarModalProducto()},children:"Agregar Producto"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-danger",onClick:function(){e.suprimirDatos(),e.cambiarModalCaja()},children:"Agregar Caja"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-dark",onClick:function(){return e.cambiarModalAbrirCaja()},children:"Abrir Caja"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-light",onClick:function(){return e.cambiarModalCerrarCaja()},children:"Cerrar Caja"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-info",onClick:function(){return e.cambiarModalMarca()},children:"Agregar Marca"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-warning",onClick:function(){return e.cambiarModalProveedor()},children:"Agregar Proveedor"})]})]})})}),this.state.addContainer&&Object(Z.jsx)(Pe,{addContainer:this.add}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Buscar"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"bcodigo",id:"buscar_tb_codigo",onChange:this.handleChangeBuscador})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Marca"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"bmarca",id:"buscar_tb_marca",onChange:this.handleChangeBuscador})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Tipo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"btipo",id:"buscar_tb_tipo",onChange:this.handleChangeBuscador})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Nombre"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"bnombre",id:"buscar_tb_nombre",onChange:this.handleChangeBuscador})]})]})]})})}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Almacen de productos"}),Object(Z.jsxs)("table",{id:"tb_almacen",className:"table table-striped",style:{width:"100%"},children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Codigo"}),Object(Z.jsx)("th",{children:"Marca"}),Object(Z.jsx)("th",{children:"Tipo"}),Object(Z.jsx)("th",{children:"Nombre"}),Object(Z.jsx)("th",{children:"Precio"}),Object(Z.jsx)("th",{children:"Cantidad"}),Object(Z.jsx)("th",{children:"Opciones"})]})}),Object(Z.jsx)("tbody",{children:this.state.productos_tb.data?this.state.productos_tb.data.map((function(t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:t.codigoProducto}),Object(Z.jsx)("td",{children:t.nombreMarca}),Object(Z.jsx)("td",{children:t.nombreTipo}),Object(Z.jsx)("td",{children:t.nombreProducto}),Object(Z.jsx)("td",{children:t.precioProducto}),Object(Z.jsx)("td",{children:t.cantidadProducto}),Object(Z.jsxs)("td",{children:[Object(Z.jsx)("button",{onClick:function(){return e.deleteProducto(t.idProducto)},className:"btn btn-sm btn-danger eliminar",children:Object(Z.jsx)("i",{className:"mdi mdi-delete",children:" "})}),Object(Z.jsx)("button",{onClick:function(){e.editTask(t.idProducto,t.codigoProducto,t.nombreMarca,t.nombreTipo,t.nombreProducto,t.precioProducto,t.idMarca,t.idTipo),e.cambiarModalEditarProducto()},className:"btn btn-sm btn-secondary editar","data-target":"#productoEditarModal",children:Object(Z.jsx)("i",{className:"mdi mdi-lead-pencil",children:"  "})})]})]},t.codigoProducto)})):null})]}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarPaginate(t)},children:t},t)})):null})})})]})})}),Object(Z.jsx)(Se,{estadoModalCerrarCaja:this.state.estadoModalCerrarCaja,cambiarModalCerrarCaja:this.cambiarModalCerrarCaja,codigoCerrarCaja:this.state.codigoCerrarCaja,nombreCajaCerrarCaja:this.state.nombreCajaCerrarCaja,stockCajaCerrarCaja:this.state.stockCajaCerrarCaja,cantidadProductosCerrarCaja:this.state.cantidadProductosCerrarCaja,precioCajaCerrarCaja:this.state.precioCajaCerrarCaja,nombreProductoCerrarCaja:this.state.nombreProductoCerrarCaja,stockProductoCerrarCaja:this.state.stockProductoCerrarCaja,precioProductoCerrarCaja:this.state.precioProductoCerrarCaja,cantidadCerrarCaja:this.state.cantidadCerrarCaja,sendCerrarCaja:this.sendCerrarCaja,handleChange:this.handleChange,handleKeyDown5:this.handleKeyDown5}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalCaja,onHide:function(){return e.cambiarModalCaja()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar Caja"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo de caja"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoCaja",onChange:this.handleChange,value:this.state.codigoCaja,onKeyDown:this.handleKeyDown3})})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo de producto"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoProductoCaja",onChange:this.handleChange,value:this.state.codigoProductoCaja,onKeyDown:this.handleKeyDown1})})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Cantidad de productos en esta caja"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"cantidadProductosCaja",onChange:this.handleChange,value:this.state.cantidadProductosCaja})})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre de caja"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreCaja",onChange:this.handleChange,value:this.state.nombreCaja})})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Marcas"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idMarca",id:"marcaProducto",style:{width:"100%"},onChange:this.handleChange,value:this.state.idMarca,children:this.state.tasksM?this.state.tasksM.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre})})):null})})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Tipos de prodcuto"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idTipo",id:"tipoProducto",style:{width:"100%"},onChange:this.handleChange,value:this.state.idTipo,children:this.state.tasksTP?this.state.tasksTP.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre})})):null})})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Precio de caja con IGV(18%)"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"precioCaja",onChange:this.handleChange,value:this.state.precioCaja})})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProducto",onClick:function(){return e.sendAgregarCaja()},children:"Agregar"})})]})})})})]}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.estadoModalAbrirCaja,onHide:function(){return e.cambiarModalAbrirCaja()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Abrir Caja"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo de caja"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoAbrirCaja",onChange:this.handleChange,value:this.state.codigoAbrirCaja,onKeyDown:this.handleKeyDown4})})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-4",children:[Object(Z.jsx)("label",{children:"Nombre de Caja"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.nombreCajaAbrirCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Stock"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.stockCajaAbrirCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-4",children:[Object(Z.jsx)("label",{children:"Cantidad de productos dentro"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.cantidadProductosAbrirCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Precio"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" S/",this.state.precioCajaAbrirCaja," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.nombreProductoAbrirCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-4",children:[Object(Z.jsx)("label",{children:"Stock"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.stockProductoAbrirCaja," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Precio"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" S/",this.state.precioProductoAbrirCaja," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Cuantas cajas desea abrir"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("input",{type:"text",className:"form-control",name:"cantidadAbrirCaja",onChange:this.handleChange,value:this.state.cantidadAbrirCaja})})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",onClick:function(){return e.sendAbrirCaja()},children:"Abrir Caja"})})]})})})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalProducto,onHide:function(){return e.cambiarModalProducto()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar Producto"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsxs)("div",{className:"form-group row",children:[Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"productoEstado",id:"cerrarProducto",value:"1",defaultChecked:""}),"Cerrar automaticamente",Object(Z.jsx)("i",{className:"input-helper"})]})})}),Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"productoEstado",id:"abrirProducto",value:"0"}),"Mantenerla abierta",Object(Z.jsx)("i",{className:"input-helper"})]})})})]})}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nuevo tipo de producto"}),Object(Z.jsxs)("div",{className:"input-group",children:[Object(Z.jsx)("input",{type:"text",placeholder:"Si no existe el tipo de producto agregalo",className:"form-control",name:"nuevoTipoProducto",id:"nuevoTipoProducto",onChange:this.handleChange,value:this.state.nuevoTipoProducto}),Object(Z.jsx)("div",{className:"input-group-    append",children:Object(Z.jsx)("button",{id:"crearTipoProducto",className:"btn form-control btn-sm btn-primary",type:"button",onClick:function(){return e.sendAgregarTipoProducto()},children:Object(Z.jsx)("i",{className:"mdi mdi-plus"})})})]})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoProductoNuevo",id:"codigoProductoNuevo",value:this.state.codigoProductoNuevo,onKeyDown:this.handleKeyDown2,onChange:this.handleChange})]}),Object(Z.jsx)("div",{className:"col-12",id:"alertaCodigo"})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Marcas"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idMarca",id:"marcaProducto",style:{width:"100%"},onChange:this.handleChange,value:this.state.idMarca,children:this.state.tasksM?this.state.tasksM.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre})})):null})})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Tipos de prodcuto"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idTipo",id:"tipoProducto",style:{width:"100%"},onChange:this.handleChange,value:this.state.idTipo,children:this.state.tasksTP?this.state.tasksTP.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre})})):null})})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreProductoNuevo",id:"nombreProductoNuevo",onChange:this.handleChange,value:this.state.nombreProductoNuevo})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Precio con IGV(18%)"}),Object(Z.jsx)("input",{type:"text",name:"precioVentaProducto",id:"precioVentaProducto",className:"form-control",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$","data-type":"currency",placeholder:"S/1,000,000.00",onChange:this.handleChange,value:this.state.precioVentaProducto})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProducto",onClick:function(){return e.sendAgregarProducto()},children:"Agregar"})})]})})]})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalMarca,onHide:function(){return e.cambiarModalMarca()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar Marca"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsxs)("div",{className:"form-group row",children:[Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"marcaEstado",id:"cerrarMarca",value:"1",defaultChecked:""}),"Cerrar automaticamente",Object(Z.jsx)("i",{className:"input-helper"})]})})}),Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"marcaEstado",id:"abrirMarca",value:"0"}),"Mantenerla abierta",Object(Z.jsx)("i",{className:"input-helper"})]})})})]})}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre de la marca"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreMarca",id:"nombreMarca",onChange:this.handleChange})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearMarca",onClick:function(){return e.sendAgregarMarca()},children:"Agregar"})})]})})]})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalProveedor,onHide:function(){return e.cambiarModalProveedor()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar proveedor"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsxs)("div",{className:"form-group row",children:[Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"proveedorEstado",id:"cerrarProveedor",value:"1",defaultChecked:""}),"Cerrar automaticamente",Object(Z.jsx)("i",{className:"input-helper"})]})})}),Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"proveedorEstado",id:"abrirProveedor",value:"0"}),"Mantenerla abierta",Object(Z.jsx)("i",{className:"input-helper"})]})})})]})}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"RUC del proveedor"}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"rucProveedor",onChange:this.handleChangeRUC})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Telefono"}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"telefonoProveedor",id:"telefonoProveedor",value:this.state.telefonoProveedor,onChange:this.handleChange})]})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del proveedor"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreProveedor",id:"nombreProveedor",value:this.state.nombreProveedor,onChange:this.handleChange})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Direcci\xf3n"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"direccionProveedor",id:"direccionProveedor",value:this.state.direccionProveedor,onChange:this.handleChange})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Tipo"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"tipoProveedor",id:"tipoProveedor",value:this.state.tipoProveedor,onChange:this.handleChange})]})})]}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProveedor",onClick:function(){return e.sendAgregarProveedor()},children:"Agregar"})})]})})]})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalEditarProducto,onHide:function(){return e.cambiarModalEditarProducto()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Editar Producto"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo"}),Object(Z.jsx)("input",{type:"hidden",name:"editarIdProducto",id:"editarIdProducto",value:this.state.idProducto}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoP",id:"editarCodigoProductoNuevo",value:this.state.codigoP,onChange:this.handleChange})]}),Object(Z.jsx)("div",{className:"col-12",id:"editarAlertaCodigo"})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Marcas"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idMarca",id:"editarMarcaProducto",style:{width:"100%"},onChange:this.handleChange,value:this.state.idMarca,children:this.state.tasksM?this.state.tasksM.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre})})):null})})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Tipos de prodcuto"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idTipo",id:"editarTipoProducto",style:{width:"100%"},onChange:this.handleChange,value:this.state.idTipo,children:this.state.tasksTP?this.state.tasksTP.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre})})):null})})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreP",id:"editarNombreProductoNuevo",value:this.state.nombreP,onChange:this.handleChange})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Precio con IGV(18%)"}),Object(Z.jsx)("input",{type:"text",name:"precioP",id:"editarPrecioVentaProducto",className:"form-control",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$",value:this.state.precioP,"data-type":"currency",placeholder:"S/1,000,000.00",onChange:this.handleChange})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"editarProducto",onClick:function(){e.sendEditarProducto()},children:"Editar"})})]})})})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1060,backgroundColor:"rgba(76,208,76,0.7)",color:"white"},onClose:function(){return e.cambiarToastGreen("","false")},show:this.state.estadoToastGreen,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h4",{children:this.state.messageGreen})})}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1061,backgroundColor:"rgba(205,55,55,0.7)",color:"white"},onClose:function(){return e.cambiarToastRed("","false")},show:this.state.estadoToastRed,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h4",{children:this.state.messageRed})})})]})}}]),a}(s.Component),Ae=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={entrada_tb:[],addContainer:!1,estadoModalEntrada:!1,estadoToastRed:!1,estadoToastGreen:!1,messageRed:"",messageGreen:"",estadoBoton:[],estadoQuery:""},e.fechaEntradaDataTabla=e.fetchEntradaDataTabla.bind(Object(ae.a)(e)),e.add=e.add.bind(Object(ae.a)(e)),e.handleChangeBuscador=e.handleChangeBuscador.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.fetchEntradaDataTabla()}},{key:"add",value:function(){this.setState({addContainer:!this.state.addContainer})}},{key:"sendAgregarEntrada",value:function(){var e=this;fetch(K.api+"/almacen/entrada/crear",{method:"POST",body:JSON.stringify({nombreEntrada:this.state.nombreEntrada}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("la entrada")):(console.log("error"),e.cambiarToastRed("en agregar Entrada"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en agregar Entrada")}))}},{key:"eliminarEntrada",value:function(e,t,a){var s=this;fetch(K.api+"/almacen/entrada/eliminar",{method:"POST",body:JSON.stringify({codigo:t,id:e,cantidad:a}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){1==e.response?(console.log("eliminado"),s.cambiarToastGreen("Se elimino la entrada"),s.fetchEntradaDataTabla()):(console.log("error"),s.cambiarToastRed("Error al eliminar Entrada"))})).catch((function(e){console.log("Hubo un problema con la petici\xf3n Fetch:"+e.message),s.cambiarToastRed("Error en eliminar entrada")}))}},{key:"cambiarToastRed",value:function(e){this.setState({messageRed:e,estadoToastRed:!this.state.estadoToastRed})}},{key:"cambiarToastGreen",value:function(e){this.setState({messageGreen:e,estadoToastGreen:!this.state.estadoToastGreen})}},{key:"cambiarModalEntrada",value:function(){console.log("holaaaaaa"),this.setState({estadoModalEntrada:!this.state.estadoModalEntrada})}},{key:"agregarBotones",value:function(){var e=this,t=this.state.entrada_tb.last_page;console.log(t);var a=[];if(t){for(var s=1;s<=t;s++)a.push(s);this.setState({estadoBoton:a},(function(){return console.log(e.state.estadoBoton)}))}}},{key:"cambiarPaginate",value:function(e){var t=this;console.log(e),fetch(K.api+"/almacen/entrada/tb_entradas?page=".concat(e,"&buscar=").concat(this.state.estadoQuery),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){t.setState({entrada_tb:e},(function(){console.log(t.state.entrada_tb),t.agregarBotones()}))}))}},{key:"fetchQuery",value:function(e){var t=this;fetch(K.api+"/almacen/entrada/tb_entradas?buscar=".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(a){t.setState({entrada_tb:a,estadoQuery:e},(function(){t.agregarBotones(),console.log("obtenido?")}))}))}},{key:"handleChangeBuscador",value:function(e){var t=e.target,a=t.name,s=t.value;console.log(s),this.fetchQuery(s),console.log(a)}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s)),console.log(a),console.log(s)}},{key:"fetchEntradaDataTabla",value:function(){var e=this;fetch(K.api+"/almacen/entrada/tb_entradas",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({entrada_tb:t},(function(){console.log(e.state.entrada_tb),e.agregarBotones()}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Modulos de agregar"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-primary",onClick:function(){return e.add()},children:"Agregar Entrada"})]})})}),this.state.addContainer&&Object(Z.jsx)(Pe,{addContainer:this.add}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsxs)("table",{id:"tb_entradas",className:"table table-striped",style:{width:"100%"},children:[Object(Z.jsxs)("thead",{children:[Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:Object(Z.jsx)("h4",{className:"card-title",children:"Registro de entradas"})}),Object(Z.jsx)("th",{children:Object(Z.jsx)("input",{type:"text",onChange:this.handleChangeBuscador})})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Numero Factura"}),Object(Z.jsx)("th",{children:"Fecha"}),Object(Z.jsx)("th",{children:"Codigo producto"}),Object(Z.jsx)("th",{children:"Nombre producto"}),Object(Z.jsx)("th",{children:"Cantidad"}),Object(Z.jsx)("th",{children:"Precio"}),Object(Z.jsx)("th",{children:"Opciones"})]})]}),Object(Z.jsx)("tbody",{children:this.state.entrada_tb.data?this.state.entrada_tb.data.map((function(t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:t.factura}),Object(Z.jsx)("td",{children:t.fecha}),Object(Z.jsx)("td",{children:t.codigo}),Object(Z.jsx)("td",{children:t.nombre}),Object(Z.jsx)("td",{children:t.cantidad}),Object(Z.jsx)("td",{children:t.precio}),Object(Z.jsx)("th",{children:Object(Z.jsx)("button",{className:"btn btn-sm btn-primary ver",type:"button",onClick:function(){return e.eliminarEntrada(t.entradaId,t.codigo,t.cantidad)},children:Object(Z.jsx)("i",{className:"mdi mdi-delete"})})})]},t.id)})):null})]}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarPaginate(t)},children:t},t)})):null})})})]})})}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.estadoModalEntrada,onHide:function(){return e.cambiarModalEntrada()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Detalles de la entrada"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",id:"entradaDetalladaModalBody",children:[Object(Z.jsx)("label",{children:"Proveedor:"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("span",{id:"proveedorEntradaDetalle"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("label",{children:"Numero entrada:"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("span",{id:"numeroEntradaDetalle"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("label",{children:"Fecha de emis\xf3n:"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("span",{id:"fechaEntradaDetalle"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{}),Object(Z.jsxs)("table",{className:"table table-bordered",id:"tablaDetallesEntradaModal",children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"#"}),Object(Z.jsx)("th",{children:"Producto"}),Object(Z.jsx)("th",{children:"Precio"}),Object(Z.jsx)("th",{children:"Cantidad"}),Object(Z.jsx)("th",{children:" Importe "})]})}),Object(Z.jsx)("tbody",{})]})]})})})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1060,backgroundColor:"rgba(76,208,76,0.7)",color:"white"},onClose:function(){return e.cambiarToastGreen()},show:this.state.estadoToastGreen,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h5",{children:this.state.messageGreen})})}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1061,backgroundColor:"rgba(205,55,55,0.7)",color:"white"},onClose:function(){return e.cambiarToastRed()},show:this.state.estadoToastRed,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h5",{children:this.state.messageRed})})})]})}}]),a}(s.Component),Ee=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={csrf_token:"",marca_tb:[],nombreMarca:"",editarNombreMarca:"",editarIdMarca:"",estadoModalMarca:!1,estadoModalEditarMarca:!1,estadoToastRed:!1,estadoToastGreen:!1,messageRed:"",messageGreen:"",estadoBoton:[],estadoQuery:""},e.agregarBotones=e.agregarBotones.bind(Object(ae.a)(e)),e.fetchDataTable=e.fetchDataTable.bind(Object(ae.a)(e)),e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e.handleChangeBuscador=e.handleChangeBuscador.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"cambiarToastRed",value:function(e){this.setState({messageRed:e,estadoToastRed:!this.state.estadoToastRed})}},{key:"cambiarToastGreen",value:function(e){this.setState({messageGreen:e,estadoToastGreen:!this.state.estadoToastGreen})}},{key:"cambiarModalMarca",value:function(){this.setState({estadoModalMarca:!this.state.estadoModalMarca})}},{key:"cambiarModalEditarMarca",value:function(e,t){this.setState({estadoModalEditarMarca:!this.state.estadoModalEditarMarca,editarNombreMarca:t,editarIdMarca:e})}},{key:"sendAgregarMarca",value:function(){var e=this;fetch(K.api+"/almacen/marca/crear",{method:"POST",body:JSON.stringify({_token:this.state.csrf_token,nombreMarca:this.state.nombreMarca}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("la marca"),e.fetchDataTable()):(console.log("error"),e.cambiarToastRed("en agregar Marca"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en agregar Marca")}))}},{key:"sendEditarMarca",value:function(){var e=this;fetch(K.api+"/almacen/marcas/editar",{method:"POST",body:JSON.stringify({_token:this.state.csrf_token,editarNombreMarca:this.state.editarNombreMarca,editarIdMarca:this.state.editarIdMarca}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("la marca"),e.fetchDataTable()):(console.log("error"),e.cambiarToastRed("en editar Marca"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en editar Marca")}))}},{key:"deleteMarca",value:function(e){var t=this;console.log(e),fetch(K.api+"/almacen/marcas/eliminar",{method:"POST",body:JSON.stringify({_token:this.state.csrf_token,id:e}),headers:{Accept:"application/json","Content-type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){1==e.response?(console.log("exito"),t.cambiarToastGreen("en eliminar Marca"),t.fetchDataTable()):(console.log("error"),t.cambiarToastRed("en eliminar Marca"))})).catch((function(e){console.log("Hubo un problema con la petici\xf3n Fetch:"+e.message),t.cambiarToastRed("en eliminar Marca")}))}},{key:"agregarBotones",value:function(){var e=this,t=this.state.marca_tb.last_page;console.log(t);var a=[];if(t){for(var s=1;s<=t;s++)a.push(s);this.setState({estadoBoton:a},(function(){return console.log(e.state.estadoBoton)}))}}},{key:"cambiarPaginate",value:function(e){var t=this;console.log(e),fetch(K.api+"/almacen/marcas/tb_marcas?page=".concat(e,"&bnombre=").concat(this.state.estadoQuery),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){t.setState({marca_tb:e},(function(){console.log(t.state.marca_tb),t.agregarBotones()}))}))}},{key:"fetchDataTable",value:function(){var e=this;fetch(K.api+"/almacen/marcas/tb_marcas",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({marca_tb:t},(function(){console.log(e.state.marca_tb),e.agregarBotones()}))}))}},{key:"fetchQuery",value:function(e){var t=this;fetch(K.api+"/almacen/marcas/tb_marcas?bnombre=".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(a){t.setState({marca_tb:a,estadoQuery:e},(function(){t.agregarBotones(),console.log("obtenido?")}))}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s)),console.log(a),console.log(s)}},{key:"handleChangeBuscador",value:function(e){var t=e.target,a=t.name,s=t.value;console.log(s),this.fetchQuery(s),console.log(a)}},{key:"componentDidMount",value:function(){this.fetchDataTable()}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Modulos de agregar"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-info",onClick:function(){return e.cambiarModalMarca()},children:"Agregar Marca"})]})})}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Marcas"}),Object(Z.jsxs)("table",{id:"tb_marcas",className:"table table-striped",style:{width:"100%"},children:[Object(Z.jsxs)("thead",{children:[Object(Z.jsx)("tr",{children:Object(Z.jsx)("th",{style:{textAlign:"right"},children:Object(Z.jsx)("input",{type:"text",onChange:this.handleChangeBuscador})})}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Nombre de la marca"}),Object(Z.jsx)("th",{children:"Opciones"})]})]}),Object(Z.jsx)("tbody",{children:this.state.marca_tb.data?this.state.marca_tb.data.map((function(t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:t.nombre}),Object(Z.jsxs)("td",{children:[Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarModalEditarMarca(t.id,t.nombre)},children:Object(Z.jsx)("i",{className:"mdi mdi-lead-pencil"})}),Object(Z.jsx)("button",{className:"btn btn-sm btn-danger eliminar",type:"button",onClick:function(){return e.deleteMarca(t.id)},children:Object(Z.jsx)("i",{className:"mdi mdi-delete"})})]})]},t.id)})):null})]}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarPaginate(t)},children:t},t)})):null})})})]})})}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalMarca,onHide:function(){return e.cambiarModalMarca()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar Marca"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsxs)("div",{className:"form-group row",children:[Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"marcaEstado",id:"cerrarMarca",value:"1",defaultChecked:""}),"Cerrar automaticamente",Object(Z.jsx)("i",{className:"input-helper"})]})})}),Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"marcaEstado",id:"abrirMarca",value:"0"}),"Mantenerla abierta",Object(Z.jsx)("i",{className:"input-helper"})]})})})]})}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre de la marca"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreMarca",id:"nombreMarca",onChange:this.handleChange})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearMarca",onClick:function(){return e.sendAgregarMarca()},children:"Agregar"})})]})})]})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalEditarMarca,onHide:function(){return e.cambiarModalEditarMarca()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Editar Marca"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre de la marca"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"editarNombreMarca",id:"editarNombreMarca",value:this.state.editarNombreMarca,onChange:this.handleChange}),Object(Z.jsx)("input",{type:"hidden",name:"editarIdMarca",id:"editarIdMarca"})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"editarMarca",onClick:function(){return e.sendEditarMarca()},children:"Editar"})})]})})})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1060,backgroundColor:"rgba(76,208,76,0.7)",color:"white"},onClose:function(){return e.cambiarToastGreen()},show:this.state.estadoToastGreen,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsxs)("h5",{children:["Se agrego satisfactoriamente ",this.state.messageGreen]})})}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1061,backgroundColor:"rgba(205,55,55,0.7)",color:"white"},onClose:function(){return e.cambiarToastRed()},show:this.state.estadoToastRed,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsxs)("h5",{children:["Hubo un problema al agregar ",this.state.messageRed]})})})]})}}]),a}(s.Component),De=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={proveedores_tb:[],editarRucProveedor:"",csrf_token:"",editarTelefonoProveedor:"",editarNombreProveedor:"",editarDireccionProveedor:"",editarIdProveedor:"",RUCdatos:[],aRuc:"",aTipo:"",aTelefono:"",aNombreProveedor:"",aDireccion:"",estadoModalProveedor:!1,estadoModalEditarProveedor:!1,estadoToastRed:!1,estadoToastGreen:!1,messageRed:"",messageGreen:"",estadoBoton:[],estadoQuery:""},e.handleChangeRUC=e.handleChangeRUC.bind(Object(ae.a)(e)),e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e.handleChangeBuscador=e.handleChangeBuscador.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"cambiarToastRed",value:function(e){this.setState({messageRed:e,estadoToastRed:!this.state.estadoToastRed})}},{key:"cambiarToastGreen",value:function(e){this.setState({messageGreen:e,estadoToastGreen:!this.state.estadoToastGreen})}},{key:"cambiarModalProveedor",value:function(){this.setState({estadoModalProveedor:!this.state.estadoModalProveedor})}},{key:"cambiarModalEditarProveedor",value:function(){this.setState({estadoModalEditarProveedor:!this.state.estadoModalEditarProveedor})}},{key:"agregarBotones",value:function(){var e=this,t=this.state.proveedores_tb.last_page;console.log(t);var a=[];if(t){for(var s=1;s<=t;s++)a.push(s);this.setState({estadoBoton:a},(function(){return console.log(e.state.estadoBoton)}))}}},{key:"cambiarPaginate",value:function(e){var t=this;console.log(e),fetch(K.api+"/almacen/proveedores/tb_proveedores?page=".concat(e,"&buscar=").concat(this.state.estadoQuery),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){t.setState({proveedores_tb:e},(function(){console.log(t.state.proveedores_tb),t.agregarBotones()}))}))}},{key:"fetchQuery",value:function(e){var t=this;fetch(K.api+"/almacen/proveedores/tb_proveedores?buscar=".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(a){t.setState({proveedores_tb:a,estadoQuery:e},(function(){t.agregarBotones(),console.log("obtenido?")}))}))}},{key:"handleChangeBuscador",value:function(e){var t=e.target,a=t.name,s=t.value;console.log(s),this.fetchQuery(s),console.log(a)}},{key:"fetchDataTable",value:function(){var e=this;fetch(K.api+"/almacen/proveedores/tb_proveedores",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({proveedores_tb:t},(function(){console.log(e.state.proveedores_tb),e.agregarBotones()}))}))}},{key:"fetchRUC",value:function(){var e=this;fetch(K.api+"/consult/ruc/".concat(this.state.aRuc),{method:"POST",body:JSON.stringify({_token:this.state.csrf_token}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({RUCdatos:t},(function(){e.datosdeRUC()}))}))}},{key:"datosdeRUC",value:function(){this.state.RUCdatos&&this.setState({aTelefono:this.state.RUCdatos.persona.telefonos[0],aNombreProveedor:this.state.RUCdatos.persona.razonSocial,aDireccion:this.state.RUCdatos.persona.direccion,aTipo:this.state.RUCdatos.persona.tipo},console.log(this.state.RUCdatos))}},{key:"sendAgregarProveedor",value:function(){var e=this;fetch(K.api+"/almacen/proveedor/crear",{method:"POST",body:JSON.stringify({_token:this.state.csrf_token,rucProveedor:this.state.aRuc,telefonoProveedor:this.state.aTelefono,nombreProveedor:this.state.aNombreProveedor,direccionProveedor:this.state.aDireccion,tipoProveedor:this.state.aTipo}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("correcto creado Proveedor:"),e.cambiarToastGreen("el Proveedor"),e.fetchDataTable()):(console.log("error"),e.cambiarToastRed("en agregar Proveedor"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en agregar Proveedor")}))}},{key:"sendEditarProveedor",value:function(){var e=this;fetch(K.api+"/almacen/proveedores/editar",{method:"POST",body:JSON.stringify({_token:this.state.csrf_token,editarRucProveedor:this.state.editarRucProveedor,editarTelefonoProveedor:this.state.editarTelefonoProveedor,editarNombreProveedor:this.state.editarNombreProveedor,editarDireccionProveedor:this.state.editarDireccionProveedor,editarIdProveedor:this.state.editarIdProveedor}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("correcto editado Proveedor:"),e.cambiarToastGreen("el proveedor"),e.fetchDataTable()):(console.log("error"),e.cambiarToastRed("en editar Proveedor"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en editar Proveedor")}))}},{key:"editTask",value:function(e,t,a,s,c){var o;null==a&&(o=""),this.setState({editarRucProveedor:e,editarNombreProveedor:t,editarTelefonoProveedor:o,editarDireccionProveedor:s,editarIdProveedor:c})}},{key:"handleChangeRUC",value:function(e){var t=this,a=e.target,s=a.name,c=a.value;11==c.length&&(this.setState(Object(U.a)({},s,c),(function(){t.fetchRUC()})),console.log(c))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s)),console.log(a),console.log(s)}},{key:"componentDidMount",value:function(){this.fetchDataTable()}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Modulos de agregar"}),Object(Z.jsx)("button",{type:"button",onClick:function(){return e.cambiarModalProveedor()},className:"btn waves-effect waves-light btn-warning",children:"Agregar Proveedor"})]})})}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsxs)("table",{id:"tb_proveedores",className:"table table-striped",style:{width:"100%"},children:[Object(Z.jsxs)("thead",{children:[Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:Object(Z.jsx)("h4",{className:"card-title",children:"Registro de proveedores"})}),Object(Z.jsx)("th",{children:Object(Z.jsx)("input",{type:"text",onChange:this.handleChangeBuscador})})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"RUC proveedor"}),Object(Z.jsx)("th",{children:"Proveedor"}),Object(Z.jsx)("th",{children:"Telef\xf3no"}),Object(Z.jsx)("th",{children:"Direcci\xf3n"}),Object(Z.jsx)("th",{children:"Tipo"}),Object(Z.jsx)("th",{children:"Opciones"})]})]}),Object(Z.jsx)("tbody",{children:this.state.proveedores_tb.data?this.state.proveedores_tb.data.map((function(t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:t.ruc}),Object(Z.jsx)("td",{children:t.nombre}),Object(Z.jsx)("td",{children:t.numero}),Object(Z.jsx)("td",{children:t.direccion}),Object(Z.jsx)("td",{children:t.tipo}),Object(Z.jsx)("td",{children:Object(Z.jsx)("button",{onClick:function(){e.editTask(t.ruc,t.nombre,t.numero,t.direccion,t.id),e.cambiarModalEditarProveedor()},className:"btn btn-sm btn-secondary editar",type:"button",children:Object(Z.jsx)("i",{className:"mdi mdi-lead-pencil"})})})]},t.id)})):null})]}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarPaginate(t)},children:t},t)})):null})})})]})})}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalProveedor,onHide:function(){return e.cambiarModalProveedor()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar Proveedor"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsxs)("div",{className:"form-group row",children:[Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"proveedorEstado",id:"cerrarProveedor",value:"1",defaultChecked:""}),"Cerrar automaticamente",Object(Z.jsx)("i",{className:"input-helper"})]})})}),Object(Z.jsx)("div",{className:"col-sm-6",children:Object(Z.jsx)("div",{className:"form-check",children:Object(Z.jsxs)("label",{className:"form-check-label",children:[Object(Z.jsx)("input",{type:"radio",className:"form-check-input",name:"proveedorEstado",id:"abrirProveedor",value:"0"}),"Mantenerla abierta",Object(Z.jsx)("i",{className:"input-helper"})]})})})]})}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"RUC del proveedor"}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"aRuc",id:"rucProveedor",onChange:this.handleChangeRUC})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Telefono"}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"aTelefono",id:"telefonoProveedor",value:this.state.aTelefono,onChange:this.handleChange})]})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del proveedor"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"aNombreProveedor",id:"nombreProveedor",value:this.state.aNombreProveedor,onChange:this.handleChange})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Direcci\xf3n"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"aDireccion",id:"direccionProveedor",value:this.state.aDireccion,onChange:this.handleChange})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Tipo"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"aTipo",id:"tipoProveedor",value:this.state.aTipo,onChange:this.handleChange})]})})]}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProveedor",onClick:function(){return e.sendAgregarProveedor()},children:"Agregar"})})]})})]})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalEditarProveedor,onHide:function(){return e.cambiarModalEditarProveedor()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Editar Proveedor"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera"}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"RUC:"}),Object(Z.jsx)("input",{type:"hidden",name:"editarIdProveedor",id:"editarIdProveedor"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"editarRucProveedor",id:"editarRucProveedor",value:this.state.editarRucProveedor,onChange:this.handleChange})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Telef\xf3no:"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"editarTelefonoProveedor",id:"editarTelefonoProveedor",value:this.state.editarTelefonoProveedor,onChange:this.handleChange})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del proveedor:"}),Object(Z.jsx)("textarea",{className:"form-control",name:"editarNombreProveedor",id:"editarNombreProveedor",value:this.state.editarNombreProveedor,onChange:this.handleChange})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Direcci\xf3n:"}),Object(Z.jsx)("textarea",{className:"form-control",name:"editarDireccionProveedor",id:"editarDireccionProveedor",value:this.state.editarDireccionProveedor,onChange:this.handleChange})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"editarProveedor",onClick:function(){return e.sendEditarProveedor()},children:"Editar"})})]})})]})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1060,backgroundColor:"rgba(76,208,76,0.7)",color:"white"},onClose:function(){return e.cambiarToastGreen()},show:this.state.estadoToastGreen,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsxs)("h5",{children:["Se agrego satisfactoriamente ",this.state.messageGreen]})})}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1061,backgroundColor:"rgba(205,55,55,0.7)",color:"white"},onClose:function(){return e.cambiarToastRed()},show:this.state.estadoToastRed,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsxs)("h5",{children:["Hubo un problema al agregar ",this.state.messageRed]})})})]})}}]),a}(s.Component),we=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={tiposProductos_tb:[],nombreTipoProducto:"",editarNombreTipoProducto:"",editarIdTipoProducto:"",csrf_token:"",estadoModalTipoProducto:!1,estadoModalEditarTipoProducto:!1,estadoToastRed:!1,estadoToastGreen:!1,messageRed:"",messageGreen:"",estadoBoton:[],estadoQuery:""},e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e.agregarBotones=e.agregarBotones.bind(Object(ae.a)(e)),e.handleChangeBuscador=e.handleChangeBuscador.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"cambiarToastRed",value:function(e){this.setState({messageRed:e,estadoToastRed:!this.state.estadoToastRed})}},{key:"cambiarToastGreen",value:function(e){this.setState({messageGreen:e,estadoToastGreen:!this.state.estadoToastGreen})}},{key:"cambiarModalTipoProducto",value:function(){this.setState({estadoModalTipoProducto:!this.state.estadoModalTipoProducto})}},{key:"cambiarModalEditarTipoProducto",value:function(e,t){this.setState({estadoModalEditarTipoProducto:!this.state.estadoModalEditarTipoProducto,editarNombreTipoProducto:e,editarIdTipoProducto:t})}},{key:"agregarBotones",value:function(){var e=this,t=this.state.tiposProductos_tb.last_page;console.log(t);var a=[];if(t){for(var s=1;s<=t;s++)a.push(s);this.setState({estadoBoton:a},(function(){return console.log(e.state.estadoBoton)}))}}},{key:"cambiarPaginate",value:function(e){var t=this;console.log(e),fetch(K.api+"/almacen/tiposproductos/tb_tiposProductos?page=".concat(e,"&bnombre=").concat(this.state.estadoQuery),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){t.setState({tiposProductos_tb:e},(function(){console.log(t.state.tiposProductos_tb),t.agregarBotones()}))}))}},{key:"fetchQuery",value:function(e){var t=this;fetch(K.api+"/almacen/tiposproductos/tb_tiposProductos?bnombre=".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(a){t.setState({tiposProductos_tb:a,estadoQuery:e},(function(){t.agregarBotones(),console.log("obtenido?")}))}))}},{key:"handleChangeBuscador",value:function(e){var t=e.target,a=t.name,s=t.value;console.log(s),this.fetchQuery(s),console.log(a)}},{key:"fetchDataTable",value:function(){var e=this;fetch(K.api+"/almacen/tiposproductos/tb_tiposProductos",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({tiposProductos_tb:t},(function(){console.log(e.state.tiposProductos_tb),e.agregarBotones()}))}))}},{key:"sendAgregarTipoProducto",value:function(){var e=this;fetch(K.api+"/almacen/tipo/crear",{method:"POST",body:JSON.stringify({_token:this.state.csrf_token,nuevoTipoProducto:this.state.nombreTipoProducto}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("el tipo de producto"),e.fetchDataTable()):(console.log("error"),e.cambiarToastRed("en agregar tipo de producto"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en agregar tipo de producto")}))}},{key:"sendEditarTipoProducto",value:function(){var e=this;fetch(K.api+"/almacen/tiposproductos/editar",{method:"POST",body:JSON.stringify({_token:this.state.csrf_token,editarNombreTipoProducto:this.state.editarNombreTipoProducto,editarIdTipoProducto:this.state.editarIdTipoProducto}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("el tipo de producto"),e.fetchDataTable()):(console.log("error"),e.cambiarToastRed("en editar tipo de producto"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("en editar el tipo de producto")}))}},{key:"deleteTipoProducto",value:function(e){var t=this;fetch(K.api+"/almacen/tiposproductos/eliminar",{method:"POST",body:JSON.stringify({_token:this.state.csrf_token,id:e}),headers:{Accept:"application/json","Content-type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){1==e.response?(console.log("exito"),t.cambiarToastGreen("en eliminar tipo de producto"),t.fetchDataTable()):(console.log("error"),t.cambiarToastRed("en eliminar tipo de producto"))})).catch((function(e){console.log("Hubo un problema con la petici\xf3n Fetch:"+e.message),t.cambiarToastRed("en eliminar tipo de producto")}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s)),console.log(a),console.log(s)}},{key:"componentDidMount",value:function(){this.fetchDataTable()}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Modulos de agregar"}),Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-success",onClick:function(){return e.cambiarModalTipoProducto()},children:"Agregar Tipo de Producto"})]})})}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Tipos de productos"}),Object(Z.jsxs)("table",{id:"tb_tiposProductos",className:"table table-striped",style:{width:"100%"},children:[Object(Z.jsxs)("thead",{children:[Object(Z.jsx)("tr",{children:Object(Z.jsx)("th",{style:{textAlign:"right"},children:Object(Z.jsx)("input",{type:"text",onChange:this.handleChangeBuscador})})}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Tipo de producto"}),Object(Z.jsx)("th",{children:"Opciones"})]})]}),Object(Z.jsx)("tbody",{children:this.state.tiposProductos_tb.data?this.state.tiposProductos_tb.data.map((function(t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:t.nombre}),Object(Z.jsxs)("td",{children:[Object(Z.jsx)("button",{onClick:function(){return e.cambiarModalEditarTipoProducto(t.nombre,t.id)},className:"btn btn-sm btn-secondary editar",type:"button",children:Object(Z.jsx)("i",{className:"mdi mdi-lead-pencil"})}),Object(Z.jsx)("button",{className:"btn btn-sm btn-danger eliminar",type:"button",onClick:function(){return e.deleteTipoProducto(t.id)},children:Object(Z.jsx)("i",{className:"mdi mdi-delete"})})]})]},t.id)})):null})]}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarPaginate(t)},children:t},t)})):null})})})]})})}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalTipoProducto,onHide:function(){return e.cambiarModalTipoProducto()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:Object(Z.jsx)("h4",{children:" Agregar tipo de producto "})})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del tipo de producto"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreTipoProducto",id:"nuevoTipoProducto",value:this.state.nombreTipoProducto,onChange:this.handleChange})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearTipoProducto",onClick:function(){return e.sendAgregarTipoProducto()},children:"CREAR"})})]})})})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalEditarTipoProducto,onHide:function(){return e.cambiarModalEditarTipoProducto()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:Object(Z.jsx)("h4",{children:" Editar tipo de producto "})})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del tipo de producto"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"editarNombreTipoProducto",id:"editarNombreTipoProducto",value:this.state.editarNombreTipoProducto,onChange:this.handleChange}),Object(Z.jsx)("input",{type:"hidden",name:"editarIdTipoProducto",id:"editarIdTipoProducto"})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"editarTipoProducto",onClick:function(){return e.sendEditarTipoProducto()},children:"Editar"})})]})})})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1060,backgroundColor:"rgba(76,208,76,0.7)",color:"white"},onClose:function(){return e.cambiarToastGreen()},show:this.state.estadoToastGreen,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsxs)("h5",{children:["Se agrego satisfactoriamente ",this.state.messageGreen]})})}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1061,backgroundColor:"rgba(205,55,55,0.7)",color:"white"},onClose:function(){return e.cambiarToastRed()},show:this.state.estadoToastRed,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsxs)("h5",{children:["Hubo un problema al agregar ",this.state.messageRed]})})})]})}}]),a}(s.Component),Re=function(){return Object(Z.jsxs)("div",{className:"container-fluid page-body-wrapper",children:[Object(Z.jsx)("nav",{className:"sidebar sidebar-offcanvas",id:"sidebar",children:Object(Z.jsxs)("ul",{className:"nav",children:[Object(Z.jsx)("li",{className:"nav-item nav-profile",children:Object(Z.jsxs)(te.b,{className:"nav-link",to:"/queso",children:[Object(Z.jsxs)("div",{className:"nav-profile-image",children:[Object(Z.jsx)("img",{src:"/home",alt:"profile"}),Object(Z.jsx)("span",{className:"login-status online"})]}),Object(Z.jsxs)("div",{className:"nav-profile-text d-flex flex-column",children:[Object(Z.jsx)("span",{className:"font-weight-bold mb-2",children:"user"}),Object(Z.jsx)("span",{className:"text-secondary text-small",children:"Vendedor"})]}),Object(Z.jsx)("i",{className:"mdi mdi-bookmark-check text-success nav-profile-badge"})]})}),Object(Z.jsxs)("li",{className:"nav-item",children:[Object(Z.jsxs)("a",{className:"nav-link","data-toggle":"collapse",href:"#ui-basic","aria-expanded":"false","aria-controls":"ui-basic",children:[Object(Z.jsx)("span",{className:"menu-title",children:"Almac\xe9n"}),Object(Z.jsx)("i",{className:"menu-arrow"}),Object(Z.jsx)("i",{className:"mdi mdi-crosshairs-gps menu-icon"})]}),Object(Z.jsx)("div",{className:"collapse",id:"ui-basic",children:Object(Z.jsxs)("ul",{className:"nav flex-column sub-menu",children:[Object(Z.jsxs)("li",{className:"nav-item",children:[" ",Object(Z.jsx)(te.b,{className:"nav-link",to:"/almacen",children:"Almacen"})]}),Object(Z.jsxs)("li",{className:"nav-item",children:[" ",Object(Z.jsx)(te.b,{className:"nav-link",to:"/almacen/entrada",children:"Entradas"})]}),Object(Z.jsxs)("li",{className:"nav-item",children:[" ",Object(Z.jsx)(te.b,{className:"nav-link",to:"/almacen/proveedor",children:"Proveedores"})]}),Object(Z.jsxs)("li",{className:"nav-item",children:[" ",Object(Z.jsx)(te.b,{className:"nav-link",to:"/almacen/tiposproductos",children:"Tipos producto"})]}),Object(Z.jsxs)("li",{className:"nav-item",children:[" ",Object(Z.jsx)(te.b,{className:"nav-link",to:"/almacen/marcas",children:"Marcas"})]})]})})]}),Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsxs)(te.b,{className:"nav-link",to:"/ventas",children:[Object(Z.jsx)("span",{className:"menu-title",children:"Ventas"}),Object(Z.jsx)("i",{className:"mdi mdi-shopping menu-icon"})]})}),Object(Z.jsxs)("li",{className:"nav-item",children:[Object(Z.jsxs)("a",{className:"nav-link","data-toggle":"collapse",href:"#ui-configuracion","aria-expanded":"false","aria-controls":"ui-basic",children:[Object(Z.jsx)("span",{className:"menu-title",children:"Configuraci\xf3n"}),Object(Z.jsx)("i",{className:"menu-arrow"}),Object(Z.jsx)("i",{className:"mdi mdi-crosshairs-gps menu-icon"})]}),Object(Z.jsx)("div",{className:"collapse",id:"ui-configuracion",children:Object(Z.jsxs)("ul",{className:"nav flex-column sub-menu",children:[Object(Z.jsxs)("li",{className:"nav-item",children:[" ",Object(Z.jsx)(te.b,{className:"nav-link",to:"/configuracion/descuentos",children:"Descuentos"})]}),Object(Z.jsxs)("li",{className:"nav-item",children:[" ",Object(Z.jsx)(te.b,{className:"nav-link",to:"/configuracion/usuarios",children:"Usuarios"})]})]})})]}),Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsxs)("a",{className:"nav-link",href:"#",children:[Object(Z.jsx)("span",{className:"menu-title",children:"Estadisticas"}),Object(Z.jsx)("i",{className:"mdi mdi-shopping menu-icon"})]})}),Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsxs)("a",{className:"nav-link",href:"#",children:[Object(Z.jsx)("span",{className:"menu-title",children:"Perfil"}),Object(Z.jsx)("i",{className:"mdi mdi-shopping menu-icon"})]})})]})}),Object(Z.jsx)("div",{className:"main-panel",style:{float:"left"},children:Object(Z.jsx)("div",{className:"content-wrapper",children:Object(Z.jsx)("div",{className:"row",children:"Hola prros gaaaaa :v"})})})]})},Ve=function(e){var t=e,a=[];if(t){for(var s=1;s<=t;s++)a.push(s);return a}},Me=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={tb_descuentos:[],estadoBoton:[],idDescuento:""},e.fetchDescuentos=e.fetchDescuentos.bind(Object(ae.a)(e)),e.fetchEliminarDescuento=e.fetchEliminarDescuento.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.fetchDescuentos(1,"","")}},{key:"fetchDescuentos",value:function(e,t,a){var s=this,c=K.api+"/configuracion/descuentos/tb_descuentos?page=".concat(e);fetch(c,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){s.setState({tb_descuentos:t.tb_descuentos.data,numeroPagina:e},(function(){s.setState({estadoBoton:Ve(t.tb_descuentos.last_page)})}))}))}},{key:"confirmarEliminarTransferencia",value:function(e){Object(oe.confirmAlert)({title:"ELIMINAR OFERTA",message:"Una vez eliminado no hay forma de recuperarlo",buttons:[{label:"ELIMINAR",onClick:this.fetchEliminarDescuento},{label:"CANCELAR",onClick:console.log("")}]}),this.setState({idDescuento:e})}},{key:"fetchEliminarDescuento",value:function(){var e=this,t=K.api+"/configuraciones/descuentos/eliminar";de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"ELIMINANDO OFERTA"})}),{position:"top-right"}).then((function(){fetch(t,{method:"POST",body:JSON.stringify({idDescuento:e.state.idDescuento}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.respuesta?(de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:t.mensaje})}),{position:"top-right"}),e.fetchDescuentos(1,"","")):de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:t.mensaje})}),{position:"top-right"})}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"GESTION DE OFERTAS:"}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("div",{className:"table-responsive",children:Object(Z.jsxs)("table",{className:"table table-bordered table-striped",id:"tbl_products",children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Codigo del Producto"}),Object(Z.jsx)("th",{children:"Nombre del Producto"}),Object(Z.jsx)("th",{children:"Cantidad"}),Object(Z.jsx)("th",{children:"Porcentaje"}),Object(Z.jsx)("th",{children:"Precio del Producto"}),Object(Z.jsx)("th",{children:"Nuevo precio del producto"}),Object(Z.jsx)("th",{children:"Opciones"})]})}),Object(Z.jsx)("tbody",{children:this.state.tb_descuentos?this.state.tb_descuentos.map((function(t,a){return Object(Z.jsxs)("tr",{children:[Object(Z.jsxs)("td",{children:[" ",t.codigoProductos]}),Object(Z.jsxs)("td",{children:[" ",t.nombreProductos]}),Object(Z.jsxs)("td",{children:[" ",t.cantidadDescuentos]}),Object(Z.jsxs)("td",{children:[" ",t.porcentajeDescuentos]}),Object(Z.jsxs)("td",{children:[" ",t.precioProductos]}),Object(Z.jsxs)("td",{children:[" ",t.nuevoPrecioDescuentos]}),Object(Z.jsx)("td",{children:Object(Z.jsx)("button",{className:"btn btn-sm btn-danger ",type:"button",onClick:function(){return e.confirmarEliminarTransferencia(t.idDescuentos)},children:Object(Z.jsx)("i",{className:"mdi mdi-delete"})})})]},t.idDescuentos)})):null})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:function(){return e.fetchDescuentos(t,"","")},children:t},t)})):null})})})]})})]})})})}}]),a}(s.Component),Ie=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={estadoModalAgregarOferta:!1,idProductoEscaneado:0,codigoProductoEscaneado:"",nombreProductoEscaneado:"",stockProductoEscaneado:0,precioProductoEscaneado:0,cantidadOferta:"",nuevoPrecioOferta:"",estadoToast:!1,mensajeToast:"",colorToast:"rgba(76,208,76,0.7)"},e.getCambioCodigo=e.getCambioCodigo.bind(Object(ae.a)(e)),e.fetchCodigoProducto=e.fetchCodigoProducto.bind(Object(ae.a)(e)),e.getCambioCantidadOferta=e.getCambioCantidadOferta.bind(Object(ae.a)(e)),e.getCambioNuevoPrecio=e.getCambioNuevoPrecio.bind(Object(ae.a)(e)),e.fetchAgregarOferta=e.fetchAgregarOferta.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"modalAgregarOferta",value:function(){this.setState({estadoModalAgregarOferta:!this.state.estadoModalAgregarOferta})}},{key:"activarToast",value:function(e,t){this.setState({mensajeToast:e,colorToast:t,estadoToast:!0})}},{key:"getCambioCodigo",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({codigoProductoEscaneado:a}),"Enter"===e.key&&(console.log(a),this.fetchCodigoProducto(a))}},{key:"fetchCodigoProducto",value:function(e){var t=this;fetch(K.api+"/producto/buscar",{method:"POST",body:JSON.stringify({codigoProducto:e}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){if(console.log("datos:"),console.log(e),1==e.response){var a=e.producto;t.setState({idProductoEscaneado:a.id,nombreProductoEscaneado:a.nombre,stockProductoEscaneado:a.cantidad,precioProductoEscaneado:a.precio})}else t.activarToast("Producto no encontrado","rgba(205,55,55,0.7)")}))}},{key:"getCambioCantidadOferta",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({cantidadOferta:a})}},{key:"getCambioNuevoPrecio",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({nuevoPrecioOferta:a})}},{key:"fetchAgregarOferta",value:function(){var e=this;fetch(K.api+"/configuraciones/descuentos/crear",{method:"POST",body:JSON.stringify({idProducto:this.state.idProductoEscaneado,precioProducto:this.state.precioProductoEscaneado,nuevoPrecio:this.state.nuevoPrecioOferta,cantidad:this.state.cantidadOferta}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){console.log(t),console.log(t.response),1==t.response?(e.activarToast("Oferta creada satisfactoriamente","rgba(76,208,76,0.7)"),e.modalAgregarOferta()):e.activarToast("Ocurrio un error al momento de agregar la oferta","rgba(205,55,55,0.7)")}))}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Acciones"}),Object(Z.jsx)("button",{type:"button",onClick:function(){return e.modalAgregarOferta()},className:"btn btn-primary btn-rounded btn-fw",children:"Crear una oferta"})]})})}),Object(Z.jsx)(Me,{}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.estadoModalAgregarOferta,onHide:function(){return e.modalAgregarOferta()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar Oferta"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoProductoEscaneado",id:"codigoProductoEscaneado",onChange:this.getCambioCodigo,onKeyDown:this.getCambioCodigo,autoFocus:!0,value:this.state.codigoProductoEscaneado})]}),Object(Z.jsx)("div",{className:"col-12",id:"alertaCodigo"})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-8",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.nombreProductoEscaneado," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Stock"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.stockProductoEscaneado," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Precio"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" S/",this.state.precioProductoEscaneado," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Cantidad"}),Object(Z.jsx)("input",{type:"text",name:"cantidadOferta",id:"cantidadOferta",className:"form-control",onChange:this.getCambioCantidadOferta,value:this.state.cantidadOferta})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Nuevo precio"}),Object(Z.jsx)("input",{type:"text",name:"nuevoPrecioOferta",id:"nuevoPrecioOferta",className:"form-control",onChange:this.getCambioNuevoPrecio,value:this.state.nuevoPrecioOferta})]})]})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProducto",onClick:function(){return e.fetchAgregarOferta()},children:"Agregar"})})]})})})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:20,right:20,zIndex:1060,backgroundColor:this.state.colorToast,color:"white"},onClose:function(){return e.setState({estadoToast:!1})},show:this.state.estadoToast,delay:2500,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h3",{children:this.state.mensajeToast})})})]})}}]),a}(s.Component),_e=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={usuario_tb:[],sucursales:[],sucursalesPArray:[],editarNombreUsuario:"",editarIdUsuario:"",estadoModalAgregarUsuario:!1,estadoModalEditarUsuario:!1,estadoToastRed:!1,estadoToastGreen:!1,messageRed:"",messageGreen:"",estadoBoton:[],estadoQuery:"",crearNombre:"",crearPassword:"",crearUsername:"",crearSucursales:[],crearSucursalPredeterminada:"",editarId:"",editarNombre:"",editarUsername:"",editarPassword:"",editarSucursales:[],editarSucursalPredeterminada:"",dniData:"",dniUsuario:""},e.fetchDataTable=e.fetchDataTable.bind(Object(ae.a)(e)),e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e.handleChangeDni=e.handleChangeDni.bind(Object(ae.a)(e)),e.addSucursal=e.addSucursal.bind(Object(ae.a)(e)),e.predeterminarSucursal=e.predeterminarSucursal.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"cleanInputs",value:function(e){"crear"==e?this.setState({crearNombre:"",crearPassword:"",crearUsername:"",crearSucursales:[],crearSucursalPredeterminada:""}):"editar"==e?this.setState({editarId:"",editarNombre:"",editarUsername:"",editarPassword:"",editarSucursalPredeterminada:""}):this.setState({usuario_tb:[],sucursales:[],editarNombreUsuario:"",editarIdUsuario:""})}},{key:"cambiarToastRed",value:function(e){this.setState({messageRed:e,estadoToastRed:!this.state.estadoToastRed})}},{key:"cambiarToastGreen",value:function(e){this.setState({messageGreen:e,estadoToastGreen:!this.state.estadoToastGreen})}},{key:"cambiarModalAgregarUsuario",value:function(){this.setState({estadoModalAgregarUsuario:!this.state.estadoModalAgregarUsuario,crearSucursales:[]})}},{key:"cambiarModalEditarUsuario",value:function(e,t,a,s,c,o){var r=this;if("editar"==e){var n=[];console.log(c);this.setState({estadoModalEditarUsuario:!this.state.estadoModalEditarUsuario,editarId:t,editarNombre:a,editarUsername:s,editarSucursales:(c.map((function(e){var t=e.pivot.sucursal_id;n.push(t.toString()),console.log(e)})),n),editarSucursalPredeterminada:o},(function(){console.log(r.state.editarSucursales),r.setState({crearSucursales:r.state.editarSucursales})}))}else this.setState({estadoModalEditarUsuario:!this.state.estadoModalEditarUsuario,editarSucursales:[]})}},{key:"sendCrearUsuario",value:function(){var e=this;fetch(K.api+"/configuraciones/usuarios/crear",{method:"POST",body:JSON.stringify({nombre:this.state.crearNombre,username:this.state.crearUsername,password:this.state.crearPassword,sucursales:this.state.crearSucursales,predeterminado:this.state.crearSucursalPredeterminada}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("Se creo exitosamente el usuario"),e.cleanInputs("crear"),e.fetchDataTable()):(console.log("error"),e.cambiarToastRed("Error en crear usuario"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Error en crear usuario")}))}},{key:"sendEditarUsuario",value:function(){var e=this;fetch(K.api+"/configuraciones/usuarios/editar",{method:"POST",body:JSON.stringify({id:this.state.editarId,nombre:this.state.editarNombre,username:this.state.editarUsername,password:this.state.editarPassword,sucursales:this.state.crearSucursales,predeterminado:this.state.editarSucursalPredeterminada}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log("exito"),e.cambiarToastGreen("se edito el usuario"),e.cleanInputs("editar"),e.fetchDataTable()):(console.log("error"),e.cambiarToastRed("Error en editar usuario"))})).catch((function(t){console.log("Hubo un problema con la petici\xf3n Fetch:"+t.message),e.cambiarToastRed("Error en editar usuario")}))}},{key:"deleteUsuario",value:function(e){var t=this;console.log(e),fetch(K.api+"/almacen/marcas/eliminar",{method:"POST",body:JSON.stringify({id:e}),headers:{Accept:"application/json","Content-type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){1==e.response?(console.log("exito"),t.cambiarToastGreen("en eliminar Marca"),t.fetchDataTable()):(console.log("error"),t.cambiarToastRed("en eliminar Marca"))})).catch((function(e){console.log("Hubo un problema con la petici\xf3n Fetch:"+e.message),t.cambiarToastRed("en eliminar Marca")}))}},{key:"addSucursal",value:function(e){var t=this,a=e.target,s=a.checked,c=a.value;if(1==s){(o=Object(ve.a)(this.state.crearSucursales)).push(c),this.setState({crearSucursales:o,editarSucursales:o},(function(){1==t.state.editarSucursales.length&&t.setState({editarSucursalPredeterminada:t.state.editarSucursales[0],crearSucursalPredeterminada:t.state.editarSucursales[0]})}))}else{console.log("deslogeado");var o,r=(o=Object(ve.a)(this.state.crearSucursales)).findIndex((function(e){return e===c}));r>-1&&(o.splice(r,1),this.setState({crearSucursales:o,editarSucursales:o},(function(){1==t.state.editarSucursales.length&&t.setState({editarSucursalPredeterminada:t.state.editarSucursales[0],crearSucursalPredeterminada:t.state.editarSucursales[0]})})))}}},{key:"handleChangeDni",value:function(e){var t=this,a=e.target,s=a.name,c=a.value;8==c.length&&(this.setState(Object(U.a)({},s,c),(function(){t.fetchDNI()})),console.log(c)),console.log(s),console.log(c)}},{key:"fetchDNI",value:function(){var e=this;fetch(K.api+"/consult/dni/".concat(this.state.dniUsuario),{method:"POST",body:JSON.stringify({}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({dniData:t},(function(){return e.dniOpe()}))}))}},{key:"dniOpe",value:function(){var e=this.state.dniData,t=e.persona.nombres+" "+e.persona.apellidoMaterno+" "+e.persona.apellidoPaterno;this.setState({crearNombre:t})}},{key:"fetchDataTable",value:function(){var e=this;fetch(K.api+"/configuracion/usuarios/tb_usuarios",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({usuario_tb:t},(function(){console.log(e.state.usuario_tb)}))})),fetch(K.api+"/configuracion/usuarios/tb_sucursales",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({sucursales:t,sucursalesPArray:t},(function(){console.log(e.state.sucursales)}))}))}},{key:"predeterminarSucursal",value:function(){}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s)),console.log(a),console.log(s)}},{key:"handleChangeBuscador",value:function(e){var t=e.target,a=t.name,s=t.value;console.log(s),this.fetchQuery(s),console.log(a)}},{key:"componentDidMount",value:function(){this.fetchDataTable()}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Acciones"}),Object(Z.jsx)("button",{type:"button",onClick:function(){return e.cambiarModalAgregarUsuario()},className:"btn waves-effect waves-light btn-info",children:"Agregar Usuario"})]})})}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Usuarios"}),Object(Z.jsxs)("table",{id:"tb_usuarios",className:"table table-striped",style:{width:"100%"},children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Codigo"}),Object(Z.jsx)("th",{children:"Nombre"}),Object(Z.jsx)("th",{children:"Username"}),Object(Z.jsx)("th",{children:"Sucursales"}),Object(Z.jsx)("th",{children:"Opciones"})]})}),Object(Z.jsx)("tbody",{children:this.state.usuario_tb?this.state.usuario_tb.map((function(t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:t.id}),Object(Z.jsx)("td",{children:t.name}),Object(Z.jsx)("td",{children:t.username}),Object(Z.jsx)("td",{children:t.sucursales.map((function(e){return Object(Z.jsx)("div",{children:e.nombre})}))}),Object(Z.jsxs)("td",{children:[Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarModalEditarUsuario("editar",t.id,t.name,t.username,t.sucursales,t.predeterminado)},children:Object(Z.jsx)("i",{className:"mdi mdi-lead-pencil"})}),Object(Z.jsx)("button",{className:"btn btn-sm btn-danger eliminar",type:"button",onClick:function(){return e.deleteUsuario(t.id)},children:Object(Z.jsx)("i",{className:"mdi mdi-delete"})})]})]},t.id)})):null}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarPaginate(t)},children:t},t)})):null})})})]})]})})}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalAgregarUsuario,onHide:function(){return e.cambiarModalAgregarUsuario()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Agregar Usuario"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputUsername1",children:"Dni"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"dniUsuario",onChange:this.handleChangeDni})]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputUsername1",children:"NOMBRES COMPLETOS"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"crearNombre",onChange:this.handleChange,value:this.state.crearNombre,placeholder:"NOMBRE Y APELLIDOS"})]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputEmail1",children:"USERNAME"}),Object(Z.jsx)("input",{type:"email",className:"form-control",name:"crearUsername",onChange:this.handleChange,value:this.state.crearUsername,placeholder:"Username"})]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputPassword1",children:"CONTRASE\xd1A"}),Object(Z.jsx)("input",{type:"password",className:"form-control",name:"crearPassword",onChange:this.handleChange,value:this.state.crearPassword,placeholder:"**********"})]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Sucursales"}),this.state.sucursales?this.state.sucursales.map((function(t){return Object(Z.jsxs)("div",{children:[Object(Z.jsx)("input",{type:"checkbox",name:"sucursalCrear",value:t.id,onClick:e.addSucursal})," ",t.nombre]})})):null]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{children:"Seleccionar sucursal predeterminada"}),Object(Z.jsx)("select",{className:"form-control listProductos",name:"crearSucursalPredeterminada",onChange:this.handleChange,value:this.state.crearSucursalPredeterminada,children:this.state.sucursalesPArray?this.state.sucursalesPArray.map((function(t){if(e.state.editarSucursales.findIndex((function(e){return e==t.id}))>-1)return Object(Z.jsxs)("option",{value:t.id,children:[" ",t.nombre," "]},t.id)})):null})]}),Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",onClick:function(){return e.sendCrearUsuario()},children:"Crear"})]})})})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadoModalEditarUsuario,onHide:function(){return e.cambiarModalEditarUsuario()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Editar Usuario"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputUsername1",children:"NOMBRES COMPLETOS"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"editarNombre",value:this.state.editarNombre,onChange:this.handleChange,placeholder:"NOMBRE Y APELLIDOS"})]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputEmail1",children:"USERNAME"}),Object(Z.jsx)("input",{type:"email",className:"form-control",name:"editarUsername",value:this.state.editarUsername,onChange:this.handleChange,placeholder:"Email"})]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputPassword1",children:"CONTRASE\xd1A"}),Object(Z.jsx)("input",{type:"password",className:"form-control",name:"editarPassword",value:this.state.editarPassword,onChange:this.handleChange,placeholder:"**********"})]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Sucursales"}),this.state.sucursales?this.state.sucursales.map((function(t){return Object(Z.jsx)("div",{children:e.state.editarSucursales.findIndex((function(e){return e==t.id}))>-1?Object(Z.jsxs)("div",{children:[Object(Z.jsx)("input",{type:"checkbox",name:"sucursalEditar",value:t.id,defaultChecked:!0,onClick:e.addSucursal})," ",t.nombre]}):Object(Z.jsxs)("div",{children:[Object(Z.jsx)("input",{type:"checkbox",name:"sucursalEditar",value:t.id,onClick:e.addSucursal})," ",t.nombre]})})})):null]}),Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{children:"Seleccionar sucursal predeterminada"}),Object(Z.jsx)("select",{className:"form-control listProductos",name:"editarSucursalPredeterminada",onChange:this.handleChange,value:this.state.editarSucursalPredeterminada,children:this.state.sucursalesPArray?this.state.sucursalesPArray.map((function(t,a){if(e.state.editarSucursales.findIndex((function(e){return e==t.id}))>-1)return Object(Z.jsxs)("option",{value:t.id,children:[" ",t.nombre," "]},t.id)})):null})]}),Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",onClick:function(){return e.sendEditarUsuario()},children:"Editar"})]})})})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1060,backgroundColor:"rgba(76,208,76,0.7)",color:"white"},onClose:function(){return e.cambiarToastGreen()},show:this.state.estadoToastGreen,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h4",{children:this.state.messageGreen})})}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:5,right:5,zIndex:1061,backgroundColor:"rgba(205,55,55,0.7)",color:"white"},onClose:function(){return e.cambiarToastRed()},show:this.state.estadoToastRed,delay:3e3,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h4",{children:this.state.messageRed})})})]})}}]),a}(s.Component),Be=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"col-2",children:Object(Z.jsx)("button",{className:"btn waves-effect waves-light btn-success",onClick:function(){return e.props.generateExcel()},children:"Generar excel"})})}}]),a}(s.Component),Ge=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Detalles (seguimiento en el Tiempo)"}),Object(Z.jsxs)("table",{id:"tb_usuarios",className:"table table-striped",style:{width:"100%"},children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"SUCURSAL"}),Object(Z.jsx)("th",{children:"FECHA"}),Object(Z.jsx)("th",{children:"ACCION"}),Object(Z.jsx)("th",{children:"NUMERO"}),Object(Z.jsx)("th",{children:"CANTIDAD"}),Object(Z.jsx)("th",{children:"STOCK"})]})}),Object(Z.jsx)("tbody",{children:this.props.reporte.movimientos?this.props.reporte.movimientos.map((function(e,t){return 1==e.operacion?Object(Z.jsxs)("tr",{className:"table-success",children:[Object(Z.jsx)("td",{children:e.sucursal}),Object(Z.jsx)("td",{children:e.fecha}),Object(Z.jsx)("td",{children:e.accion}),Object(Z.jsx)("td",{children:e.registro}),Object(Z.jsxs)("td",{children:["+",e.cantidad]}),Object(Z.jsx)("td",{children:e.stock})]},t):Object(Z.jsxs)("tr",{className:"table-danger",children:[Object(Z.jsx)("td",{children:e.sucursal}),Object(Z.jsx)("td",{children:e.fecha}),Object(Z.jsx)("td",{children:e.accion}),Object(Z.jsx)("td",{children:e.registro}),Object(Z.jsxs)("td",{children:["-",e.cantidad]}),Object(Z.jsx)("td",{children:e.stock})]},t)})):null})]})]})})})}}]),a}(s.Component),Ue=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={data:[{quarter:1,earnings:130},{quarter:2,earnings:160},{quarter:3,earnings:140},{quarter:4,earnings:190}]},e}return Object(F.a)(a,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsx)("div",{className:"card-body",children:Object(Z.jsx)("div",{class:"row justify-content-md-center",children:Object(Z.jsx)("div",{className:"col-6"})})})})})}}]),a}(s.Component),Le=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={reporte:[],codigoProducto:"",sucursalProducto:"",codigoProductoSpan:"",stockActual:"",nombreProducto:"",entradaTotal:"",transferenciaEnviadas:"",transferenciaRecibidas:"",totalVendido:"",addBotones:!1,addTabla:!1,addGraficos:!1},e.fetchDataTable=e.fetchDataTable.bind(Object(ae.a)(e)),e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e.generateGraficos=e.generateGraficos.bind(Object(ae.a)(e)),e.generateExcel=e.generateExcel.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"cleanInputs",value:function(e){}},{key:"crearRegistros",value:function(){var e=this.state.reporte;this.setState({codigoProductoSpan:this.state.codigoProducto,stockActual:e.stockActual,nombreProducto:e.nombre,entradaTotal:e.entradasTotales,transferenciaEnviadas:e.transferEnviadas,transferenciaRecibidas:e.transferRecibidas,totalVendido:e.ventasTotales,sucursalProducto:1})}},{key:"limpiarRegistros",value:function(){this.setState({codigoProductoSpan:"",stockActual:"",nombreProducto:"",entradaTotal:"",transferenciaEnviadas:"",transferenciaRecibidas:"",totalVendido:"",sucursalProducto:""})}},{key:"sendCodigoProducto",value:function(){var e=this;de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"Buscando registros del producto"})}),{position:"top-right"}).then((function(){fetch(K.api+"/movimientos/reporte",{method:"POST",body:JSON.stringify({codigo:e.state.codigoProducto}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.response?(console.log(t),e.setState({reporte:t,addBotones:!0,addTabla:!0},(function(){return e.crearRegistros()})),console.log("exito"),de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"Registros encontrados"})}),{position:"top-right"})):(e.setState({addBotones:!1,addTabla:!1},(function(){return e.limpiarRegistros()})),de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"Registros no encontrados"})}),{position:"top-right"}))})).catch((function(e){console.log("Hubo un problema con la petici\xf3n Fetch:"+e.message),de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"Hubo un error al buscar producto"})}),{position:"top-right"})}))}))}},{key:"fetchDataTable",value:function(){var e=this;fetch(K.api+"/configuracion/usuarios/tb_sucursales",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({sucursales:t},(function(){console.log(e.state.sucursales)}))}))}},{key:"generateExcel",value:function(){var e=this;de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"Generando Excel"})}),{position:"top-right"}).then((function(){fetch(K.api+"/movimientos/reporte",{method:"POST",body:JSON.stringify({codigo:e.state.codigoProducto,descargar:!0}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.blob()})).then((function(t){var a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download="".concat(e.state.nombreProducto,"-").concat(e.state.codigoProducto,".xlsx"),a.click(),de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"Excel generado"})}),{position:"top-right"})})).catch((function(e){console.log("Hubo un problema con la petici\xf3n Fetch:"+e.message),de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"HUBO UN PROBLEMA AL CANCELAR LA VENTA"})}),{position:"top-right"})}))}))}},{key:"generateGraficos",value:function(){var e=this;console.log("graficos"),this.setState({addTabla:!1},(function(){return e.setState({addGraficos:!0})}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s)),console.log(a),console.log(s)}},{key:"componentDidMount",value:function(){this.fetchDataTable()}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:" Buscar producto "}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoProducto",onChange:this.handleChange,value:this.state.codigoProducto})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Seleccionar sucursal"}),Object(Z.jsx)("select",{className:"form-control listProductos",name:"sucursalProducto",onChange:this.handleChange,value:this.state.sucursalProducto,children:this.state.sucursales?this.state.sucursales.map((function(e){return Object(Z.jsxs)("option",{value:e.id,children:[" ",e.nombre," "]},e.id)})):null})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("br",{}),Object(Z.jsx)("button",{type:"button",onClick:function(){return e.sendCodigoProducto()},className:"btn waves-effect waves-light btn-info",children:"BUSCAR"})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Stock actual"}),Object(Z.jsx)("h4",{className:"card-title",name:"stockActual",children:this.state.stockActual})]}),this.state.addBotones&&Object(Z.jsx)(Be,{generateExcel:this.generateExcel,generateGraficos:this.generateGraficos})]}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Nombre del producto "}),Object(Z.jsxs)("h4",{className:"card-title",name:"nombreProducto",children:[this.state.nombreProducto," "]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Codigo"}),Object(Z.jsx)("h4",{className:"card-title",name:"codigoProductoSpan",children:this.state.codigoProductoSpan})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Entradas totales"}),Object(Z.jsx)("h4",{className:"card-title",name:"entradaTotal",children:this.state.entradaTotal})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Trasnferencias Enviadas"}),Object(Z.jsx)("h4",{className:"card-title",name:"transferenciaTotal",children:this.state.transferenciaEnviadas})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Trasnferencias Recibidas"}),Object(Z.jsx)("h4",{className:"card-title",name:"transferenciaTotal",children:this.state.transferenciaRecibidas})]}),Object(Z.jsxs)("div",{className:"col-1",children:[Object(Z.jsx)("label",{children:"Total vendidos"}),Object(Z.jsx)("h4",{className:"card-title",name:"totalVendido",children:this.state.totalVendido})]})]})]})})}),this.state.addGraficos&&Object(Z.jsx)(Ue,{reporte:this.state.reporte}),this.state.addTabla&&Object(Z.jsx)(Ge,{reporte:this.state.reporte})]})}}]),a}(s.Component),Fe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"BOLETA ELECTR\xd3NICA:"}),Object(Z.jsxs)("form",{method:"post",role:"form","data-toggle":"validator",id:"frm_emitirBoleta",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:[Object(Z.jsx)("i",{className:"mdi mdi-barcode"}),"   Serie:"]}),Object(Z.jsx)("input",{type:"hidden",name:"tipoComprobante",id:"tipoComprobante",value:"{{ $tiposcomprobante->id }}",className:"form-control",readonly:"readonly"}),Object(Z.jsx)("input",{type:"text",name:"serieVenta",id:"serieVenta",value:"{{ $tiposcomprobante->serie }}",className:"form-control",readonly:"readonly"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:[" ",Object(Z.jsx)("i",{className:"mdi mdi-file-document-box"}),"    N\xba Boleta:"]}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"facturaVenta",id:"facturaVenta",value:"{{ $tiposcomprobante->correlativo }}"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:[" ",Object(Z.jsx)("i",{className:"mdi mdi-calendar-text"}),"    Fecha de emisi\xf3n:"]}),Object(Z.jsx)("input",{type:"text",className:"form-control",value:"{{ $fechaActual }}",name:"dateFactura",id:"dateFactura"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:[" ",Object(Z.jsx)("i",{className:"mdi mdi-cash-multiple"}),"  Moneda:"]}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"tipoMoneda",id:"tipoMoneda",style:{width:"100%"}})})]})]})}),Object(Z.jsx)("h6",{className:"card-title",children:"CLIENTE:"}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:["  ",Object(Z.jsx)("i",{className:"mdi mdi-account-card-details"}),"   Tipo de Documento: *"]}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"tipoDocumento",id:"tipoDocumento",style:{width:"100%"},children:Object(Z.jsx)("option",{value:"1",children:" DNI "})})})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"N\xb0 de Documento: *"}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"numeroDocumento",id:"numeroDocumento"})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Nombre del cliente: *"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreCliente",id:"nombreCliente"})]})]})}),Object(Z.jsx)("h6",{className:"card-title",children:"DETALLE DOCUMENTO:"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsxs)("table",{className:"table table-bordered",id:"tbl_products",children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{width:"25%;",children:"Producto"}),Object(Z.jsx)("th",{children:"Cantidad"}),Object(Z.jsx)("th",{width:"2%;",children:"Disponible"}),Object(Z.jsx)("th",{width:"25%;",children:"Precio"}),Object(Z.jsx)("th",{children:"Descuento"}),Object(Z.jsx)("th",{children:"SubTotal"}),Object(Z.jsx)("th",{children:"Total"}),Object(Z.jsx)("th",{children:"Opciones"})]})}),Object(Z.jsx)("tbody",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:Object(Z.jsx)("select",{className:"form-control productos ",name:"nombreProducto[]",id:"nombreProducto",style:{width:"100%"}})}),Object(Z.jsx)("td",{className:"cantidad",children:Object(Z.jsx)("input",{type:"text",className:"form-control c_quantity",name:"cantidad[]",value:"0"})}),Object(Z.jsxs)("td",{className:"disponible",children:[Object(Z.jsx)("span",{children:"0"}),Object(Z.jsx)("input",{type:"hidden",className:"form-control disponible",name:"disponible[]",value:"0",readonly:""})]}),Object(Z.jsxs)("td",{className:"precio",children:[Object(Z.jsx)("span",{children:"0"}),Object(Z.jsx)("input",{type:"hidden",className:"form-control precio",name:"precio[]",value:"0",readonly:"",style:{width:"100%"}})]}),Object(Z.jsxs)("td",{children:[Object(Z.jsx)("span",{children:"0"}),Object(Z.jsx)("input",{type:"hidden",className:"form-control descuento",name:"descuento[]",value:"0",readonly:""})]}),Object(Z.jsxs)("td",{className:"subtotal",children:[Object(Z.jsx)("span",{children:"0"}),Object(Z.jsx)("input",{type:"hidden",className:"form-control subtotal",name:"subtotal[]",value:"0",readonly:"",style:{width:"100%"}})]}),Object(Z.jsxs)("td",{className:"total",children:[Object(Z.jsx)("span",{children:"0"}),Object(Z.jsx)("input",{type:"hidden",className:"form-control total",name:"total[]",value:"0",readonly:"",style:{width:"100%"}})]}),Object(Z.jsx)("td",{})]})})]})}),Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("br",{}),Object(Z.jsxs)("button",{type:"button",className:"btn btn-warning",id:"btnAddProduct",children:[Object(Z.jsx)("i",{className:"mdi mdi-plus-circle"}),"   AGREGAR PRODUCTO AL DETALLE"]}),Object(Z.jsx)("br",{})]})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"col-md-12",style:{marginTop:"15px"},children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-sm-7",children:Object(Z.jsxs)("div",{className:"content-group",children:[Object(Z.jsx)("h6",{children:"Observaci\xf3n:"}),Object(Z.jsx)("textarea",{className:"form-control",name:"observacionVenta",id:"exampleTextarea1",rows:"8",placeholder:"Escribe aqu\xed una observaci\xf3n",children:"SN"})]})}),Object(Z.jsx)("div",{className:"col-sm-5",children:Object(Z.jsxs)("div",{className:"content-group",children:[Object(Z.jsx)("h6",{children:"Resumen:"}),Object(Z.jsx)("div",{className:"table-responsive no-border",children:Object(Z.jsx)("table",{className:"table",children:Object(Z.jsxs)("tbody",{children:[Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Descuento:"}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"descuentoVentaTexto",children:"0"}),Object(Z.jsx)("input",{type:"hidden",name:"descuentoVenta",id:"descuentoVenta",value:"0"})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Subtotal:"}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"subTotalVentaTexto",children:"0"}),Object(Z.jsx)("input",{type:"hidden",name:"subTotalVenta",id:"subTotalVenta",value:"0"})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsxs)("th",{children:["IGV: ",Object(Z.jsx)("span",{className:"text-regular",children:"(18%)"})]}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"igvVentaTexto",children:"0"}),Object(Z.jsx)("input",{type:"hidden",name:"igvVenta",id:"igvVenta",value:"0"})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Total:"}),Object(Z.jsxs)("td",{className:"text-right text-primary",children:[Object(Z.jsxs)("h5",{className:"text-semibold",children:["S/. ",Object(Z.jsx)("span",{id:"totalVentaTexto",children:"0"})]}),Object(Z.jsx)("input",{type:"hidden",name:"totalVenta",id:"totalVenta",value:"2"})]})]})]})})})]})})]})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",className:" addexis form-control btn btn-block btn-primary btn-lg",id:"emitirBoleta",children:"EMITIR BOLETA ELECTR\xd3NICA"})}),Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",className:" addexis form-control btn btn-block btn-success btn-lg",id:"guardarBoleta",children:"GUARDAR BOLETA ELECTR\xd3NICA"})})]})})]})]})})})}}]),a}(s.Component),He=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={data:"hola",estadoa:!1,estadob:!1},e.cambiarb=e.cambiarb.bind(Object(ae.a)(e)),e.cambiara=e.cambiara.bind(Object(ae.a)(e)),e.cambio=e.cambio.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"cambiara",value:function(){this.setState({estadoa:!this.state.estadoa})}},{key:"cambiarb",value:function(){this.setState({estadob:!this.state.estadob})}},{key:"cambio",value:function(){this.setState({estadoa:!this.state.estadoa,estadob:!this.state.estadob})}},{key:"fechtDataFactura",value:function(){console.log("holaaaa")}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"FACTURA ELECTR\xd3NICA:"}),Object(Z.jsxs)("form",{method:"post",role:"form","data-toggle":"validator",id:"frm_editar_producto",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:[Object(Z.jsx)("i",{className:"mdi mdi-barcode"}),"   Serie:"]}),Object(Z.jsx)("input",{type:"hidden",name:"tipoComprobante",id:"tipoComprobante",value:"{{ $tiposcomprobante->id }}",className:"form-control",readonly:"readonly"}),Object(Z.jsx)("input",{type:"text",name:"serieVenta",id:"serieVenta",value:this.props.dataFactura.serie,className:"form-control",readonly:"readonly"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:[" ",Object(Z.jsx)("i",{className:"mdi mdi-file-document-box"}),"    N\xba Factura:"]}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"facturaVenta",id:"facturaVenta",value:this.props.correlativo,readOnly:"readonly"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:[" ",Object(Z.jsx)("i",{className:"mdi mdi-calendar-text"}),"    Fecha de emisi\xf3n:"]}),Object(Z.jsx)("input",{type:"text",className:"form-control",value:this.props.fecha,name:"dateFactura",id:"dateFactura"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:[" ",Object(Z.jsx)("i",{className:"mdi mdi-cash-multiple"}),"  Moneda:"]}),Object(Z.jsx)("input",{type:"text",className:"form-control",value:"Soles",name:"dateFactura",id:"dateFactura",readOnly:"readonly"})]})]})}),Object(Z.jsx)("h6",{className:"card-title",children:"CLIENTE:"}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:["  ",Object(Z.jsx)("i",{className:"mdi mdi-account-card-details"}),"   Tipo de Documento: *"]}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"tipoDocumento",id:"tipoDocumento",style:{width:"100%"},children:Object(Z.jsx)("option",{value:"3",children:" RUC "})})})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"N\xb0 de Documento:*"}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"numeroDocumento",id:"numeroDocumento"})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"Raz\xf3n Social: *"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"razonSocial",id:"razonSocial"})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsxs)("label",{children:[Object(Z.jsx)("i",{className:"mdi mdi-home"}),"    Direcci\xf3n: *"]}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"direccion",id:"direccion"})]})})}),Object(Z.jsx)("h6",{className:"card-title",children:"DETALLE DOCUMENTO:"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsx)("table",{className:"table table-bordered dataTables_length",id:"tb_products",children:Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{width:"25%;",children:"Producto"}),Object(Z.jsx)("th",{children:"Cantidad"}),Object(Z.jsx)("th",{children:"Disponible"}),Object(Z.jsx)("th",{width:"15%;",children:"Precio"}),Object(Z.jsx)("th",{children:"Descuento"}),Object(Z.jsx)("th",{children:"SubTotal"}),Object(Z.jsx)("th",{children:"Total"}),Object(Z.jsx)("th",{children:"Opciones"})]})})})}),Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("br",{}),Object(Z.jsxs)("button",{type:"button",className:"btn btn-warning",id:"btnAddProduct",onClick:function(){return e.cambiara()},children:[Object(Z.jsx)("i",{className:"mdi mdi-plus-circle"}),"   AGREGAR PRODUCTO AL DETALLE"]}),Object(Z.jsx)("br",{})]})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"col-md-12",style:{"margin-top":"15px"},children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-sm-7",children:Object(Z.jsxs)("div",{className:"content-group",children:[Object(Z.jsx)("h6",{children:"Observaci\xf3n:"}),Object(Z.jsx)("textarea",{className:"form-control",name:"observacionVenta",id:"exampleTextarea1",rows:"8",placeholder:"Escribe aqu\xed una observaci\xf3n",children:"SN"})]})}),Object(Z.jsx)("div",{className:"col-sm-5",children:Object(Z.jsxs)("div",{className:"content-group",children:[Object(Z.jsx)("h6",{children:"Resumen:"}),Object(Z.jsx)("div",{className:"table-responsive no-border",children:Object(Z.jsx)("table",{className:"table",children:Object(Z.jsxs)("tbody",{children:[Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Descuento:"}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"descuentoVentaTexto",children:"0"}),Object(Z.jsx)("input",{type:"hidden",name:"descuentoVenta",id:"descuentoVenta",value:"0"})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Subtotal:"}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"subTotalVentaTexto",children:"0"}),Object(Z.jsx)("input",{type:"hidden",name:"subTotalVenta",id:"subTotalVenta",value:"0"})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsxs)("th",{children:["IGV: ",Object(Z.jsx)("span",{className:"text-regular",children:"(18%)"})]}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"igvVentaTexto",children:"0"}),Object(Z.jsx)("input",{type:"hidden",name:"igvVenta",id:"igvVenta",value:"0"})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Total:"}),Object(Z.jsxs)("td",{className:"text-right text-primary",children:[Object(Z.jsxs)("h5",{className:"text-semibold",children:["S/. ",Object(Z.jsx)("span",{id:"totalVentaTexto",children:"0"})]}),Object(Z.jsx)("input",{type:"hidden",name:"totalVenta",id:"totalVenta",value:"2"})]})]})]})})})]})})]})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",className:" addexis form-control btn btn-block btn-primary btn-lg",id:"emitirFactura",children:"EMITIR FACTURA ELECTR\xd3NICA"})}),Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",className:" addexis form-control btn btn-block btn-success btn-lg",id:"guardarFactura",children:"GUARDAR FACTURA ELECTR\xd3NICA"})})]})})]}),Object(Z.jsx)("div",{id:"agregarProductoDetalleModal",className:"modal fade bd-agregarProductoDetalleModal-lg",role:"dialog",children:Object(Z.jsx)("div",{className:"modal-dialog modal-lg",children:Object(Z.jsx)("div",{className:"modal-content",children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsxs)("div",{className:"card-header cabezera",children:[Object(Z.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"}),Object(Z.jsx)("h4",{children:" Buscar producto especifico "})]}),Object(Z.jsxs)("div",{className:"modal-body",children:[Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Buscar"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_codigo",id:"buscar_tb_codigo"})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Marca"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_marca",id:"buscar_tb_marca"})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Tipo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_tipo",id:"buscar_tb_tipo"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Nombre"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_nombre",id:"buscar_tb_nombre"})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Precio"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_nombre",id:"buscar_tb_precio"})]})]})]})}),Object(Z.jsxs)("button",{type:"button",className:"btn btn-warning",id:"btnAddProductoTemporal",children:[Object(Z.jsx)("i",{className:"mdi mdi-plus-circle"}),"   AGREGAR PRODUCTO TEMPORAL"]}),Object(Z.jsx)("div",{className:"card-body",id:"agregarProductoDetalleModalBody",children:Object(Z.jsx)("table",{className:"table table-bordered dataTables_length",id:"tb_buscarProducto",style:{width:"100%"},children:Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Codigo"}),Object(Z.jsx)("th",{children:"Marca"}),Object(Z.jsx)("th",{children:"Tipo"}),Object(Z.jsx)("th",{children:"Disponibles"}),Object(Z.jsx)("th",{children:"Nombre"}),Object(Z.jsx)("th",{children:"Precio"}),Object(Z.jsx)("th",{children:"Seleccionar"})]})})})})]})]})})})}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.estadoa,onHide:function(){return e.cambiara()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Buscar producto especifico"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsx)("h4",{children:" Buscar producto especifico "})}),Object(Z.jsxs)("div",{className:"modal-body",children:[Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Buscar"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_codigo",id:"buscar_tb_codigo"})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Marca"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_marca",id:"buscar_tb_marca"})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Tipo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_tipo",id:"buscar_tb_tipo"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Nombre"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_nombre",id:"buscar_tb_nombre"})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Precio"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_nombre",id:"buscar_tb_precio"})]})]})]})}),Object(Z.jsxs)("button",{type:"button",className:"btn btn-warning",id:"btnAddProductoTemporal",onClick:function(){return e.cambio()},children:[Object(Z.jsx)("i",{className:"mdi mdi-plus-circle"}),"   AGREGAR PRODUCTO TEMPORAL"]}),Object(Z.jsx)("div",{className:"card-body",id:"agregarProductoDetalleModalBody",children:Object(Z.jsx)("table",{className:"table table-bordered dataTables_length",id:"tb_buscarProducto",style:{width:"100%"},children:Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Codigo"}),Object(Z.jsx)("th",{children:"Marca"}),Object(Z.jsx)("th",{children:"Tipo"}),Object(Z.jsx)("th",{children:"Disponibles"}),Object(Z.jsx)("th",{children:"Nombre"}),Object(Z.jsx)("th",{children:"Precio"}),Object(Z.jsx)("th",{children:"Seleccionar"})]})})})})]})]})})]}),Object(Z.jsxs)(se.a,{show:this.state.estadob,onHide:function(){return e.cambiarb()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Custom Modal Styling"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsx)("h4",{children:" Agregar Producto "})}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsx)("div",{className:"card-body",children:Object(Z.jsxs)("form",{method:"post",role:"form","data-toggle":"validator",id:"frm_producto",children:["@csrf",Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo (OPCIONAL)"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoProductoNuevo",id:"codigoProductoNuevo"})]}),Object(Z.jsx)("div",{className:"col-12",id:"alertaCodigo"})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreProductoNuevo",id:"nombreProductoNuevo"})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Precio con IGV(18%)"}),Object(Z.jsx)("input",{type:"text",name:"precioVentaProducto",id:"precioVentaProducto",className:"form-control",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$",value:"","data-type":"currency",placeholder:"S/1,000,000.00"})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProducto",children:"Agregar"})})]})})})]})})]}),Object(Z.jsx)("div",{id:"productoTemporalModal",className:"modal fade bd-productoTemporalModal",role:"dialog",children:Object(Z.jsx)("div",{className:"modal-dialog ",children:Object(Z.jsx)("div",{className:"modal-content",children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsxs)("div",{className:"card-header cabezera",children:[Object(Z.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"}),Object(Z.jsx)("h4",{children:" Agregar Producto "})]}),Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsx)("div",{className:"card-body",children:Object(Z.jsxs)("form",{method:"post",role:"form","data-toggle":"validator",id:"frm_producto",children:["@csrf",Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Codigo (OPCIONAL)"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoProductoNuevo",id:"codigoProductoNuevo"})]}),Object(Z.jsx)("div",{className:"col-12",id:"alertaCodigo"})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreProductoNuevo",id:"nombreProductoNuevo"})]})})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Precio con IGV(18%)"}),Object(Z.jsx)("input",{type:"text",name:"precioVentaProducto",id:"precioVentaProducto",className:"form-control",pattern:"^\\S/\\d{1,3}(,\\d{3})*(\\.\\d+)?$",value:"","data-type":"currency",placeholder:"S/1,000,000.00"})]})})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",id:"crearProducto",children:"Agregar"})})]})})})]})})})})]})})})}}]),a}(s.Component),Je=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={cantidad:1},e.handleChange=e.handleChange.bind(Object(ae.a)(e)),e.calcularSubTotalTotal=e.calcularSubTotalTotal.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=(t.name,t.value);"Enter"===e.key&&(console.log(a),this.props.buscarCodigoProducto(a,this.props.posicion))}},{key:"calcularSubTotalTotal",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({cantidad:a}),console.log(a),this.props.calcularSubTotalTotalDetalle(this.props.posicion,a,this.props.precio)}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:Object(Z.jsx)("input",{type:"text",className:"form-control ",name:"codigo[]",autoFocus:!0,value:this.props.codigo,onChange:function(t){return e.props.cambiarCodigo(t,e.props.posicion)},onKeyDown:this.handleChange})}),Object(Z.jsx)("td",{children:Object(Z.jsx)("span",{children:this.props.producto})}),Object(Z.jsx)("td",{className:"cantidad",children:Object(Z.jsx)("input",{type:"number",className:"form-control c_quantity",onChange:this.calcularSubTotalTotal,value:this.state.cantidad,name:"cantidad[]"})}),Object(Z.jsxs)("td",{className:"disponible",children:[Object(Z.jsx)("span",{children:this.props.stock}),Object(Z.jsx)("input",{type:"hidden",className:"form-control disponible",name:"disponible[]",value:"0"})]}),Object(Z.jsxs)("td",{className:"precio",children:[this.props.descuentoAplicado?Object(Z.jsxs)("span",{children:[Object(Z.jsx)("strike",{children:this.props.precio})," - ",this.props.nuevoPrecioOferta]}):Object(Z.jsx)("span",{children:this.props.precio}),Object(Z.jsx)("input",{type:"hidden",className:"form-control precio",name:"precio[]",value:"0",style:{width:"100%"}})]}),Object(Z.jsx)("td",{className:"descuento",children:Object(Z.jsx)("span",{children:this.props.descuento})}),Object(Z.jsxs)("td",{className:"subtotal",children:[Object(Z.jsx)("span",{children:this.props.subTotal}),Object(Z.jsx)("input",{type:"hidden",className:"form-control subtotal",name:"subtotal[]",value:"0",style:{width:"100%"}})]}),Object(Z.jsxs)("td",{className:"total",children:[Object(Z.jsx)("span",{children:this.props.total}),Object(Z.jsx)("input",{type:"hidden",className:"form-control total",name:"total[]",value:"0",style:{width:"100%"}})]}),Object(Z.jsx)("td",{children:Object(Z.jsx)("button",{type:"button",className:"btn btn-danger btn-rounded btn-icon remove",onClick:function(){return e.props.eliminarProductoDetalle(e.props.numero)},children:Object(Z.jsx)("i",{className:"mdi mdi-close"})})})]})}}]),a}(s.Component),ze=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e,s;return Object(L.a)(this,a),(s=t.call(this)).state=(e={getDni:!0,DNIRUCdatos:[]},Object(U.a)(e,"DNIRUCdatos",[]),Object(U.a)(e,"dniCliente",""),Object(U.a)(e,"estadoToast",!1),Object(U.a)(e,"mensajeToast",""),Object(U.a)(e,"colorToast","rgba(76,208,76,0.7)"),Object(U.a)(e,"loading",!0),Object(U.a)(e,"estadoModalEditarProducto",!1),Object(U.a)(e,"arrayProductosDetalle",[]),Object(U.a)(e,"cantidadProductosDetalle",0),Object(U.a)(e,"numeroProductoDetalle",0),Object(U.a)(e,"tasks",""),Object(U.a)(e,"productosDetalleList",[]),Object(U.a)(e,"tipoDocumentoCliente",1),Object(U.a)(e,"numeroDocumentoCliente",""),Object(U.a)(e,"nombreCliente",""),Object(U.a)(e,"tipoComprobante",""),Object(U.a)(e,"numeroVentasRealizadas",0),Object(U.a)(e,"totalVentasRealizadas",0),Object(U.a)(e,"sucursalId",""),Object(U.a)(e,"tipoMoneda","1"),Object(U.a)(e,"numeroVenta",""),Object(U.a)(e,"dateFactura",""),Object(U.a)(e,"descuentoVentaRealizadoGuardado",0),Object(U.a)(e,"descuentoVentaRealizado",0),Object(U.a)(e,"descuentoVenta",0),Object(U.a)(e,"igvVenta",0),Object(U.a)(e,"subTotalVenta",0),Object(U.a)(e,"totalVenta",0),Object(U.a)(e,"observacionVenta","SN"),Object(U.a)(e,"codigoProductoTemporal",""),Object(U.a)(e,"nombreProductoTemporal",""),Object(U.a)(e,"precioProductoTemporal",""),Object(U.a)(e,"estadoa",!1),Object(U.a)(e,"productos_tb",[]),Object(U.a)(e,"estadoBoton",[]),Object(U.a)(e,"estadoQuery",""),e),s.getCambioNumeroDocumento=s.getCambioNumeroDocumento.bind(Object(ae.a)(s)),s.getCambioNombreCliente=s.getCambioNombreCliente.bind(Object(ae.a)(s)),s.cambiarTipoDocumento=s.cambiarTipoDocumento.bind(Object(ae.a)(s)),s.cambiarTipoPago=s.cambiarTipoPago.bind(Object(ae.a)(s)),s.calcularSubTotalTotalDetalle=s.calcularSubTotalTotalDetalle.bind(Object(ae.a)(s)),s.buscarCodigoProducto=s.buscarCodigoProducto.bind(Object(ae.a)(s)),s.eliminarProductoDetalle=s.eliminarProductoDetalle.bind(Object(ae.a)(s)),s.calcularDatosTotalesVenta=s.calcularDatosTotalesVenta.bind(Object(ae.a)(s)),s.cambiarValorFormTemporales=s.cambiarValorFormTemporales.bind(Object(ae.a)(s)),s.fetchAgregarProductoTemporal=s.fetchAgregarProductoTemporal.bind(Object(ae.a)(s)),s.generarVentaInterna=s.generarVentaInterna.bind(Object(ae.a)(s)),s.fetchAgregarVenta=s.fetchAgregarVenta.bind(Object(ae.a)(s)),s.getCambioDescuentoVenta=s.getCambioDescuentoVenta.bind(Object(ae.a)(s)),s.getProductos=s.getProductos.bind(Object(ae.a)(s)),s.handleChangeBuscador=s.handleChangeBuscador.bind(Object(ae.a)(s)),s.seleccionarProductoTb=s.seleccionarProductoTb.bind(Object(ae.a)(s)),s.cambiarCodigo=s.cambiarCodigo.bind(Object(ae.a)(s)),s.modalBuscarProducto=s.modalBuscarProducto.bind(Object(ae.a)(s)),s.getCambioObservacion=s.getCambioObservacion.bind(Object(ae.a)(s)),s}return Object(F.a)(a,[{key:"modalBuscarProducto",value:function(){this.setState({estadoa:!this.state.estadoa})}},{key:"componentDidMount",value:function(){this.getProductos()}},{key:"getProductos",value:function(){var e=this;fetch(K.api+"/ventas/tb_buscarProducto",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({productos_tb:t}),e.agregarBotones()}))}},{key:"agregarBotones",value:function(){var e=this,t=this.state.productos_tb.last_page;console.log(t);var a=[];if(t){for(var s=1;s<=t;s++)a.push(s);this.setState({estadoBoton:a},(function(){return console.log(e.state.estadoBoton)}))}}},{key:"cambiarPagina",value:function(e){var t=this;fetch(K+"/ventas/tb_buscarProducto?page=".concat(e,"&buscar=").concat(this.state.estadoQuery)).then((function(e){return e.json()})).then((function(e){t.setState({productos_tb:e},(function(){console.log(t.state.productos_tb),t.agregarBotones()}))}))}},{key:"fetchQuery",value:function(e,t){var a=this;fetch(K.api+"/ventas/tb_buscarProducto?".concat(t,"=").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){a.setState({productos_tb:t,estadoQuery:e},(function(){a.agregarBotones(),console.log("obtenido?")}))}))}},{key:"handleChangeBuscador",value:function(e){var t=e.target,a=t.name,s=t.value;console.log(s),this.fetchQuery(s,a),console.log(a),console.log("ULTIMO ARRAY POSCION"+this.state.cantidadProductosDetalle)}},{key:"getCambioObservacion",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({observacionVenta:a})}},{key:"seleccionarProductoTb",value:function(e){this.buscarCodigoProducto(e,this.state.cantidadProductosDetalle-1),this.modalBuscarProducto()}},{key:"cambiarCodigo",value:function(e,t){var a=e.target,s=(a.name,a.value);this.state.productosDetalleList[t].codigoProducto=s,this.setState({productosDetalleList:this.state.productosDetalleList})}},{key:"cambiarTipoDocumento",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({tipoDocumentoCliente:a}),0==a&&this.setState({numeroDocumentoCliente:20000001,nombreCliente:"NO IDENTIFICADO"}),console.log(this.state.tipoDocumentoCliente)}},{key:"cambiarTipoPago",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({tipoMoneda:a})}},{key:"getCambioNumeroDocumento",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({numeroDocumentoCliente:a}),1==this.state.tipoDocumentoCliente&&8==a.length?this.fetchDNIRUC("dni",a):6==this.state.tipoDocumentoCliente&&11==a.length?this.fetchDNIRUC("ruc",a):this.setState({nombreCliente:"NO IDENTIFICADO",numeroVentasRealizadas:0,totalVentasRealizadas:0})}},{key:"fetchDNIRUC",value:function(e,t){var a=this,s=K.api+"/consult/"+e+"/".concat(t);console.log(s),fetch(s,{method:"POST",body:JSON.stringify({}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){a.setState({DNIRUCdatos:t.persona},(function(){console.log(s),console.log(a.state.numeroDocumentoCliente),console.log("Datos:"),console.log(t),1==t.response?(a.setState({numeroVentasRealizadas:t.numeroVentasRealizadas,totalVentasRealizadas:t.totalVentasRealizadas}),a.activarToast("DOCUMENTO CORRECTO","rgba(76,208,76,0.7)"),console.log(a.state.DNIRUCdatos),a.datosDNIRUC(e)):a.activarToast("DOCUMENTO NO ENCONTRADO","rgba(205,55,55,0.7)")}))}))}},{key:"datosDNIRUC",value:function(e){"dni"==e?this.setState({nombreCliente:this.state.DNIRUCdatos.nombres+" "+this.state.DNIRUCdatos.apellidoPaterno+" "+this.state.DNIRUCdatos.apellidoMaterno},console.log(this.state.DNIRUCdatos)):this.setState({nombreCliente:this.state.DNIRUCdatos.razonSocial},console.log(this.state.DNIRUCdatos))}},{key:"getCambioNombreCliente",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({nombreCliente:a})}},{key:"activarToast",value:function(e,t){this.setState({mensajeToast:e,colorToast:t,estadoToast:!0})}},{key:"activarConfirmacion",value:function(e,t,a){Object(oe.confirmAlert)({customUI:function(s){var c=s.onClose;return Object(Z.jsxs)("div",{className:"custom-ui",children:[Object(Z.jsx)("h1",{children:e}),Object(Z.jsx)("p",{children:t}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",onClick:a,className:"btn waves-effect waves-light btn-rounded btn-primary btn-lg",children:"Aceptar"})}),Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",onClick:c,className:"btn waves-effect waves-light btn-rounded btn-danger btn-lg",children:"Cancelar"})})]})})]})}})}},{key:"cargando",value:function(e,t,a){Object(oe.confirmAlert)({customUI:function(a){var s=a.onClose;return Object(Z.jsxs)("div",{className:"custom-ui",children:[Object(Z.jsx)("h1",{children:e}),Object(Z.jsx)("p",{children:t}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsx)("button",{type:"button",onClick:s,className:"btn waves-effect waves-light btn-rounded btn-primary btn-lg",children:"Aceptar"})})})})]})}})}},{key:"agregarProducto",value:function(e){var t=this;0==this.state.cantidadProductosDetalle?this.agregarProductoDetalle():Object(oe.confirmAlert)({customUI:function(a){var s=a.onClose;return Object(Z.jsxs)("div",{className:"custom-ui",children:[Object(Z.jsx)("h1",{children:"Agregar producto temporal"}),Object(Z.jsx)("p",{children:"Los productos temporales son agregados en el caso que no esten en el almacen"}),Object(Z.jsx)("hr",{}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"card-body",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{className:"control-label col-form-label",children:"Codigo del producto:"}),Object(Z.jsx)("input",{type:"text",className:"form-control is-valid",autoFocus:!0,onChange:function(e){return t.cambiarValorFormTemporales(e,0)}})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"col-sm-12 col-md-6",children:Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{className:"control-label col-form-label",children:"Producto:"}),Object(Z.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return t.cambiarValorFormTemporales(e,1)}})]})}),Object(Z.jsx)("div",{className:"col-sm-12 col-md-6",children:Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsx)("label",{className:"control-label col-form-label",children:"Precio: "}),Object(Z.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return t.cambiarValorFormTemporales(e,2)}})]})})]})}),Object(Z.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(Z.jsx)("button",{type:"button",onClick:function(){t.fetchAgregarProductoTemporal(e),s()},className:"btn btn-block btn-lg btn-primary",children:"Agregar"})})]})]})}})}},{key:"cambiarValorFormTemporales",value:function(e,t){var a=e.target,s=(a.name,a.value);switch(t){case 0:this.state.codigoProductoTemporal=s,this.setState({codigoProductoTemporal:this.state.codigoProductoTemporal});break;case 1:this.state.nombreProductoTemporal=s,this.setState({nombreProductoTemporal:this.state.nombreProductoTemporal});break;case 2:this.state.precioProductoTemporal=s,this.setState({precioProductoTemporal:this.state.precioProductoTemporal})}console.log(s),console.log(this.state.codigoProductoTemporal),console.log(this.state.nombreProductoTemporal),console.log(this.state.precioProductoTemporal)}},{key:"fetchAgregarProductoTemporal",value:function(e){var t=this;fetch(K.api+"/ventas/crear/productoTemporal",{method:"POST",body:JSON.stringify({codigoProductoNuevo:this.state.codigoProductoTemporal,nombreProductoNuevo:this.state.nombreProductoTemporal,precioVentaProducto:this.state.precioProductoTemporal}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(a){if(console.log(a),console.log(a.response),1==a.response){t.activarToast("Producto temporal agregado satisfactoriamente","rgba(76,208,76,0.7)"),t.state.precioProductoTemporal="",t.state.nombreProductoTemporal="",t.state.codigoProductoTemporal="",t.setState({codigoProductoTemporal:t.state.codigoProductoTemporal,nombreProductoTemporal:t.state.nombreProductoTemporal,precioProductoTemporal:t.state.precioProductoTemporal});var s=a.producto;t.state.productosDetalleList[e].idProducto=s.id,t.state.productosDetalleList[e].codigoProducto=s.codigo,t.state.productosDetalleList[e].nombreProducto=s.nombre,t.state.productosDetalleList[e].stockProducto=s.cantidad,t.state.productosDetalleList[e].precioProducto=s.precio,t.state.productosDetalleList[e].cantidadOferta=0,t.state.productosDetalleList[e].nuevoPrecioOferta=0,t.state.productosDetalleList[e].descuentoAplicado=0,t.calcularSubTotalTotalDetalle(e,1,s.precio),t.agregarProductoDetalle()}else t.activarToast("Error al momento de agregar el producto temporal","rgba(205,55,55,0.7)")}))}},{key:"agregarProductoDetalle",value:function(){var e=this;this.setState({cantidadProductosDetalle:this.state.cantidadProductosDetalle+1,numeroProductoDetalle:this.state.numeroProductoDetalle+1},(function(){e.setState({productosDetalleList:[].concat(Object(ve.a)(e.state.productosDetalleList),[{idLista:e.state.numeroProductoDetalle,idProducto:0,codigoProducto:"",nombreProducto:"",cantidadProducto:1,stockProducto:0,precioProducto:0,cantidadOferta:0,nuevoPrecioOferta:0,subTotalProducto:0,totalProducto:0,totalDescuento:0,descuentoAplicado:0}])}),e.setState({arrayProductosDetalle:[].concat(Object(ve.a)(e.state.arrayProductosDetalle),[e.state.numeroProductoDetalle])})}))}},{key:"eliminarProductoDetalle",value:function(){var e=Object(G.a)(B.a.mark((function e(t){var a,s,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.setState({cantidadProductosDetalle:this.state.cantidadProductosDetalle-1});case 3:if(a=Object(ve.a)(this.state.arrayProductosDetalle),!((s=a.indexOf(t))>-1)){e.next=10;break}return a.splice(s,1),console.log(a),e.next=10,this.setState({arrayProductosDetalle:a});case 10:return c=[],e.next=13,this.state.productosDetalleList.map((function(e,a){e.idLista!=t&&(c=[].concat(Object(ve.a)(c),[{idLista:e.idLista,idProducto:e.idProducto,codigoProducto:e.codigoProducto,nombreProducto:e.nombreProducto,cantidadProducto:e.cantidadProducto,stockProducto:e.stockProducto,precioProducto:e.precioProducto,cantidadOferta:e.cantidadOferta,nuevoPrecioOferta:e.nuevoPrecioOferta,subTotalProducto:e.subTotalProducto,totalProducto:e.totalProducto,totalDescuento:e.totalDescuento,descuentoAplicado:e.descuentoAplicado}]))}));case 13:return e.next=15,this.setState({productosDetalleList:c});case 15:this.calcularDatosTotalesVenta();case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buscarCodigoProducto",value:function(e,t){var a=this;fetch(K.api+"/producto/buscar",{method:"POST",body:JSON.stringify({codigoProducto:e}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){if(console.log("datos:"),console.log(e),1==e.response){a.activarToast("Producto agregado al detalle","rgba(76,208,76,0.7)");var s=e.producto,c=e.descuento;a.state.productosDetalleList[t].idProducto=s.id,a.state.productosDetalleList[t].codigoProducto=s.codigo,a.state.productosDetalleList[t].nombreProducto=s.nombre,a.state.productosDetalleList[t].stockProducto=s.cantidad,a.state.productosDetalleList[t].precioProducto=s.precio,0!=c?(a.state.productosDetalleList[t].cantidadOferta=c.cantidad,a.state.productosDetalleList[t].nuevoPrecioOferta=c.nuevoPrecio,a.state.productosDetalleList[t].variosDescuentos=e.variosDescuentos):(a.state.productosDetalleList[t].cantidadOferta=0,a.state.productosDetalleList[t].nuevoPrecioOferta=0),a.state.productosDetalleList[t].totalDescuento=0,a.state.productosDetalleList[t].descuentoAplicado=0,a.calcularSubTotalTotalDetalle(t,1,s.precio),a.agregarProductoDetalle()}else a.activarToast("Producto no encontrado","rgba(205,55,55,0.7)"),a.agregarProducto(t)}))}},{key:"verArray",value:function(){console.log(this.state.productosDetalleList)}},{key:"getCambioDescuentoVenta",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({descuentoVentaRealizado:a}),"Enter"===e.key&&(this.setState(Object(U.a)({descuentoVenta:parseFloat(this.state.descuentoVenta)-parseFloat(this.state.descuentoVentaRealizadoGuardado),descuentoVentaRealizadoGuardado:a},"descuentoVenta",parseFloat(this.state.descuentoVenta)+parseFloat(this.state.descuentoVentaRealizadoGuardado))),console.log(a))}},{key:"calcularSubTotalTotalDetalle",value:function(e,t,a){var s,c;if(t>=this.state.productosDetalleList[e].cantidadOferta&&0!=this.state.productosDetalleList[e].cantidadOferta)if(this.state.productosDetalleList[e].variosDescuentos.length>1){for(var o=0,r=0;r<this.state.productosDetalleList[e].variosDescuentos.length;r++)if(t==this.state.productosDetalleList[e].variosDescuentos[r].cantidad){o=this.state.productosDetalleList[e].variosDescuentos[r].cantidad,s=this.state.productosDetalleList[e].variosDescuentos[r].nuevoPrecio;break}this.state.productosDetalleList[e].cantidadOferta=o,this.state.productosDetalleList[e].nuevoPrecioOferta=s,this.setState({productosDetalleList:this.state.productosDetalleList}),this.state.productosDetalleList[e].descuentoAplicado=1,c=((a-s)*t).toFixed(2)}else this.state.productosDetalleList[e].descuentoAplicado=1,c=((a-(s=this.state.productosDetalleList[e].nuevoPrecioOferta))*t).toFixed(2);else this.state.productosDetalleList[e].descuentoAplicado=0,s=a,c=0;var n=s*t,i=n/1.18;this.state.productosDetalleList[e].cantidadProducto=t,this.state.productosDetalleList[e].subTotalProducto=i.toFixed(2),this.state.productosDetalleList[e].totalProducto=n.toFixed(2),this.state.productosDetalleList[e].totalDescuento=c;var d=Object(ve.a)(this.state.productosDetalleList);this.setState({productosDetalleList:d}),this.calcularDatosTotalesVenta()}},{key:"calcularDatosTotalesVenta",value:function(){var e=this;this.state.descuentoVenta=parseFloat(0),this.state.igvVenta=parseFloat(0),this.state.subTotalVenta=parseFloat(0),this.state.totalVenta=parseFloat(0),this.setState({descuentoVenta:this.state.descuentoVenta,igvVenta:this.state.igvVenta,subTotalVenta:this.state.subTotalVenta,totalVenta:this.state.totalVenta}),this.state.productosDetalleList.map((function(t,a){e.state.descuentoVenta=parseFloat(e.state.descuentoVenta)+parseFloat(t.totalDescuento),e.state.igvVenta=parseFloat(t.totalProducto)-parseFloat(t.subTotalProducto)+parseFloat(e.state.igvVenta),e.state.subTotalVenta=parseFloat(e.state.subTotalVenta)+parseFloat(t.subTotalProducto),e.state.totalVenta=parseFloat(e.state.totalVenta)+parseFloat(t.totalProducto)})),this.setState({descuentoVenta:this.state.descuentoVenta.toFixed(2),igvVenta:this.state.igvVenta.toFixed(2),subTotalVenta:this.state.subTotalVenta.toFixed(2),totalVenta:this.state.totalVenta.toFixed(2)}),console.log("TOTAL DE LA VENTA:"+this.state.totalVenta)}},{key:"generarVentaInterna",value:function(){var e=this;Object(oe.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(Z.jsx)("div",{className:"page-content container-fluid",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h1",{children:"\xbfSeguro que desea finalizar la venta?"}),Object(Z.jsx)("p",{children:"Puedes imprimir un comprobante de pago, o solo guardarlo en el sistema."}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-4 col-md-4",children:Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-block btn-success",onClick:function(){e.fetchAgregarVenta(1),a()},children:"Imprimir"})}),Object(Z.jsx)("div",{className:"col-lg-4 col-md-4",children:Object(Z.jsx)("button",{type:"button",onClick:function(){e.fetchAgregarVenta(0),a()},className:"btn waves-effect waves-light btn-block btn-info",children:"Guardar"})}),Object(Z.jsx)("div",{className:"col-lg-4 col-md-4",children:Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-block btn-danger",children:"Cancelar"})})]})})]})})})})})}})}},{key:"fetchAgregarVenta",value:function(e){var t=this;de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"GENERANDO VENTA INTERNA"})}),{position:"top-right"}).then((function(){fetch(K.api+"/venta/guardarVentaInterna",{method:"POST",body:JSON.stringify({tipoDocumento:t.state.tipoDocumentoCliente,numeroDocumento:t.state.numeroDocumentoCliente,nombreCliente:t.state.nombreCliente,tipoComprobante:t.props.tipoComprobante,sucursalId:t.props.sucursalId,tipoMoneda:t.state.tipoMoneda,numeroVenta:t.props.numeroVenta,dateFactura:"2019-11-11",descuentoVenta:t.state.descuentoVenta,igvVenta:t.state.igvVenta,subTotalVenta:t.state.subTotalVenta,totalVenta:t.state.totalVenta,observacionVenta:t.state.observacionVenta,detallesVenta:t.state.productosDetalleList}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(a){if(console.log(a),console.log(a.response),1==a.response){if(t.props.fetchVentaDataTabla(1,"",""),t.props.addNuevaVenta(),t.props.fechtDataNuevaVenta(),de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"VENTA REALIZADA CORRECTAMENTE"})}),{position:"top-right"}),1==e){var s=K.apiTicket+"/api/imprimir/venta/"+a.idVenta;de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"IMPRIMIENDO VENTA"})}),{position:"top-right"}).then((function(){fetch(s,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){e.respuesta?de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"COPIA DE VENTA FINALIZADA"})}),{position:"top-right"}):de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"NO SE PUDO CONECTAR CON LA IMPRESORA"})}),{position:"top-right"})}))}))}}else de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"HUBO UN PROBLEMA AL MOMENTO DE REALIZAR LA VENTA"})}),{position:"top-right"})}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"col-lg-12 grid-margin stretch-card",children:[Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"VENTA INTERNA:"}),Object(Z.jsxs)("form",{method:"post",role:"form","data-toggle":"validator",id:"frm_emitirBoleta",children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:["  ",Object(Z.jsx)("i",{className:"mdi mdi-account-card-details"}),"   Metodo de pago "]}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsxs)("select",{className:"form-control",name:"tipoPago",id:"tipoPago",style:{width:"100%"},onChange:this.cambiarTipoPago,children:[Object(Z.jsx)("option",{value:"1",children:" EFECTIVO   "}),Object(Z.jsx)("option",{value:"3",children:" TARJETA   "})]})})]})})}),Object(Z.jsx)("h6",{className:"card-title",children:"CLIENTE:"}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsxs)("label",{children:["  ",Object(Z.jsx)("i",{className:"mdi mdi-account-card-details"}),"   Tipo de Documento: *"]}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsxs)("select",{className:"form-control",name:"tipoDocumento",id:"tipoDocumento",style:{width:"100%"},onChange:this.cambiarTipoDocumento,children:[Object(Z.jsx)("option",{value:"1",children:" DNI   "}),Object(Z.jsx)("option",{value:"6",children:" RUC   "}),Object(Z.jsx)("option",{value:"0",children:" OTROS "})]})})]}),0!=this.state.tipoDocumentoCliente?Object(Z.jsx)("div",{className:"col-9",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"N\xb0 de Documento: *"}),Object(Z.jsx)("input",{type:"number",className:"form-control",name:"numeroDocumento",id:"numeroDocumento",onChange:this.getCambioNumeroDocumento,value:this.state.numeroDocumentoCliente,autoFocus:!0})]}),Object(Z.jsxs)("div",{className:"col-5",children:[Object(Z.jsx)("label",{children:"Nombre del cliente: *"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"nombreCliente",id:"nombreCliente",value:this.state.nombreCliente,onChange:this.getCambioNombreCliente})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"N\xb0 Ventas "}),Object(Z.jsx)("br",{}),Object(Z.jsx)("span",{children:this.state.numeroVentasRealizadas})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Total de ventas "}),Object(Z.jsx)("br",{}),Object(Z.jsxs)("span",{children:["S/",this.state.totalVentasRealizadas]})]})]})}):null]})}),Object(Z.jsx)("h6",{className:"card-title",children:"DETALLE DOCUMENTO:"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsxs)("table",{className:"table table-bordered",id:"tbl_products",children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{width:"20%;",children:"Codigo"}),Object(Z.jsx)("th",{width:"25%;",children:"Producto"}),Object(Z.jsx)("th",{width:"10%;",children:"Cantidad"}),Object(Z.jsx)("th",{width:"2%;",children:"Disponible"}),Object(Z.jsx)("th",{width:"7%;",children:"Precio"}),Object(Z.jsx)("th",{width:"7%;",children:"Descuento"}),Object(Z.jsx)("th",{children:"SubTotal"}),Object(Z.jsx)("th",{children:"Total"}),Object(Z.jsx)("th",{children:"Opciones"})]})}),Object(Z.jsx)("tbody",{children:this.state.productosDetalleList?this.state.productosDetalleList.map((function(t,a){return Object(Z.jsx)(Je,{numero:t.idLista,posicion:a,codigo:t.codigoProducto,producto:t.nombreProducto,stock:t.stockProducto,precio:t.precioProducto,descuento:t.totalDescuento,subTotal:t.subTotalProducto,total:t.totalProducto,descuentoAplicado:t.descuentoAplicado,variosDescuentos:t.variosDescuentos,nuevoPrecioOferta:t.nuevoPrecioOferta,calcularSubTotalTotalDetalle:e.calcularSubTotalTotalDetalle,eliminarProductoDetalle:e.eliminarProductoDetalle,buscarCodigoProducto:e.buscarCodigoProducto,cambiarCodigo:e.cambiarCodigo},t.idLista)})):null})]})}),Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("br",{}),0==this.state.cantidadProductosDetalle?Object(Z.jsxs)("button",{type:"button",className:"btn btn-success",id:"btnAddProduct",onClick:function(){return e.agregarProducto()},children:[Object(Z.jsx)("i",{className:"mdi mdi-plus-circle"}),"   AGREGAR PRODUCTO AL DETALLE"]}):Object(Z.jsxs)("button",{type:"button",className:"btn btn-warning",id:"btnAddProduct",onClick:function(){return e.agregarProducto(e.state.cantidadProductosDetalle-1)},children:[Object(Z.jsx)("i",{className:"mdi mdi-plus-circle"}),"   AGREGAR PRODUCTO TEMPORAL"]}),0!=this.state.cantidadProductosDetalle?Object(Z.jsxs)("button",{type:"button",className:"btn btn-warning",onClick:function(){return e.modalBuscarProducto()},children:[Object(Z.jsx)("i",{className:"mdi mdi-plus-circle"}),"   Buscar producto"]}):null,Object(Z.jsx)("br",{})]})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"col-md-12",style:{marginTop:"15px"},children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-sm-7",children:Object(Z.jsxs)("div",{className:"content-group",children:[Object(Z.jsx)("h6",{children:"Observaci\xf3n:"}),Object(Z.jsx)("textarea",{className:"form-control",name:"observacionVenta",id:"exampleTextarea1",rows:"8",onChange:this.getCambioObservacion,children:this.state.observacionVenta})]})}),Object(Z.jsx)("div",{className:"col-sm-5",children:Object(Z.jsxs)("div",{className:"content-group",children:[Object(Z.jsx)("h6",{children:"Resumen:"}),Object(Z.jsx)("div",{className:"table-responsive no-border",children:Object(Z.jsx)("table",{className:"table",children:Object(Z.jsxs)("tbody",{children:[Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Descuento Total:"}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"descuentoVentaTexto",children:this.state.descuentoVenta})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Subtotal:"}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"subTotalVentaTexto",children:this.state.subTotalVenta}),Object(Z.jsx)("input",{type:"hidden",name:"subTotalVenta",id:"subTotalVenta",value:"0"})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsxs)("th",{children:["IGV: ",Object(Z.jsx)("span",{className:"text-regular",children:"(18%)"})]}),Object(Z.jsxs)("td",{className:"text-right",children:["S/. ",Object(Z.jsx)("span",{id:"igvVentaTexto",children:this.state.igvVenta}),Object(Z.jsx)("input",{type:"hidden",name:"igvVenta",id:"igvVenta",value:"0"})]})]}),Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Total:"}),Object(Z.jsxs)("td",{className:"text-right text-primary",children:[Object(Z.jsxs)("h5",{className:"text-semibold",children:["S/. ",Object(Z.jsx)("span",{id:"totalVentaTexto",children:this.state.totalVenta})]}),Object(Z.jsx)("input",{type:"hidden",name:"totalVenta",id:"totalVenta",value:"2"})]})]})]})})})]})})]})}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsx)("button",{type:"button",className:" addexis form-control btn btn-block btn-success btn-lg",onClick:function(){return e.generarVentaInterna()},children:"Generar Venta Interna"})})})})]})]})}),Object(Z.jsxs)(se.a,{size:"xl",show:this.state.estadoa,onHide:function(){return e.modalBuscarProducto()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Buscar producto especifico"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsxs)("div",{className:"card card-default",children:[Object(Z.jsx)("div",{className:"card-header cabezera",children:Object(Z.jsx)("h4",{children:" Buscar producto especifico "})}),Object(Z.jsxs)("div",{className:"modal-body",children:[Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Buscar"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"bcodigo",id:"buscar_tb_codigo",onChange:this.handleChangeBuscador})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Marca"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"bmarca",id:"buscar_tb_marca",onChange:this.handleChangeBuscador})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Tipo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"btipo",id:"buscar_tb_tipo",onChange:this.handleChangeBuscador})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Nombre"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"bnombre",id:"buscar_tb_nombre",onChange:this.handleChangeBuscador})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Buscar Precio"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"bprecio",id:"buscar_tb_precio",onChange:this.handleChangeBuscador})]})]})]})}),Object(Z.jsxs)("div",{className:"card-body",id:"agregarProductoDetalleModalBody",children:[Object(Z.jsx)("table",{className:"table table-bordered dataTables_length",id:"tb_buscarProducto",style:{width:"100%"},children:Object(Z.jsxs)("thead",{children:[Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Codigo"}),Object(Z.jsx)("th",{children:"Marca"}),Object(Z.jsx)("th",{children:"Tipo"}),Object(Z.jsx)("th",{children:"Disponibles"}),Object(Z.jsx)("th",{children:"Nombre"}),Object(Z.jsx)("th",{children:"Precio"}),Object(Z.jsx)("th",{children:"Seleccionar"})]}),this.state.productos_tb.data?this.state.productos_tb.data.map((function(t,a){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:t.codigoProducto}),Object(Z.jsx)("td",{children:t.marcaProducto}),Object(Z.jsx)("td",{children:t.tipoProducto}),Object(Z.jsx)("td",{children:t.disponiblesProducto}),Object(Z.jsx)("td",{children:t.nombreProducto}),Object(Z.jsx)("td",{children:t.precioProducto}),Object(Z.jsx)("td",{children:Object(Z.jsx)("button",{className:"btn btn-sm btn-primary ver",type:"button",onClick:function(){return e.seleccionarProductoTb(t.codigoProducto)},children:Object(Z.jsx)("i",{className:"mdi mdi-send"})})})]},t.idVentas)})):null]})}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.cambiarPagina(t)},children:t},t)})):null})})})]})]})]})})]}),Object(Z.jsx)(ce.a,{style:{position:"fixed",top:20,right:20,zIndex:1060,backgroundColor:this.state.colorToast,color:"white"},onClose:function(){return e.setState({estadoToast:!1})},show:this.state.estadoToast,delay:2500,autohide:!0,children:Object(Z.jsx)(ce.a.Body,{children:Object(Z.jsx)("h3",{children:this.state.mensajeToast})})})]})}}]),a}(s.Component),Ke=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={txt_motivoCancelar:"",colorToastDanger:"rgba(205,55,55,0.7)",colorToastSuccess:"rgba(76,208,76,0.7)"},e.confirmarEliminarVenta=e.confirmarEliminarVenta.bind(Object(ae.a)(e)),e.getCambioMotivoCancelar=e.getCambioMotivoCancelar.bind(Object(ae.a)(e)),e.fetchCancelarVenta=e.fetchCancelarVenta.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"confirmarEliminarVenta",value:function(){var e=this;Object(oe.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(Z.jsx)("div",{className:"page-content container-fluid",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-12",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h1",{children:"Cancelar Venta"}),Object(Z.jsx)("p",{children:"Recuerda que al cancelar una venta, los productos en esta regresan a su respectivo almacen"}),Object(Z.jsxs)("div",{className:"form-group boton",children:[Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"Motivo de cancelar la venta"}),Object(Z.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Motivo de cancelar la venta",onChange:function(t){return e.getCambioMotivoCancelar(t)},name:"txt_motivoCancelar"})]})}),Object(Z.jsx)("br",{}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",onClick:function(){e.fetchCancelarVenta(),a()},className:"btn waves-effect waves-light btn-block btn-danger",children:"CANCELAR VENTA"})}),Object(Z.jsx)("div",{className:"col-6",children:Object(Z.jsx)("button",{type:"button",onClick:function(){a()},className:"btn waves-effect waves-light btn-block btn-info",children:"SALIR"})})]})]})]})})})})})}})}},{key:"getCambioMotivoCancelar",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"fetchCancelarVenta",value:function(){var e=this,t=K.api+"/ventas/cancelar/venta/interna";de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"CANCELANDO VENTA"})}),{position:"top-right"}).then((function(){fetch(t,{method:"POST",body:JSON.stringify({id:e.props.idVenta,motivo:e.state.txt_motivoCancelar}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.respuesta?(e.setState({txt_motivoCancelar:""}),de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"VENTA CANCELADA CORRECTAMENTE"})}),{position:"top-right"}),e.props.fetchVentaDataTabla(1,"","")):de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"HUBO UN PROBLEMA AL CANCELAR LA VENTA"})}),{position:"top-right"})}))}))}},{key:"render",value:function(){return Object(Z.jsx)("button",{style:{"margin-right":"1em"},type:"button",id:"btn_venta",onClick:this.confirmarEliminarVenta,className:"btn btn-danger btn-rounded btn-fw",children:Object(Z.jsx)("i",{className:"mdi mdi-delete"})})}}]),a}(s.Component),Qe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={venta_tb:[],addComponentFactura:!1,addComponentBoleta:!1,addComponentNuevaVenta:!1,dataFacturaReady:!1,dataBoletaReady:!1,dataNuevaVentaReady:!1,dataFactura:{},dataBoleta:{},dataNuevaVenta:{},txt_btn_venta:"Nueva Venta",tipoComprobante:"",numeroVenta:"",estadoBoton:[],numeroPagina:1,inp_cliente:"",inp_numeroVenta:""},e.addFactura=e.addFactura.bind(Object(ae.a)(e)),e.addBoleta=e.addBoleta.bind(Object(ae.a)(e)),e.addNuevaVenta=e.addNuevaVenta.bind(Object(ae.a)(e)),e.fechtDataFactura=e.fechtDataFactura.bind(Object(ae.a)(e)),e.fechtDataBoleta=e.fechtDataBoleta.bind(Object(ae.a)(e)),e.fechtDataNuevaVenta=e.fechtDataNuevaVenta.bind(Object(ae.a)(e)),e.fetchVentaDataTabla=e.fetchVentaDataTabla.bind(Object(ae.a)(e)),e.getCambioNombreCliente=e.getCambioNombreCliente.bind(Object(ae.a)(e)),e.getCambioNumeroVenta=e.getCambioNumeroVenta.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"fechtDataFactura",value:function(){var e=this;fetch(K.api+"/ventas/factura/serie",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({dataFactura:t},(function(){console.log(e.state.dataFactura),e.setState({dataFacturaReady:!0},(function(){return console.log(e.state.dataFacturaReady)}))}))}))}},{key:"fechtDataBoleta",value:function(){var e=this;fetch(K.api+"/ventas/boleta/serie",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({dataBoleta:t},(function(){console.log(e.state.dataBoleta),e.setState({dataBoletaReady:!0},(function(){return console.log(e.state.dataBoletaReady)}))}))}))}},{key:"fechtDataNuevaVenta",value:function(){var e=this;fetch(K.api+"/ventas/venta/serie",{method:"POST",body:JSON.stringify({}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){console.log("datos primeros:"),console.log(t),e.setState({sucursalId:t.sucursalId,dataNuevaVenta:t.tiposcomprobante},(function(){console.log(e.state.dataNuevaVenta),e.setState({dataNuevaVentaReady:!0,tipoComprobante:e.state.dataNuevaVenta.id,numeroVenta:e.state.dataNuevaVenta.correlativo})}))}))}},{key:"componentDidMount",value:function(){this.fechtDataFactura(),this.fechtDataBoleta(),this.fechtDataNuevaVenta(),this.fetchVentaDataTabla(1,"","")}},{key:"addFactura",value:function(){this.setState({addComponentBoleta:!1,addComponentFactura:!this.state.addComponentFactura})}},{key:"addBoleta",value:function(){this.setState({addComponentFactura:!1,addComponentBoleta:!this.state.addComponentBoleta})}},{key:"addNuevaVenta",value:function(){console.log(this.state.tipoComprobante),console.log(this.state.numeroVenta),console.log(this.state.sucursalId);var e=document.querySelector("#btn_venta"),t="";1==this.state.addComponentNuevaVenta?(e.classList.remove("btn-danger"),e.classList.add("btn-success"),t="Nueva Venta"):(e.classList.remove("btn-success"),e.classList.add("btn-danger"),t="Cancelar Venta"),this.setState({addComponentFactura:!1,addComponentBoleta:!1,addComponentNuevaVenta:!this.state.addComponentNuevaVenta,txt_btn_venta:t})}},{key:"fetchVentaDataTabla",value:function(e,t,a){var s=this;fetch(K.api+"/ventas/tb_ventas?page=".concat(e,"&bcliente=").concat(t,"&bnumeroComprobante=").concat(a),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){s.setState({venta_tb:t,numeroPagina:e},(function(){s.agregarBotones()}))}))}},{key:"getCambioNombreCliente",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({inp_cliente:a}),this.fetchVentaDataTabla(this.state.numeroPagina,a,this.state.inp_numeroVenta)}},{key:"getCambioNumeroVenta",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({inp_numeroVenta:a}),this.fetchVentaDataTabla(this.state.numeroPagina,this.state.inp_cliente,a)}},{key:"agregarBotones",value:function(){var e=this.state.venta_tb.last_page,t=[];if(e){for(var a=1;a<=e;a++)t.push(a);this.setState({estadoBoton:t})}}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"Generar tipo de venta"}),Object(Z.jsx)("button",{type:"button",id:"btn_venta",onClick:function(){return e.addNuevaVenta()},className:"btn btn-success btn-rounded btn-fw desactivado",children:Object(Z.jsxs)("span",{id:"textBoleta",children:[this.state.txt_btn_venta," "]})})]})})}),this.state.addComponentFactura&&this.state.dataFacturaReady&&Object(Z.jsx)(He,{dataFactura:this.state.dataFactura}),this.state.addComponentBoleta&&this.state.dataBoletaReady&&Object(Z.jsx)(Fe,{dataBoleta:this.state.dataBoleta}),this.state.addComponentNuevaVenta&&Object(Z.jsx)(ze,{tipoComprobante:this.state.tipoComprobante,numeroVenta:this.state.numeroVenta,sucursalId:this.state.sucursalId,addNuevaVenta:this.addNuevaVenta,fetchVentaDataTabla:this.fetchVentaDataTabla,fechtDataNuevaVenta:this.fechtDataNuevaVenta}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Buscar"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Cliente"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_cliente",id:"buscar_tb_cliente",value:this.state.inp_cliente,onChange:this.getCambioNombreCliente})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Numero de comprobante"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_numeroComprobante",onChange:this.getCambioNumeroVenta,value:this.state.inp_numeroVenta,id:"buscar_tb_numeroComprobante"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Filtro por Fechas"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",name:"buscar_tb_fecnumeroComprobante",id:"buscar_tb_fecnumeroComprobante",defaultValue:""})]})]})]})})}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"Comprobantes"}),Object(Z.jsx)("table",{id:"tb_ventas",className:"table table-striped",style:{width:"100%"},children:Object(Z.jsxs)("thead",{children:[Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"#"}),Object(Z.jsx)("th",{children:"Fecha Emisi\xf3n"}),Object(Z.jsx)("th",{children:"Cliente"}),Object(Z.jsx)("th",{children:"Tipo Comprobante"}),Object(Z.jsx)("th",{children:"N\xfamero"}),Object(Z.jsx)("th",{children:"Estado"}),Object(Z.jsx)("th",{children:"SubTotal"}),Object(Z.jsx)("th",{children:"Total"}),Object(Z.jsx)("th",{colSpan:"2",children:"Acciones"})]}),this.state.venta_tb.data?this.state.venta_tb.data.map((function(t,a){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:a}),Object(Z.jsx)("td",{children:t.fechaVentas}),Object(Z.jsx)("td",{children:t.nombreClientes}),Object(Z.jsx)("td",{children:t.nombreTiposcomprobante}),Object(Z.jsx)("td",{children:t.numeroVentas}),Object(Z.jsx)("td",{children:t.estadoSunatVentas}),Object(Z.jsx)("td",{children:t.subTotalVentas}),Object(Z.jsx)("td",{children:t.totalVentas}),Object(Z.jsxs)("td",{children:[2==t.estadoSunatVentas?Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-rounded btn-danger",children:"VENTA CANCELADA"}):Object(Z.jsx)(Ke,{idVenta:t.idVentas,fetchVentaDataTabla:e.fetchVentaDataTabla},t.idVentas),Object(Z.jsx)("a",{href:K.api+"/ventas/pdf/"+t.idVentas,target:"_blank",className:"btn btn-rounded btn-fw btn-primary ver",type:"button",children:Object(Z.jsx)("i",{className:"mdi mdi-eye"})})]})]},t.idVentas)})):null]})}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.fetchVentaDataTabla(t,e.state.inp_cliente,e.state.inp_numeroVenta)},children:t},t)})):null})})})]})})})]})}}]),a}(s.Component),qe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={tb_venta_detallada:[],estadoBoton:[],numeroPagina:1,bcodProduct:"",bnumeroComprobante:"",bdateOne:"",bdateTwo:""},e.fetchTbVentaDetallada=e.fetchTbVentaDetallada.bind(Object(ae.a)(e)),e.getCambioCodProducto=e.getCambioCodProducto.bind(Object(ae.a)(e)),e.getCambioNumeroVenta=e.getCambioNumeroVenta.bind(Object(ae.a)(e)),e.getCambioDateOne=e.getCambioDateOne.bind(Object(ae.a)(e)),e.getCambioDateTwo=e.getCambioDateTwo.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"fetchTbVentaDetallada",value:function(e,t,a,s,c){var o=this;fetch(K.api+"/ventas/tb_ventas_detalladas?page=".concat(e,"&bcodProduct=").concat(t,"&bnumeroComprobante=").concat(a,"&dateOne=").concat(s,"&dateTwo=").concat(c),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){o.state.tb_venta_detallada=t,o.setState({tb_venta_detallada:o.state.tb_venta_detallada,numeroPagina:e},(function(){o.agregarBotones()}))}))}},{key:"componentDidMount",value:function(){this.fetchTbVentaDetallada(1,"","","","")}},{key:"agregarBotones",value:function(){var e=this.state.tb_venta_detallada.last_page,t=[];if(e){for(var a=1;a<=e;a++)t.push(a);this.setState({estadoBoton:t})}}},{key:"getCambioCodProducto",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({bcodProduct:a}),this.fetchTbVentaDetallada(this.state.numeroPagina,a,this.state.bnumeroComprobante,this.state.bdateOne,this.state.bdateTwo)}},{key:"getCambioNumeroVenta",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({bnumeroComprobante:a}),this.fetchTbVentaDetallada(this.state.numeroPagina,this.state.bcodProduct,a,this.state.bdateOne,this.state.bdateTwo)}},{key:"getCambioDateOne",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({bdateOne:a}),this.fetchTbVentaDetallada(this.state.numeroPagina,this.state.bcodProduct,this.state.bnumeroComprobante,a,this.state.bdateTwo)}},{key:"getCambioDateTwo",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({bdateTwo:a}),this.fetchTbVentaDetallada(this.state.numeroPagina,this.state.bcodProduct,this.state.bnumeroComprobante,this.state.bdateOne,a)}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Buscar"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Codigo Producto"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",value:this.state.bcodProduct,onChange:this.getCambioCodProducto})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Numero de comprobante"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",value:this.state.bnumeroComprobante,onChange:this.getCambioNumeroVenta})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Desde (AAAA-MM-dd)"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",value:this.state.bdateOne,onChange:this.getCambioDateOne})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Hasta (AAAA-MM-dd)"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg",value:this.state.bdateTwo,onChange:this.getCambioDateTwo})]})]})]})})}),Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"Venta Detallada"}),Object(Z.jsx)("table",{id:"tb_ventas",className:"table table-striped",style:{width:"100%"},children:Object(Z.jsxs)("thead",{children:[Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"Sucursal"}),Object(Z.jsx)("th",{children:"Fecha Emisi\xf3n"}),Object(Z.jsx)("th",{children:"Tipo Comprobante"}),Object(Z.jsx)("th",{children:"N\xb0 Venta"}),Object(Z.jsx)("th",{children:"Codigo Producto"}),Object(Z.jsx)("th",{children:"Nombre Producto"}),Object(Z.jsx)("th",{children:"Precio"}),Object(Z.jsx)("th",{children:"Cantidad"}),Object(Z.jsx)("th",{children:"Descuento"}),Object(Z.jsx)("th",{children:"SubTotal"}),Object(Z.jsx)("th",{children:"Total"})]}),this.state.tb_venta_detallada.data?this.state.tb_venta_detallada.data.map((function(e,t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:e.nombreSucursal}),Object(Z.jsx)("td",{children:e.fechaVentas}),Object(Z.jsx)("td",{children:e.nombreTiposcomprobante}),Object(Z.jsx)("td",{children:e.numeroVentas}),Object(Z.jsx)("td",{children:e.codigoProducto}),Object(Z.jsx)("td",{children:e.nombreProducto}),Object(Z.jsx)("td",{children:e.precioProducto}),Object(Z.jsx)("td",{children:e.cantidadDetalleVenta}),Object(Z.jsx)("td",{children:e.descuentoDetalleVenta}),Object(Z.jsx)("td",{children:e.subtotalDetalleVenta}),Object(Z.jsx)("td",{children:e.totalDetalleVenta})]},e.idDetalleVenta)})):null]})}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.fetchTbVentaDetallada(t,e.state.bcodProduct,e.state.bnumeroComprobante,e.state.bdateOne,e.state.bdateTwo)},children:t},t)})):null})})})]})})})]})}}]),a}(s.Component),$e=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={codigoProductoEscaneado:"",idProductoEscaneado:0,nombreProductoEscaneado:"",stockProductoEscaneado:0,precioProductoEscaneado:0,idOrigen:"",idDestino:"",cantidadTransferir:"",motivoTransferencia:"",stockDespuesOrigen:""},e.getCambioCodigo=e.getCambioCodigo.bind(Object(ae.a)(e)),e.fetchCodigoProducto=e.fetchCodigoProducto.bind(Object(ae.a)(e)),e.getCambioCantidadTransferir=e.getCambioCantidadTransferir.bind(Object(ae.a)(e)),e.getCambioMotivoTransferencia=e.getCambioMotivoTransferencia.bind(Object(ae.a)(e)),e.getCambio=e.getCambio.bind(Object(ae.a)(e)),e.fetchCrearTransferencia=e.fetchCrearTransferencia.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.setState({idOrigen:this.props.sucursalesUsuario[0].id,idDestino:this.props.sucursales[0].id})}},{key:"getCambioCodigo",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({codigoProductoEscaneado:a}),"Enter"===e.key&&this.fetchCodigoProducto(a)}},{key:"getCambioCantidadTransferir",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({cantidadTransferir:a})}},{key:"fetchCodigoProducto",value:function(e){var t=this;de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"BUSCANDO PRODUCTO"})}),{position:"top-right"}).then((function(){fetch(K.api+"/producto/buscar",{method:"POST",body:JSON.stringify({codigoProducto:e}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){if(1==e.response){var a=e.producto;t.setState({idProductoEscaneado:a.id,nombreProductoEscaneado:a.nombre,stockProductoEscaneado:a.cantidad,precioProductoEscaneado:a.precio}),de.a.success(Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h4",{children:"PRODUCTO ESCANEADO CORRECTAMENTE"}),Object(Z.jsx)("p",{children:a.nombre})]}),{position:"top-right"})}else de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"EL CODIGO DE ESE PRODUCTO NO EXISTE"})}),{position:"top-right"})}))}))}},{key:"getCambioMotivoTransferencia",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({motivoTransferencia:a})}},{key:"fetchCrearTransferencia",value:function(){var e=this;this.props.mostrarModalDeclararTransferencia(),de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"TRANSFIRIENDO PRODUCTO"})}),{position:"top-right"}).then((function(){fetch(K.api+"/almacen/transferencias/crear",{method:"POST",body:JSON.stringify({idOrigen:e.state.idOrigen,idDestino:e.state.idDestino,idProducto:e.state.idProductoEscaneado,codigoProducto:e.state.codigoProductoEscaneado,cantidad:e.state.cantidadTransferir,motivo:e.state.motivoTransferencia,stockAntesOrigen:e.state.stockProductoEscaneado,stockDespuesOrigen:e.state.stockProductoEscaneado+e.state.cantidadTransferir}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.respuesta?(e.props.fetchSucursalesUsuario(),e.props.fetchSucursales(),de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsxs)("h4",{children:[" ",t.mensaje,"   "]})}),{position:"top-right"})):de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:t.mensaje})}),{position:"top-right"})}))}))}},{key:"getCambio",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(U.a)({},a,s))}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"card card-default",children:Object(Z.jsx)("div",{className:"modal-body",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsxs)("div",{className:"form-group",children:[Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"ORIGEN"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idOrigen",onChange:this.getCambio,children:this.props.sucursalesUsuario?this.props.sucursalesUsuario.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre},e.id)})):null})})]}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("label",{children:"DESTINO"}),Object(Z.jsx)("div",{className:"input-group",children:Object(Z.jsx)("select",{className:"form-control",name:"idDestino",onChange:this.getCambio,children:this.props.sucursales?this.props.sucursales.map((function(e){return Object(Z.jsx)("option",{value:e.id,children:e.nombre},e.id)})):null})})]})]}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-9",children:[Object(Z.jsx)("label",{children:"Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control",name:"codigoProductoEscaneado",id:"codigoProductoEscaneado",onChange:this.getCambioCodigo,onKeyDown:this.getCambioCodigo,autoFocus:!0,value:this.state.codigoProductoEscaneado})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Cantidad"}),Object(Z.jsx)("input",{type:"text",className:"form-control",onChange:this.getCambioCantidadTransferir,value:this.state.cantidadTransferir})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-7",children:[Object(Z.jsx)("label",{children:"Nombre del producto"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" ",this.state.nombreProductoEscaneado," "]})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Stock"}),Object(Z.jsxs)("h4",{className:"card-title",children:[this.state.stockProductoEscaneado," - ",this.state.cantidadTransferir," = ",this.state.stockProductoEscaneado-this.state.cantidadTransferir]})]}),Object(Z.jsxs)("div",{className:"col-2",children:[Object(Z.jsx)("label",{children:"Precio"}),Object(Z.jsxs)("h4",{className:"card-title",children:[" S/",this.state.precioProductoEscaneado," "]})]})]})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("label",{children:"MOTIVO (opcional)"}),Object(Z.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Motivo",onChange:this.getCambioMotivoTransferencia,value:this.state.motivoTransferencia})]})})})]}),Object(Z.jsx)("div",{className:"form-group boton",children:Object(Z.jsx)("button",{type:"button",className:"addexis form-control btn btn-block btn-success btn-lg",onClick:function(){return e.fetchCrearTransferencia()},children:"TRANSFERIR"})})]})})})}}]),a}(s.Component),We=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={idTransferencia:0},e.confirmarEliminarTransferencia=e.confirmarEliminarTransferencia.bind(Object(ae.a)(e)),e.fetchEliminarTransferencia=e.fetchEliminarTransferencia.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"confirmarEliminarTransferencia",value:function(e){this.setState({idTransferencia:e}),Object(oe.confirmAlert)({title:"ELIMINAR TRANSFERENCIA",message:"Una vez eliminado no hay forma de recuperarlo",buttons:[{label:"ELIMINAR",onClick:this.fetchEliminarTransferencia},{label:"CANCELAR",onClick:console.log("")}]})}},{key:"fetchEliminarTransferencia",value:function(){var e=this;console.log(this.state.idTransferencia);var t=K.api+"/almacen/transferencias/eliminar";de.a.loading(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:"ELIMINANDO TRANSFERENCIA"})}),{position:"top-right"}).then((function(){fetch(t,{method:"POST",body:JSON.stringify({idTransferencia:e.state.idTransferencia}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){1==t.respuesta?(de.a.success(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:t.mensaje})}),{position:"top-right"}),e.props.fetchTransferencias(1,"","")):de.a.error(Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{children:t.mensaje})}),{position:"top-right"})}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"REGISTRO DE TRANSFERENCIAS:"}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("div",{className:"table-responsive",children:Object(Z.jsxs)("table",{className:"table table-bordered table-striped",id:"tbl_products",children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"ORIGEN"}),Object(Z.jsx)("th",{children:"DESTINO"}),Object(Z.jsx)("th",{children:"CODIGO PRODUCTO"}),Object(Z.jsx)("th",{children:"PRODUCTO"}),Object(Z.jsx)("th",{children:"CANTIDAD"}),Object(Z.jsx)("th",{children:"OPCIONES"})]})}),Object(Z.jsx)("tbody",{children:this.props.tb_transferencias?this.props.tb_transferencias.map((function(t,a){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:t.origenTransferencia}),Object(Z.jsx)("td",{children:t.destinoTransferencia}),Object(Z.jsx)("td",{children:t.codigoProducto}),Object(Z.jsx)("td",{children:t.nombreProducto}),Object(Z.jsx)("td",{children:t.cantidadTransferida}),Object(Z.jsx)("td",{children:Object(Z.jsx)("div",{className:"button-group",children:Object(Z.jsx)("button",{type:"button",id:"btn_eliminar_transferencia",onClick:function(){return e.confirmarEliminarTransferencia(t.idTransferencia)},className:"btn waves-effect waves-light btn-rounded btn-danger",children:Object(Z.jsx)("i",{className:"mdi mdi-delete"})})})})]},t.idTransferencia)})):null})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.props.estadoBoton?this.props.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:function(){return e.props.fetchTransferencias(t,"","")},children:t},t)})):null})})})]})})]})})})}}]),a}(s.Component),Xe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Buscar"}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Codigo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Marca"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Tipo"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg"})]}),Object(Z.jsxs)("div",{className:"col-3",children:[Object(Z.jsx)("label",{children:"Buscar Nombre"}),Object(Z.jsx)("input",{type:"text",className:"form-control form-control-lg"})]})]})]})})})}}]),a}(s.Component),Ze=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={mostrarModalDeclararTransferencia:!1,sucursalesUsuario:[],sucursales:[],tb_transferencias:[],numeroPagina:"",estadoBoton:[]},e.mostrarModalDeclararTransferencia=e.mostrarModalDeclararTransferencia.bind(Object(ae.a)(e)),e.fetchSucursalesUsuario=e.fetchSucursalesUsuario.bind(Object(ae.a)(e)),e.fetchSucursales=e.fetchSucursales.bind(Object(ae.a)(e)),e.fetchTransferencias=e.fetchTransferencias.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"mostrarModalDeclararTransferencia",value:function(){this.setState({mostrarModalDeclararTransferencia:!this.state.mostrarModalDeclararTransferencia})}},{key:"componentDidMount",value:function(){this.fetchSucursalesUsuario(),this.fetchSucursales(),this.fetchTransferencias(1,"","")}},{key:"fetchSucursalesUsuario",value:function(){var e=this;fetch(K.api+"/consultar/sucursales/usuario",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({sucursalesUsuario:t.sucursales})}))}},{key:"fetchSucursales",value:function(){var e=this;fetch(K.api+"/consultar/sucursales",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){e.setState({sucursales:t.sucursales})}))}},{key:"fetchTransferencias",value:function(e,t,a){var s=this,c=K.api+"/almacen/transferencias/tb_transferencias?page=".concat(e,"&idSucursal=");fetch(c,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){s.setState({tb_transferencias:t.tb_transferencias.data,numeroPagina:e},(function(){s.setState({estadoBoton:Ve(t.tb_transferencias.last_page)})}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Modulos de agregar"}),Object(Z.jsx)("div",{className:"button-group",children:Object(Z.jsx)("button",{type:"button",className:"btn waves-effect waves-light btn-primary",onClick:function(){return e.mostrarModalDeclararTransferencia()},children:"Declarar Transferencia"})})]})})}),Object(Z.jsx)(Xe,{}),Object(Z.jsx)(We,{fetchTransferencias:this.fetchTransferencias,tb_transferencias:this.state.tb_transferencias,estadoBoton:this.state.estadoBoton}),Object(Z.jsxs)(se.a,{size:"lg",show:this.state.mostrarModalDeclararTransferencia,onHide:function(){return e.mostrarModalDeclararTransferencia()},children:[Object(Z.jsx)(se.a.Header,{closeButton:!0,children:Object(Z.jsx)(se.a.Title,{id:"example-custom-modal-styling-title",children:"Declarar Transferencia"})}),Object(Z.jsx)(se.a.Body,{children:Object(Z.jsx)($e,{mostrarModalDeclararTransferencia:this.mostrarModalDeclararTransferencia,fetchSucursalesUsuario:this.fetchSucursalesUsuario,fetchSucursales:this.fetchSucursales,sucursalesUsuario:this.state.sucursalesUsuario,sucursales:this.state.sucursales})})]})]})}}]),a}(s.Component),Ye=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"render",value:function(){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:Object(Z.jsx)("button",{className:"btn btn-rounded btn-fw btn-primary",type:"button",children:Object(Z.jsx)("i",{className:"mdi mdi-eye"})})}),Object(Z.jsx)("td",{children:this.props.nombreSurcursal}),Object(Z.jsx)("td",{children:this.props.nombreUsuario}),Object(Z.jsx)("td",{children:this.props.cierreCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroCajaVenta}),Object(Z.jsx)("td",{children:this.props.aperturaCajaVenta}),Object(Z.jsx)("td",{children:this.props.cierreCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalAperturaCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalAperturoCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalCierreCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalCerroCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroVentasTarjetaCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalVentasTarjetaCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroVentasEfectivoCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalVentasEfectivoCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroVentasCanceladasCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalVentasCanceladasCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroGastosCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalGastosCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroIngresosCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalIngresosCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroVentasCajaVenta}),Object(Z.jsx)("td",{children:this.props.totalVentasCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroItemsCajaVenta}),Object(Z.jsx)("td",{children:this.props.numeroItemsCanceladosCajaVenta}),Object(Z.jsx)("td",{children:this.props.observacionesAperturaCajaVenta}),Object(Z.jsx)("td",{children:this.props.observacionesCierreCajaVenta})]})}}]),a}(s.Component),et=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={tb_cajaVenta:[],estadoBoton:[]},e.fetchCajasVentas=e.fetchCajasVentas.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.fetchCajasVentas(1,"","")}},{key:"fetchCajasVentas",value:function(e,t,a){var s=this,c=K.api+"/cierrescajas/tb_cierreCaja?page=".concat(e,"&bcliente=").concat(t,"&bnumeroComprobante=").concat(a);fetch(c,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){s.setState({tb_cajaVenta:t.tb_cajaVenta.data,numeroPagina:e},(function(){s.setState({estadoBoton:Ve(t.tb_cajaVenta.last_page)})}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h6",{className:"card-title",children:"REGISTRO DE CUADRE DE CAJA:"}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("div",{className:"table-responsive",children:Object(Z.jsxs)("table",{className:"table table-bordered table-striped",id:"tbl_products",children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"OPCIONES"}),Object(Z.jsx)("th",{children:"SUCURSAL"}),Object(Z.jsx)("th",{children:"USUARIO"}),Object(Z.jsx)("th",{children:"ESTADO"}),Object(Z.jsx)("th",{children:"NUMERO"}),Object(Z.jsx)("th",{children:"FECHA APERTURA"}),Object(Z.jsx)("th",{children:"FECHA CIERRE"}),Object(Z.jsx)("th",{children:"APERTURA (S/)"}),Object(Z.jsx)("th",{children:"APERTURO (S/)"}),Object(Z.jsx)("th",{children:"CIERRE (S/)"}),Object(Z.jsx)("th",{children:"CERRO (S/)"}),Object(Z.jsx)("th",{children:"N\xb0 TAJERTA "}),Object(Z.jsx)("th",{children:"TARJETA (S/)"}),Object(Z.jsx)("th",{children:"N\xb0 EFECTIVO "}),Object(Z.jsx)("th",{children:"EFECTIVO (S/)"}),Object(Z.jsx)("th",{children:"N\xb0 CANCELADOS"}),Object(Z.jsx)("th",{children:"CANCELADOS (S/)"}),Object(Z.jsx)("th",{children:"N\xb0 GASTOS"}),Object(Z.jsx)("th",{children:"GASTOS (S/)"}),Object(Z.jsx)("th",{children:"N\xb0 INGRESOS"}),Object(Z.jsx)("th",{children:"INGRESOS (S/)"}),Object(Z.jsx)("th",{children:"N\xb0 VENTAS"}),Object(Z.jsx)("th",{children:"VENTAS (S/) "}),Object(Z.jsx)("th",{children:"N\xb0 ITEMS VENDIDOS"}),Object(Z.jsx)("th",{children:"N\xb0 ITEMS CANCELADOS"}),Object(Z.jsx)("th",{children:"OBSERVACIONES APERTURA "}),Object(Z.jsx)("th",{children:"OBSERVACIONES CIERRE "})]})}),Object(Z.jsx)("tbody",{children:this.state.tb_cajaVenta?this.state.tb_cajaVenta.map((function(e,t){var a;return Object(Z.jsx)(Ye,(a={nombreUsuario:e.nombreUsuario,nombreSurcursal:e.nombreSurcursal,cierreCajaVenta:e.cierreCajaVenta,numeroCajaVenta:e.numeroCajaVenta,aperturaCajaVenta:e.aperturaCajaVenta},Object(U.a)(a,"cierreCajaVenta",e.cierreCajaVenta),Object(U.a)(a,"totalAperturaCajaVenta",(1*e.totalAperturaCajaVenta).toFixed(2)),Object(U.a)(a,"totalAperturoCajaVenta",(1*e.totalAperturoCajaVenta).toFixed(2)),Object(U.a)(a,"totalCierreCajaVenta",(1*e.totalCierreCajaVenta).toFixed(2)),Object(U.a)(a,"totalCerroCajaVenta",(1*e.totalCerroCajaVenta).toFixed(2)),Object(U.a)(a,"numeroVentasTarjetaCajaVenta",e.numeroVentasTarjetaCajaVenta),Object(U.a)(a,"totalVentasTarjetaCajaVenta",(1*e.totalVentasTarjetaCajaVenta).toFixed(2)),Object(U.a)(a,"numeroVentasEfectivoCajaVenta",e.numeroVentasEfectivoCajaVenta),Object(U.a)(a,"totalVentasEfectivoCajaVenta",(1*e.totalVentasEfectivoCajaVenta).toFixed(2)),Object(U.a)(a,"numeroVentasCanceladasCajaVenta",e.numeroVentasCanceladasCajaVenta),Object(U.a)(a,"totalVentasCanceladasCajaVenta",(1*e.totalVentasCanceladasCajaVenta).toFixed(2)),Object(U.a)(a,"numeroGastosCajaVenta",e.numeroGastosCajaVenta),Object(U.a)(a,"totalGastosCajaVenta",(1*e.totalGastosCajaVenta).toFixed(2)),Object(U.a)(a,"numeroIngresosCajaVenta",e.numeroIngresosCajaVenta),Object(U.a)(a,"totalIngresosCajaVenta",(1*e.totalIngresosCajaVenta).toFixed(2)),Object(U.a)(a,"numeroVentasCajaVenta",e.numeroVentasCajaVenta),Object(U.a)(a,"totalVentasCajaVenta",(1*e.totalVentasCajaVenta).toFixed(2)),Object(U.a)(a,"numeroItemsCajaVenta",e.numeroItemsCajaVenta),Object(U.a)(a,"numeroItemsCanceladosCajaVenta",e.numeroItemsCanceladosCajaVenta),Object(U.a)(a,"observacionesAperturaCajaVenta",e.observacionesAperturaCajaVenta),Object(U.a)(a,"observacionesCierreCajaVenta",e.observacionesCierreCajaVenta),a),e.idCajaVenta)})):null})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary editar",type:"button",onClick:function(){return e.fetchCajasVentas(t,"","")},children:t},t)})):null})})})]})})]})}}]),a}(s.Component),tt=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsx)("div",{className:"card-body",children:Object(Z.jsx)(et,{})})})})})}}]),a}(s.Component),at=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={tb_gastos:[],estadoBoton:[]},e.fetchGastos=e.fetchGastos.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.fetchGastos(1,"","")}},{key:"fetchGastos",value:function(e,t,a){var s=this,c=K.api+"/caja/gastos/tb_gastos?page=".concat(e);fetch(c,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){console.log("------------------------"),console.log(t),console.log("------------------------"),s.setState({tb_gastos:t.tb_gastos.data,numeroPagina:e},(function(){s.setState({estadoBoton:Ve(t.tb_gastos.last_page)})}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"REGISTRO DE GASTOS:"}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("div",{className:"table-responsive",children:Object(Z.jsxs)("table",{className:"table table-bordered table-striped",id:"tbl_products",children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"SUCURSAL"}),Object(Z.jsx)("th",{children:"NUMERO DE LA CAJA"}),Object(Z.jsx)("th",{children:"FECHA DEL GASTO"}),Object(Z.jsx)("th",{children:"NUMERO DEL GASTO"}),Object(Z.jsx)("th",{children:"GASTO"}),Object(Z.jsx)("th",{children:"MOTIVO"})]})}),Object(Z.jsx)("tbody",{children:this.state.tb_gastos?this.state.tb_gastos.map((function(e,t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("td",{children:e.nombreSucursal}),Object(Z.jsx)("td",{children:e.numeroCajaVenta}),Object(Z.jsx)("td",{children:e.fechaGasto}),Object(Z.jsx)("td",{children:e.numeroGasto}),Object(Z.jsx)("td",{children:e.gasto}),Object(Z.jsx)("td",{children:e.motivoGasto})]},e.idGasto)})):null})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:function(){return e.fetchGastos(t,"","")},children:t},t)})):null})})})]})})]})})})}}]),a}(s.Component),st=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)(at,{})})}}]),a}(s.Component),ct=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={tb_ingresos:[],estadoBoton:[]},e.fetchIngresos=e.fetchIngresos.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.fetchIngresos(1,"","")}},{key:"fetchIngresos",value:function(e,t,a){var s=this,c=K.api+"/caja/ingresos/tb_ingresos?page=".concat(e);fetch(c,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){s.setState({tb_ingresos:t.tb_ingresos.data,numeroPagina:e},(function(){s.setState({estadoBoton:Ve(t.tb_ingresos.last_page)})}))}))}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h6",{className:"card-title",children:"REGISTRO DE INGRESOS:"}),Object(Z.jsx)("div",{className:"row",children:Object(Z.jsxs)("div",{className:"col-12",children:[Object(Z.jsx)("div",{className:"table-responsive",children:Object(Z.jsxs)("table",{className:"table table-bordered table-striped",id:"tbl_products",children:[Object(Z.jsx)("thead",{children:Object(Z.jsxs)("tr",{children:[Object(Z.jsx)("th",{children:"SUCURSAL"}),Object(Z.jsx)("th",{children:"NUMERO DE LA CAJA"}),Object(Z.jsx)("th",{children:"FECHA DEL INGRESO"}),Object(Z.jsx)("th",{children:"NUMERO DEL INGRESO"}),Object(Z.jsx)("th",{children:"INGRESO"}),Object(Z.jsx)("th",{children:"MOTIVO"})]})}),Object(Z.jsx)("tbody",{children:this.state.tb_ingresos?this.state.tb_ingresos.map((function(e,t){return Object(Z.jsxs)("tr",{children:[Object(Z.jsxs)("td",{children:[" ",e.nombreSucursal]}),Object(Z.jsxs)("td",{children:[" ",e.numeroCajaVenta]}),Object(Z.jsxs)("td",{children:[" ",e.fechaIngreso]}),Object(Z.jsxs)("td",{children:[" ",e.numeroIngreso]}),Object(Z.jsxs)("td",{children:[" ",e.ingreso]}),Object(Z.jsxs)("td",{children:[" ",e.motivoIngreso]})]},e.idIngreso)})):null})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("div",{className:"row justify-content-end",children:Object(Z.jsx)("div",{className:"col-4",children:this.state.estadoBoton?this.state.estadoBoton.map((function(t){return Object(Z.jsx)("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:function(){return e.fetchIngresos(t,"","")},children:t},t)})):null})})})]})})]})})})}}]),a}(s.Component),ot=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={},e}return Object(F.a)(a,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)(ct,{})})}}]),a}(s.Component),rt=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={estadoModalAgregarOferta:!1,idProductoEscaneado:0,codigoProductoEscaneado:"",nombreProductoEscaneado:"",stockProductoEscaneado:0,precioProductoEscaneado:0,cantidadOferta:"",nuevoPrecioOferta:"",estadoToast:!1,mensajeToast:"",colorToast:"rgba(76,208,76,0.7)"},e.getCambioCodigo=e.getCambioCodigo.bind(Object(ae.a)(e)),e.fetchCodigoProducto=e.fetchCodigoProducto.bind(Object(ae.a)(e)),e.getCambioCantidadOferta=e.getCambioCantidadOferta.bind(Object(ae.a)(e)),e.getCambioNuevoPrecio=e.getCambioNuevoPrecio.bind(Object(ae.a)(e)),e.fetchAgregarOferta=e.fetchAgregarOferta.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"modalAgregarOferta",value:function(){this.setState({estadoModalAgregarOferta:!this.state.estadoModalAgregarOferta})}},{key:"activarToast",value:function(e,t){this.setState({mensajeToast:e,colorToast:t,estadoToast:!0})}},{key:"getCambioCodigo",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({codigoProductoEscaneado:a}),"Enter"===e.key&&(console.log(a),this.fetchCodigoProducto(a))}},{key:"fetchCodigoProducto",value:function(e){var t=this;fetch(K.api+"/producto/buscar",{method:"POST",body:JSON.stringify({codigoProducto:e}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(e){if(console.log("datos:"),console.log(e),1==e.response){var a=e.producto;t.setState({idProductoEscaneado:a.id,nombreProductoEscaneado:a.nombre,stockProductoEscaneado:a.cantidad,precioProductoEscaneado:a.precio})}else t.activarToast("Producto no encontrado","rgba(205,55,55,0.7)")}))}},{key:"getCambioCantidadOferta",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({cantidadOferta:a})}},{key:"getCambioNuevoPrecio",value:function(e){var t=e.target,a=(t.name,t.value);this.setState({nuevoPrecioOferta:a})}},{key:"fetchAgregarOferta",value:function(){var e=this;fetch(K.api+"/configuraciones/descuentos/crear",{method:"POST",body:JSON.stringify({idProducto:this.state.idProductoEscaneado,precioProducto:this.state.precioProductoEscaneado,nuevoPrecio:this.state.nuevoPrecioOferta,cantidad:this.state.cantidadOferta}),headers:{Accept:"application/json","Content-Type":"application/json",usuid:localStorage.getItem("usuid")}}).then((function(e){return e.json()})).then((function(t){console.log(t),console.log(t.response),1==t.response?(e.activarToast("Oferta creada satisfactoriamente","rgba(76,208,76,0.7)"),e.modalAgregarOferta()):e.activarToast("Ocurrio un error al momento de agregar la oferta","rgba(205,55,55,0.7)")}))}},{key:"render",value:function(){var e=this;return Object(Z.jsx)("div",{className:"row",children:Object(Z.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h4",{className:"card-title",children:"Acciones"}),Object(Z.jsx)("button",{type:"button",onClick:function(){return e.modalAgregarOferta()},className:"btn btn-primary btn-rounded btn-fw",children:"Crear una oferta"})]})})})})}}]),a}(s.Component),nt=(a(224),a(131)),it=a.n(nt),dt=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this)).state={subioArchivo:!1,nombreArchivo:"",fileSeleccionado:null,cargando:!1,archivoExito:!1,enviarCambios:!1,guardarCambios:!1},e.seleccionarFile=e.seleccionarFile.bind(Object(ae.a)(e)),e.enviarCambios=e.enviarCambios.bind(Object(ae.a)(e)),e}return Object(F.a)(a,[{key:"seleccionarFile",value:function(e){console.log(localStorage.getItem("usutoken")),this.refs.subirArchivoInput.click()}},{key:"cambioInputFile",value:function(){var e=Object(G.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),t.preventDefault(),this.state.fileSeleccionado=t.target.files[0],this.setState({subioArchivo:!0,nombreArchivo:this.state.fileSeleccionado.name});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"enviarCambios",value:function(){var e=Object(G.a)(B.a.mark((function e(){var t,a,s=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({cargando:!0}),(t=new FormData).append("file",this.state.fileSeleccionado),a=K.api+"/api/versiondos/cargar-data/almacenv2",e.next=6,it.a.post(a,t,{mode:"cors",headers:{Accept:"application/json","content-type":"multipart/form-data","api-token":localStorage.getItem("usutoken"),usuid:localStorage.getItem("usuid")}}).then((function(e){1==e.data.respuesta?s.setState({archivoExito:!0}):s.setState({archivoExito:!1})})).catch((function(e){console.log(e),s.setState({cargando:!1,archivoExito:!1})}));case 6:this.setState({enviarCambios:!0,guardarCambios:!1,cargando:!1,fileSeleccionado:null}),this.eliminarArchivo();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eliminarArchivo",value:function(){this.setState({subioArchivo:!1,nombreArchivo:"",fileSeleccionado:null})}},{key:"render",value:function(){var e=this;return Object(Z.jsxs)("div",{children:[Object(Z.jsx)("input",{type:"file",id:"file",ref:"subirArchivoInput",style:{display:"none"},onChange:function(t){return e.cambioInputFile(t)}}),Object(Z.jsxs)("div",{id:"Contenedor-Card-CargarData",children:[Object(Z.jsx)("div",{id:"Titulo-Card-CargarData",children:"Cargar Almacen"}),Object(Z.jsx)("div",{id:"Botones-Card-CargarData",children:Object(Z.jsxs)("div",{children:[this.state.fileSeleccionado?Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)("div",{children:this.state.nombreArchivo})}):null,this.state.fileSeleccionado?Object(Z.jsx)("div",{id:"Btn-EnviarArchivo-CargarData",onClick:this.enviarCambios,children:"Enviar Archivo"}):Object(Z.jsx)("div",{id:"Btn-SeleccionarArchivo-CargarData",onClick:this.seleccionarFile,children:"Seleccionar Archivo"}),Object(Z.jsx)("div",{id:"Btn-DescargarFormato-CargarData",children:"Descargar Formato"})]})})]})]})}}]),a}(s.Component),lt=function(){return Object(Z.jsx)(te.a,{children:Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{className:"preloader",children:Object(Z.jsxs)("div",{className:"lds-ripple",children:[Object(Z.jsx)("div",{className:"lds-pos"}),Object(Z.jsx)("div",{className:"lds-pos"})]})}),Object(Z.jsxs)("div",{id:"main-wrapper",children:[Object(Z.jsx)(Oe,{}),Object(Z.jsx)(xe,{}),Object(Z.jsxs)("div",{className:"page-wrapper",children:[Object(Z.jsx)("div",{className:"page-breadcrumb bg-white",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-lg-3 col-md-4 col-xs-12 align-self-center",children:Object(Z.jsx)("h5",{className:"font-medium text-uppercase mb-0",children:"Dashboard"})}),Object(Z.jsx)("div",{className:"col-lg-9 col-md-8 col-xs-12 align-self-center",children:Object(Z.jsx)("nav",{"aria-label":"breadcrumb",className:"mt-2 float-md-right float-left",children:Object(Z.jsxs)("ol",{className:"breadcrumb mb-0 justify-content-end p-0 bg-white",children:[Object(Z.jsx)("li",{className:"breadcrumb-item",children:Object(Z.jsx)("a",{href:"#",children:"Home"})}),Object(Z.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Dashboard"})]})})})]})}),Object(Z.jsx)("div",{className:"page-content container-fluid",children:Object(Z.jsxs)(d.d,{children:[Object(Z.jsx)(d.b,{exac:!0,path:"/queso",component:Re}),Object(Z.jsx)(d.b,{path:"/almacen",component:ke,exact:!0}),Object(Z.jsx)(d.b,{path:"/almacen-transferencias",component:Ze}),Object(Z.jsx)(d.b,{path:"/almacen-entrada",component:Ae}),Object(Z.jsx)(d.b,{path:"/almacen-marcas",component:Ee}),Object(Z.jsx)(d.b,{path:"/almacen-proveedor",component:De}),Object(Z.jsx)(d.b,{path:"/almacen-tiposproductos",component:we}),Object(Z.jsx)(d.b,{path:"/almacen-cargar-data",component:dt}),Object(Z.jsx)(d.b,{path:"/configuracion-ofertas",component:Ie}),Object(Z.jsx)(d.b,{path:"/configuracion-usuarios",component:_e}),Object(Z.jsx)(d.b,{path:"/configuracion-carga-archivos",component:rt}),Object(Z.jsx)(d.b,{exac:!0,path:"/ventas",component:Qe}),Object(Z.jsx)(d.b,{exac:!0,path:"/ventasdetalladas",component:qe}),Object(Z.jsx)(d.b,{exac:!0,path:"/seguimientos",component:Le}),Object(Z.jsx)(d.b,{path:"/caja",component:tt,exact:!0}),Object(Z.jsx)(d.b,{path:"/caja-ingresos",component:ot}),Object(Z.jsx)(d.b,{path:"/caja-gastos",component:st})]})}),Object(Z.jsx)(ge,{})]})]})]})})};var jt=function(){Object(n.e)((function(e){return e.comunes.ComunesCargandoPagina})),Object(n.e)((function(e){return e.comunes.ComunesCargandoPaginaInicio}));var e=Object(n.e)((function(e){return e.login.LoginUsuid})),t=Object(n.d)();return Object(s.useEffect)(Object(G.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dispa"),e.next=3,t(function(){var e=Object(G.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("usuid")){e.next=6;break}return console.log("SI EXISTE"),e.next=4,t(W({usuario:localStorage.getItem("usuario"),contrasenia:localStorage.getItem("contrasenia")}));case 4:e.next=7;break;case 6:console.log("no existe");case 7:t(q(!1)),t(Q(!1));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),[e]),Object(Z.jsx)("div",{style:{position:"relative"},children:Object(Z.jsx)(X.ToastProvider,{children:Object(Z.jsx)("div",{style:{position:"absolute",width:"100%",height:"100vh"},children:Object(Z.jsxs)("div",{style:{position:"relative"},children:[null!=e?Object(Z.jsx)(lt,{}):Object(Z.jsx)(d.d,{children:Object(Z.jsx)(d.b,{exact:!0,path:"/login",component:ee})}),null!=e?null:Object(Z.jsx)(d.a,{to:"/login"})]})})})})};var ut=function(){var e=Object(j.d)(D(w),I(j.a.apply(void 0,[Object(u.a)(w)].concat(M))));return Object(Z.jsx)(n.a,{store:e,children:Object(Z.jsx)(i.a,{history:w,children:Object(Z.jsx)(d.d,{children:Object(Z.jsx)(d.b,{path:"/",component:jt})})})})},bt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ht(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var mt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,247)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),o(e),r(e)}))};r.a.render(Object(Z.jsx)(c.a.StrictMode,{children:Object(Z.jsx)(ut,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");bt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ht(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ht(t,e)}))}}(),mt()}},[[243,1,2]]]);
//# sourceMappingURL=main.905b45af.chunk.js.map